exports.id=49,exports.ids=[49],exports.modules={31153:(e,t,n)=>{"use strict";let r,i,o,s;n.r(t),n.d(t,{AggregateAuthenticationError:()=>r1,AggregateAuthenticationErrorName:()=>r0,AuthenticationError:()=>rJ,AuthenticationErrorName:()=>rX,AuthenticationRequiredError:()=>r4,AuthorizationCodeCredential:()=>aq,AzureAuthorityHosts:()=>nM,AzureCliCredential:()=>sZ,AzureDeveloperCliCredential:()=>a_,AzurePowerShellCredential:()=>s3,ChainedTokenCredential:()=>s7,ClientAssertionCredential:()=>sC,ClientCertificateCredential:()=>ao,ClientSecretCredential:()=>al,CredentialUnavailableError:()=>rQ,CredentialUnavailableErrorName:()=>rZ,DefaultAzureCredential:()=>aA,DeviceCodeCredential:()=>ax,EnvironmentCredential:()=>am,InteractiveBrowserCredential:()=>aP,ManagedIdentityCredential:()=>sj,OnBehalfOfCredential:()=>aV,UsernamePasswordCredential:()=>ah,VisualStudioCodeCredential:()=>sa,WorkloadIdentityCredential:()=>sk,deserializeAuthenticationRecord:()=>iD,getDefaultAzureCredential:()=>a$,logger:()=>r8,serializeAuthenticationRecord:()=>iR,useIdentityPlugin:()=>sc});let a={SKU:"msal.js.common",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",INVALID_INSTANCE:"invalid_instance"},l={SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR_RANGE_START:400,NOT_FOUND:404,REQUEST_TIMEOUT:408,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599},c=[a.OPENID_SCOPE,a.PROFILE_SCOPE,a.OFFLINE_ACCESS_SCOPE],u=[...c,a.EMAIL_SCOPE],h={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},d={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},f={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},p={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},m={PLAIN:"plain",S256:"S256"},g={QUERY:"query"},y={AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},_={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",GENERIC_ACCOUNT_TYPE:"Generic"},E={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},T={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},w="appmetadata",b={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:86400},v={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},S={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},A={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},I={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},C={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},O={username:"username",password:"password"},N={httpSuccess:200,httpBadRequest:400},R={FAILED_AUTO_DETECTION:"1",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},D={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},k={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},P={AZURE_POD_IDENTITY_AUTHORITY_HOST:"AZURE_POD_IDENTITY_AUTHORITY_HOST",IDENTITY_ENDPOINT:"IDENTITY_ENDPOINT",IMDS_ENDPOINT:"IMDS_ENDPOINT",MSI_ENDPOINT:"MSI_ENDPOINT"},M={USER_ASSIGNED_CLIENT_ID:"user-assigned-client-id",USER_ASSIGNED_RESOURCE_ID:"user-assigned-resource-id",USER_ASSIGNED_OBJECT_ID:"user-assigned-object-id"},L={GET:"get",POST:"post"},U={SUCCESS_RANGE_START:l.SUCCESS_RANGE_START,SUCCESS_RANGE_END:l.SUCCESS_RANGE_END,SERVER_ERROR:l.SERVER_ERROR},x={SHA256:"sha256"},F={CV_CHARSET:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~"},B={MSAL_SKU:"msal.js.node",JWT_BEARER_ASSERTION_TYPE:"urn:ietf:params:oauth:client-assertion-type:jwt-bearer",AUTHORIZATION_PENDING:"authorization_pending",HTTP_PROTOCOL:"http://",LOCALHOST:"localhost"},q={acquireTokenSilent:62,acquireTokenByUsernamePassword:371,acquireTokenByDeviceCode:671,acquireTokenByClientCredential:771,acquireTokenByCode:871,acquireTokenByRefreshToken:872},Y={RSA_256:"RS256",PSS_256:"PS256",X5T_256:"x5t#S256",X5T:"x5t",X5C:"x5c",AUDIENCE:"aud",EXPIRATION_TIME:"exp",ISSUER:"iss",SUBJECT:"sub",NOT_BEFORE:"nbf",JWT_ID:"jti"},j={INTERVAL_MS:100,TIMEOUT_MS:5e3};l.NOT_FOUND,l.REQUEST_TIMEOUT,l.TOO_MANY_REQUESTS,l.SERVER_ERROR,l.SERVICE_UNAVAILABLE,l.GATEWAY_TIMEOUT;let H="unexpected_error",V="post_request_failed",$={[H]:"Unexpected error in authentication.",[V]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};$[H],$[V];class z extends Error{constructor(e,t,n){super(t?`${e}: ${t}`:e),Object.setPrototypeOf(this,z.prototype),this.errorCode=e||a.EMPTY_STRING,this.errorMessage=t||a.EMPTY_STRING,this.subError=n||a.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}class W{constructor(e,t){this.cacheOutcome=k.NOT_APPLICABLE,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||a.EMPTY_STRING,this.wrapperVer=e.wrapperVer||a.EMPTY_STRING,this.telemetryCacheKey=S.CACHE_KEY+E.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){let e=`${this.apiId}${S.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n?.length&&t.push(`broker_error=${n}`);let r=t.join(S.VALUE_SEPARATOR),i=[e,this.getRegionDiscoveryFields()].join(S.VALUE_SEPARATOR);return[S.SCHEMA_VERSION,i,r].join(S.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){let e=this.getLastRequests(),t=W.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*t).join(S.VALUE_SEPARATOR),r=e.errors.slice(0,t).join(S.VALUE_SEPARATOR),i=e.errors.length,o=t<i?S.OVERFLOW_TRUE:S.OVERFLOW_FALSE,s=[i,o].join(S.VALUE_SEPARATOR);return[S.SCHEMA_VERSION,e.cacheHits,n,r,s].join(S.CATEGORY_SEPARATOR)}cacheFailedRequest(e){let t=this.getLastRequests();t.errors.length>=S.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof z?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(S.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId)}incrementCacheHits(){let e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){let e=this.getLastRequests(),t=W.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{let n={failedRequests:e.failedRequests.slice(2*t),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n,this.correlationId)}}static maxErrorsToSend(e){let t;let n=0,r=0,i=e.errors.length;for(t=0;t<i;t++){let i=e.failedRequests[2*t]||a.EMPTY_STRING,o=e.failedRequests[2*t+1]||a.EMPTY_STRING,s=e.errors[t]||a.EMPTY_STRING;if((r+=i.toString().length+o.toString().length+s.length+3)<S.MAX_LAST_HEADER_BYTES)n+=1;else break}return n}getRegionDiscoveryFields(){let e=[];return e.push(this.regionUsed||a.EMPTY_STRING),e.push(this.regionSource||a.EMPTY_STRING),e.push(this.regionOutcome||a.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){let t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){let e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return function(e){let{skus:t,libraryName:n,libraryVersion:r,extensionName:i,extensionVersion:o}=e,s=new Map([[0,[n,r]],[2,[i,o]]]),a=[];if(t?.length){if((a=t.split(",")).length<4)return t}else a=Array.from({length:4},()=>"|");return s.forEach((e,t)=>{2===e.length&&e[0]?.length&&e[1]?.length&&function(e){let{skuArr:t,index:n,skuName:r,skuVersion:i}=e;n>=t.length||(t[n]=[r,i].join("|"))}({skuArr:a,index:t,skuName:e[0],skuVersion:e[1]})}),a.join(",")}(e)}}let G="client_id",K="redirect_uri",Z="response_type",Q="token_type",X="req_cnf",J="return_spa_code",ee="x-client-xtra-sku",et="brk_client_id";class en extends z{constructor(e,t,n,r,i){super(e,t,n),this.name="ServerError",this.errorNo=r,this.status=i,Object.setPrototypeOf(this,en.prototype)}}!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(nP||(nP={}));class er{constructor(e,t,n){this.level=nP.Info;let r=e||er.createDefaultLoggerOptions();this.localCallback=r.loggerCallback||(()=>{}),this.piiLoggingEnabled=r.piiLoggingEnabled||!1,this.level="number"==typeof r.logLevel?r.logLevel:nP.Info,this.correlationId=r.correlationId||a.EMPTY_STRING,this.packageName=t||a.EMPTY_STRING,this.packageVersion=n||a.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:nP.Info}}clone(e,t,n){return new er({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;let n=new Date().toUTCString(),r=`[${n}] : [${t.correlationId||this.correlationId||""}]`,i=`${r} : ${this.packageName}@${this.packageVersion} : ${nP[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,i,t.containsPii||!1)}executeCallback(e,t,n){this.localCallback&&this.localCallback(e,t,n)}error(e,t){this.logMessage(e,{logLevel:nP.Error,containsPii:!1,correlationId:t||a.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:nP.Error,containsPii:!0,correlationId:t||a.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:nP.Warning,containsPii:!1,correlationId:t||a.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:nP.Warning,containsPii:!0,correlationId:t||a.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:nP.Info,containsPii:!1,correlationId:t||a.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:nP.Info,containsPii:!0,correlationId:t||a.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:nP.Verbose,containsPii:!1,correlationId:t||a.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:nP.Verbose,containsPii:!0,correlationId:t||a.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:nP.Trace,containsPii:!1,correlationId:t||a.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:nP.Trace,containsPii:!0,correlationId:t||a.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}let ei={Default:0,Adfs:1,Dsts:2,Ciam:3},eo="redirect_uri_empty",es="claims_request_parsing_error",ea="authority_uri_insecure",el="url_parse_error",ec="empty_url_error",eu="empty_input_scopes_error",eh="invalid_prompt_value",ed="invalid_claims",ef="token_request_empty",ep="logout_request_empty",em="invalid_code_challenge_method",eg="pkce_params_missing",ey="invalid_cloud_discovery_metadata",e_="invalid_authority_metadata",eE="untrusted_authority",eT="missing_ssh_jwk",ew="missing_ssh_kid",eb="missing_nonce_authentication_header",ev="invalid_authentication_header",eS="cannot_set_OIDCOptions",eA="cannot_allow_native_broker",eI="authority_mismatch",eC={[eo]:"A redirect URI is required for all calls, and none has been set.",[es]:"Could not parse the given claims request object.",[ea]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[el]:"URL could not be parsed into appropriate segments.",[ec]:"URL was empty or null.",[eu]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[eh]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[ed]:"Given claims parameter must be a stringified JSON object.",[ef]:"Token request was empty and not found in cache.",[ep]:"The logout request was null or undefined.",[em]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[eg]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[ey]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[e_]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[eE]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[eT]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[ew]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[eb]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[ev]:"Invalid authentication header provided",[eS]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[eA]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[eI]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};eC[eo],eC[es],eC[ea],eC[el],eC[ec],eC[eu],eC[eh],eC[ed],eC[ef],eC[ep],eC[em],eC[eg],eC[ey],eC[e_],eC[eE],eC[eT],eC[ew],eC[eb],eC[ev],eC[eS],eC[eA],eC[eI];class eO extends z{constructor(e){super(e,eC[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,eO.prototype)}}function eN(e){return new eO(e)}class eR{static isEmptyObj(e){if(e)try{let t=JSON.parse(e);return 0===Object.keys(t).length}catch(e){}return!0}static startsWith(e,t){return 0===e.indexOf(t)}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){let t={},n=e.split("&"),r=e=>decodeURIComponent(e.replace(/\+/g," "));return n.forEach(e=>{if(e.trim()){let[n,i]=e.split(/=(.+)/g,2);n&&i&&(t[r(n)]=r(i))}}),t}static trimArrayEntries(e){return e.map(e=>e.trim())}static removeEmptyStringsFromArray(e){return e.filter(e=>!!e)}static jsonParseHelper(e){try{return JSON.parse(e)}catch(e){return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}let eD="client_info_decoding_error",ek="client_info_empty_error",eP="token_parsing_error",eM="null_or_empty_token",eL="endpoints_resolution_error",eU="network_error",ex="openid_config_error",eF="hash_not_deserialized",eB="invalid_state",eq="state_mismatch",eY="state_not_found",ej="nonce_mismatch",eH="auth_time_not_found",eV="max_age_transpired",e$="multiple_matching_tokens",ez="multiple_matching_accounts",eW="multiple_matching_appMetadata",eG="request_cannot_be_made",eK="cannot_remove_empty_scope",eZ="cannot_append_scopeset",eQ="empty_input_scopeset",eX="device_code_polling_cancelled",eJ="device_code_expired",e0="device_code_unknown_error",e1="no_account_in_silent_request",e2="invalid_cache_record",e4="invalid_cache_environment",e8="no_account_found",e5="no_crypto_object",e6="unexpected_credential_type",e3="invalid_assertion",e9="invalid_client_credential",e7="token_refresh_required",te="user_timeout_reached",tt="token_claims_cnf_required_for_signedjwt",tn="authorization_code_missing_from_server_response",tr="binding_key_not_removed",ti="end_session_endpoint_not_supported",to="key_id_missing",ts="no_network_connectivity",ta="user_canceled",tl="missing_tenant_id_error",tc="method_not_implemented",tu="nested_app_auth_bridge_disabled",th={[eD]:"The client info could not be parsed/decoded correctly",[ek]:"The client info was empty",[eP]:"Token cannot be parsed",[eM]:"The token is null or empty",[eL]:"Endpoints cannot be resolved",[eU]:"Network request failed",[ex]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[eF]:"The hash parameters could not be deserialized",[eB]:"State was not the expected format",[eq]:"State mismatch error",[eY]:"State not found",[ej]:"Nonce mismatch error",[eH]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[eV]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[e$]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[ez]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[eW]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[eG]:"Token request cannot be made without authorization code or refresh token.",[eK]:"Cannot remove null or empty scope from ScopeSet",[eZ]:"Cannot append ScopeSet",[eQ]:"Empty input ScopeSet cannot be processed",[eX]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[eJ]:"Device code is expired.",[e0]:"Device code stopped polling for unknown reasons.",[e1]:"Please pass an account object, silent flow is not supported without account information",[e2]:"Cache record object was null or undefined.",[e4]:"Invalid environment when attempting to create cache entry",[e8]:"No account found in cache for given key.",[e5]:"No crypto object detected.",[e6]:"Unexpected credential type.",[e3]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[e9]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[e7]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[te]:"User defined timeout for device code polling reached",[tt]:"Cannot generate a POP jwt if the token_claims are not populated",[tn]:"Server response does not contain an authorization code to proceed",[tr]:"Could not remove the credential's binding key from storage.",[ti]:"The provided authority does not support logout",[to]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[ts]:"No network connectivity. Check your internet connection.",[ta]:"User cancelled the flow.",[tl]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[tc]:"This method has not been implemented",[tu]:"The nested app auth bridge is disabled"};th[eD],th[ek],th[eP],th[eM],th[eL],th[eU],th[ex],th[eF],th[eB],th[eq],th[eY],th[ej],th[eH],th[eV],th[e$],th[ez],th[eW],th[eG],th[eK],th[eZ],th[eQ],th[eX],th[eJ],th[e0],th[e1],th[e2],th[e4],th[e8],th[e5],th[e6],th[e3],th[e9],th[e7],th[te],th[tt],th[tn],th[tr],th[ti],th[to],th[ts],th[ta],th[tl],th[tu];class td extends z{constructor(e,t){super(e,t?`${th[e]}: ${t}`:th[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,td.prototype)}}function tf(e,t){return new td(e,t)}function tp(e){if(!e||0>e.indexOf("="))return null;try{let t=e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e,n=Object.fromEntries(new URLSearchParams(t));if(n.code||n.error||n.error_description||n.state)return n}catch(e){throw tf(eF)}return null}class tm{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw eN(ec);e.includes("#")||(this._urlString=tm.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return eR.endsWith(t,"?")?t=t.slice(0,-1):eR.endsWith(t,"?/")&&(t=t.slice(0,-2)),eR.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch(e){throw eN(el)}if(!e.HostNameAndPort||!e.PathSegments)throw eN(el);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw eN(ea)}static appendQueryString(e,t){return t?0>e.indexOf("?")?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return tm.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){let t=this.getUrlComponents(),n=t.PathSegments;return e&&0!==n.length&&(n[0]===d.COMMON||n[0]===d.ORGANIZATIONS)&&(n[0]=e),tm.constructAuthorityUriFromObject(t)}getUrlComponents(){let e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw eN(el);let n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]},r=n.AbsolutePath.split("/");return r=r.filter(e=>e&&e.length>0),n.PathSegments=r,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){let t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw eN(el);return n[2]}static getAbsoluteUrl(e,t){if(e[0]===a.FORWARD_SLASH){let n=new tm(t).getUrlComponents();return n.Protocol+"//"+n.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new tm(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!tp(e)}}let tg={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},ty=tg.endpointMetadata,t_=tg.instanceDiscoveryMetadata,tE=new Set;function tT(e,t,n,r){if(r?.trace(`getAliasesFromMetadata called with source: ${n}`),e&&t){let i=tw(t,e);if(i)return r?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),i.aliases;r?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function tw(e,t){for(let n=0;n<e.length;n++){let r=e[n];if(r.aliases.includes(t))return r}return null}t_.metadata.forEach(e=>{e.aliases.forEach(e=>{tE.add(e)})});let tb={AAD:"AAD",OIDC:"OIDC"},tv={None:"none"},tS={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",StandardInteractionClientInitializeAuthorizationCodeRequest:"standardInteractionClientInitializeAuthorizationCodeRequest",GetAuthCodeUrl:"getAuthCodeUrl",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",AuthClientCreateQueryString:"authClientCreateQueryString",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues"};tS.AcquireTokenByCode,tS.AcquireTokenByRefreshToken,tS.AcquireTokenSilent,tS.AcquireTokenSilentAsync,tS.AcquireTokenPopup,tS.AcquireTokenRedirect,tS.CryptoOptsGetPublicKeyThumbprint,tS.CryptoOptsSignJwt,tS.SilentCacheClientAcquireToken,tS.SilentIframeClientAcquireToken,tS.SilentRefreshClientAcquireToken,tS.SsoSilent,tS.StandardInteractionClientGetDiscoveredAuthority,tS.FetchAccountIdWithNativeBroker,tS.NativeInteractionClientAcquireToken,tS.BaseClientCreateTokenRequestHeaders,tS.NetworkClientSendPostRequestAsync,tS.RefreshTokenClientExecutePostToTokenEndpoint,tS.AuthorizationCodeClientExecutePostToTokenEndpoint,tS.BrokerHandhshake,tS.AcquireTokenByRefreshTokenInBroker,tS.AcquireTokenByBroker,tS.RefreshTokenClientExecuteTokenRequest,tS.RefreshTokenClientAcquireToken,tS.RefreshTokenClientAcquireTokenWithCachedRefreshToken,tS.RefreshTokenClientAcquireTokenByRefreshToken,tS.RefreshTokenClientCreateTokenRequestBody,tS.AcquireTokenFromCache,tS.SilentFlowClientAcquireCachedToken,tS.SilentFlowClientGenerateResultFromCacheRecord,tS.AcquireTokenBySilentIframe,tS.InitializeBaseRequest,tS.InitializeSilentRequest,tS.InitializeClientApplication,tS.SilentIframeClientTokenHelper,tS.SilentHandlerInitiateAuthRequest,tS.SilentHandlerMonitorIframeForHash,tS.SilentHandlerLoadFrame,tS.SilentHandlerLoadFrameSync,tS.StandardInteractionClientCreateAuthCodeClient,tS.StandardInteractionClientGetClientConfiguration,tS.StandardInteractionClientInitializeAuthorizationRequest,tS.StandardInteractionClientInitializeAuthorizationCodeRequest,tS.GetAuthCodeUrl,tS.HandleCodeResponseFromServer,tS.HandleCodeResponse,tS.UpdateTokenEndpointAuthority,tS.AuthClientAcquireToken,tS.AuthClientExecuteTokenRequest,tS.AuthClientCreateTokenRequestBody,tS.AuthClientCreateQueryString,tS.PopTokenGenerateCnf,tS.PopTokenGenerateKid,tS.HandleServerTokenResponse,tS.DeserializeResponse,tS.AuthorityFactoryCreateDiscoveredInstance,tS.AuthorityResolveEndpointsAsync,tS.AuthorityResolveEndpointsFromLocalSources,tS.AuthorityGetCloudDiscoveryMetadataFromNetwork,tS.AuthorityUpdateCloudDiscoveryMetadata,tS.AuthorityGetEndpointMetadataFromNetwork,tS.AuthorityUpdateEndpointMetadata,tS.AuthorityUpdateMetadataWithRegionalInformation,tS.RegionDiscoveryDetectRegion,tS.RegionDiscoveryGetRegionFromIMDS,tS.RegionDiscoveryGetCurrentVersion,tS.AcquireTokenByCodeAsync,tS.GetEndpointMetadataFromNetwork,tS.GetCloudDiscoveryMetadataFromNetworkMeasurement,tS.HandleRedirectPromiseMeasurement,tS.HandleNativeRedirectPromiseMeasurement,tS.UpdateCloudDiscoveryMetadataMeasurement,tS.UsernamePasswordClientAcquireToken,tS.NativeMessageHandlerHandshake,tS.NativeGenerateAuthResult,tS.RemoveHiddenIframe,tS.ClearTokensAndKeysWithClaims,tS.CacheManagerGetRefreshToken,tS.GeneratePkceCodes,tS.GenerateCodeVerifier,tS.GenerateCodeChallengeFromVerifier,tS.Sha256Digest,tS.GetRandomValues;let tA=(e,t,n,r,i)=>(...o)=>{n.trace(`Executing function ${t}`);let s=r?.startMeasurement(t,i);i&&r?.incrementFields({[t+"CallCount"]:1},i);try{let r=e(...o);return s?.end({success:!0}),n.trace(`Returning result from ${t}`),r}catch(e){n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(e))}catch(e){n.trace("Unable to print error message.")}throw s?.end({success:!1},e),e}},tI=(e,t,n,r,i)=>(...o)=>{n.trace(`Executing function ${t}`);let s=r?.startMeasurement(t,i);return i&&r?.incrementFields({[t+"CallCount"]:1},i),r?.setPreQueueTime(t,i),e(...o).then(e=>(n.trace(`Returning result from ${t}`),s?.end({success:!0}),e)).catch(e=>{n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(e))}catch(e){n.trace("Unable to print error message.")}throw s?.end({success:!1},e),e})};class tC{constructor(e,t,n,r){this.networkInterface=e,this.logger=t,this.performanceClient=n,this.correlationId=r}async detectRegion(e,t){this.performanceClient?.addQueueMeasurement(tS.RegionDiscoveryDetectRegion,this.correlationId);let n=e;if(n)t.region_source=R.ENVIRONMENT_VARIABLE;else{let e=tC.IMDS_OPTIONS;try{let r=await tI(this.getRegionFromIMDS.bind(this),tS.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(a.IMDS_VERSION,e);if(r.status===N.httpSuccess&&(n=r.body,t.region_source=R.IMDS),r.status===N.httpBadRequest){let r=await tI(this.getCurrentVersion.bind(this),tS.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(e);if(!r)return t.region_source=R.FAILED_AUTO_DETECTION,null;let i=await tI(this.getRegionFromIMDS.bind(this),tS.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(r,e);i.status===N.httpSuccess&&(n=i.body,t.region_source=R.IMDS)}}catch(e){return t.region_source=R.FAILED_AUTO_DETECTION,null}}return n||(t.region_source=R.FAILED_AUTO_DETECTION),n||null}async getRegionFromIMDS(e,t){return this.performanceClient?.addQueueMeasurement(tS.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${a.IMDS_ENDPOINT}?api-version=${e}&format=text`,t,a.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(tS.RegionDiscoveryGetCurrentVersion,this.correlationId);try{let t=await this.networkInterface.sendGetRequestAsync(`${a.IMDS_ENDPOINT}?format=json`,e);if(t.status===N.httpBadRequest&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0)return t.body["newest-versions"][0];return null}catch(e){return null}}}function tO(e,t){let n=function(e){if(!e)throw tf(eM);let t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw tf(eP);return t[2]}(e);try{let e=t(n);return JSON.parse(e)}catch(e){throw tf(eP)}}function tN(e,t){if(0===t||Date.now()-3e5>e+t)throw tf(eV)}function tR(){return Math.round(new Date().getTime()/1e3)}function tD(e,t){let n=Number(e)||0;return tR()+t>n}function tk(e){return[[e.homeAccountId,e.environment].join(E.CACHE_KEY_SEPARATOR).toLowerCase(),function(e){let t=e.credentialType===T.REFRESH_TOKEN&&e.familyId||e.clientId;return[e.credentialType,t,e.realm||""].join(E.CACHE_KEY_SEPARATOR).toLowerCase()}(e),(e.target||"").toLowerCase(),(e.requestedClaimsHash||"").toLowerCase(),e.tokenType&&e.tokenType.toLowerCase()!==A.BEARER.toLowerCase()?e.tokenType.toLowerCase():""].join(E.CACHE_KEY_SEPARATOR).toLowerCase()}function tP(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function tM(e){return!!e&&tP(e)&&e.hasOwnProperty("realm")&&e.hasOwnProperty("target")&&(e.credentialType===T.ACCESS_TOKEN||e.credentialType===T.ACCESS_TOKEN_WITH_AUTH_SCHEME)}function tL(e){return!!e&&tP(e)&&e.hasOwnProperty("realm")&&e.credentialType===T.ID_TOKEN}function tU(e){return!!e&&tP(e)&&e.credentialType===T.REFRESH_TOKEN}function tx(e,t){return!!t&&0===e.indexOf(w)&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment")}function tF(){return tR()+b.REFRESH_TIME_SECONDS}function tB(e,t,n){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=n,e.jwks_uri=t.jwks_uri}function tq(e,t,n){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=n}function tY(e){return e.expiresAt<=tR()}tC.IMDS_OPTIONS={headers:{Metadata:"true"}};class tj{constructor(e,t,n,r,i,o,s,a){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=i,this.performanceClient=s,this.correlationId=o,this.managedIdentity=a||!1,this.regionDiscovery=new tC(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(a.CIAM_AUTH_URL))return ei.Ciam;let t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case a.ADFS:return ei.Adfs;case a.DSTS:return ei.Dsts}return ei.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new tm(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw tf(eL)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw tf(eL)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw tf(eL)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw tf(ti);return this.replacePath(this.metadata.end_session_endpoint)}throw tf(eL)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw tf(eL)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw tf(eL)}canReplaceTenant(e){return 1===e.PathSegments.length&&!tj.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===ei.Default&&this.protocolMode===tb.AAD}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e,n=new tm(this.metadata.canonical_authority).getUrlComponents(),r=n.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((e,i)=>{let o=r[i];if(0===i&&this.canReplaceTenant(n)){let e=new tm(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];o!==e&&(this.logger.verbose(`Replacing tenant domain name ${o} with id ${e}`),o=e)}e!==o&&(t=t.replace(`/${o}/`,`/${e}/`))}),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){let e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===ei.Adfs||this.protocolMode!==tb.AAD&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(tS.AuthorityResolveEndpointsAsync,this.correlationId);let e=this.getCurrentMetadataEntity(),t=await tI(this.updateCloudDiscoveryMetadata.bind(this),tS.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);let n=await tI(this.updateEndpointMetadata.bind(this),tS.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:n}),this.performanceClient?.addFields({cloudDiscoverySource:t,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:tF(),jwks_uri:""}),e}updateCachedMetadata(e,t,n){t!==v.CACHE&&n?.source!==v.CACHE&&(e.expiresAt=tF(),e.canonical_authority=this.canonicalAuthority);let r=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(r,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(tS.AuthorityUpdateEndpointMetadata,this.correlationId);let t=this.updateEndpointMetadataFromLocalSources(e);if(t)return t.source===v.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&t.metadata&&(tB(e,await tI(this.updateMetadataWithRegionalInformation.bind(this),tS.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(t.metadata),!1),e.canonical_authority=this.canonicalAuthority),t.source;let n=await tI(this.getEndpointMetadataFromNetwork.bind(this),tS.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(n=await tI(this.updateMetadataWithRegionalInformation.bind(this),tS.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n)),tB(e,n,!0),v.NETWORK;throw tf(ex,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");let t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),tB(e,t,!1),{source:v.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{let t=this.getEndpointMetadataFromHardcodedValues();if(t)return tB(e,t,!1),{source:v.HARDCODED_VALUES,metadata:t};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}let n=tY(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:v.CACHE}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new tm(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw eN(e_)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(tS.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);let e=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${e}`);try{var t;let n=await this.networkInterface.sendGetRequestAsync(e,{});if((t=n.body).hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("jwks_uri"))return n.body;return this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null}catch(e){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${e}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in ty?ty[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(tS.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);let t=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(t){if(t!==a.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=D.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=t,tj.replaceWithRegionalInformation(e,t);let n=await tI(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),tS.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(n)return this.regionDiscoveryMetadata.region_outcome=D.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=n,tj.replaceWithRegionalInformation(e,n);this.regionDiscoveryMetadata.region_outcome=D.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(tS.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);let t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;let n=await tI(this.getCloudDiscoveryMetadataFromNetwork.bind(this),tS.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return tq(e,n,!0),v.NETWORK;throw eN(eE)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||a.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||a.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||a.NOT_APPLICABLE}`);let t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),tq(e,t,!1),v.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{var n;let t=(n=this.hostnameAndPort,tw(t_.metadata,n));if(t)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),tq(e,t,!1),v.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}let r=tY(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),v.CACHE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===ei.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),tj.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");let e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),t=tw(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),t)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),t;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(e){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),eN(ey)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),tj.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(tS.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);let e=`${a.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t=null;try{var n,r;let i,o;let s=await this.networkInterface.sendGetRequestAsync(e,{});if((n=s.body).hasOwnProperty("tenant_discovery_endpoint")&&n.hasOwnProperty("metadata"))o=(i=s.body).metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${i.tenant_discovery_endpoint}`);else{if(!((r=s.body).hasOwnProperty("error")&&r.hasOwnProperty("error_description")))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${s.status}`),(i=s.body).error===a.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${i.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${i.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),o=[]}this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),t=tw(o,this.hostnameAndPort)}catch(e){return e instanceof z?this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${e.errorCode}
Error Description: ${e.errorMessage}`):this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${e.name}
Error Description: ${e.message}`),null}return t||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),t=tj.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),t}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(e=>e&&tm.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,t){let n;if(t&&t.azureCloudInstance!==tv.None){let e=t.tenant?t.tenant:a.DEFAULT_COMMON_TENANT;n=`${t.azureCloudInstance}/${e}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return a.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw tf(eL)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return tE.has(e)}static isPublicCloudAuthority(e){return a.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,n){let r=new tm(e);r.validateAsUri();let i=r.getUrlComponents(),o=`${t}.${i.HostNameAndPort}`;this.isPublicCloudAuthority(i.HostNameAndPort)&&(o=`${t}.${a.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);let s=tm.constructAuthorityUriFromObject({...r.getUrlComponents(),HostNameAndPort:o}).urlString;return n?`${s}?${n}`:s}static replaceWithRegionalInformation(e,t){let n={...e};return n.authorization_endpoint=tj.buildRegionalAuthorityString(n.authorization_endpoint,t),n.token_endpoint=tj.buildRegionalAuthorityString(n.token_endpoint,t),n.end_session_endpoint&&(n.end_session_endpoint=tj.buildRegionalAuthorityString(n.end_session_endpoint,t)),n}static transformCIAMAuthority(e){let t=e,n=new tm(e).getUrlComponents();if(0===n.PathSegments.length&&n.HostNameAndPort.endsWith(a.CIAM_AUTH_URL)){let e=n.HostNameAndPort.split(".")[0];t=`${t}${e}${a.AAD_TENANT_DOMAIN_SUFFIX}`}return t}}function tH(e){return e.endsWith(a.FORWARD_SLASH)?e:`${e}${a.FORWARD_SLASH}`}tj.reservedTenantDomains=new Set(["{tenant}","{tenantid}",d.COMMON,d.CONSUMERS,d.ORGANIZATIONS]);let tV={createNewGuid:()=>{throw tf(tc)},base64Decode:()=>{throw tf(tc)},base64Encode:()=>{throw tf(tc)},base64UrlEncode:()=>{throw tf(tc)},encodeKid:()=>{throw tf(tc)},async getPublicKeyThumbprint(){throw tf(tc)},async removeTokenBindingKey(){throw tf(tc)},async clearKeystore(){throw tf(tc)},async signJwt(){throw tf(tc)},async hashString(){throw tf(tc)}},t$="@azure/msal-common",tz="14.16.1";class tW{constructor(e){let t=e?eR.trimArrayEntries([...e]):[],n=t?eR.removeEmptyStringsFromArray(t):[];this.validateInputScopes(n),this.scopes=new Set,n.forEach(e=>this.scopes.add(e))}static fromString(e){return new tW((e||a.EMPTY_STRING).split(" "))}static createSearchScopes(e){let t=new tW(e);return t.containsOnlyOIDCScopes()?t.removeScope(a.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}validateInputScopes(e){if(!e||e.length<1)throw eN(eu)}containsScope(e){let t=new tW(this.printScopesLowerCase().split(" "));return!!e&&t.scopes.has(e.toLowerCase())}containsScopeSet(e){return!!e&&!(e.scopes.size<=0)&&this.scopes.size>=e.scopes.size&&e.asArray().every(e=>this.containsScope(e))}containsOnlyOIDCScopes(){let e=0;return u.forEach(t=>{this.containsScope(t)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(e=>this.appendScope(e))}catch(e){throw tf(eZ)}}removeScope(e){if(!e)throw tf(eK);this.scopes.delete(e.trim())}removeOIDCScopes(){u.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw tf(eQ);let t=new Set;return e.scopes.forEach(e=>t.add(e.toLowerCase())),this.scopes.forEach(e=>t.add(e.toLowerCase())),t}intersectingScopeSets(e){if(!e)throw tf(eQ);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();let t=this.unionScopeSets(e),n=e.getScopeCount(),r=this.getScopeCount();return t.size<r+n}getScopeCount(){return this.scopes.size}asArray(){let e=[];return this.scopes.forEach(t=>e.push(t)),e}printScopes(){return this.scopes?this.asArray().join(" "):a.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function tG(e,t){if(!e)throw tf(ek);try{let n=t(e);return JSON.parse(n)}catch(e){throw tf(eD)}}function tK(e){if(!e)throw tf(eD);let t=e.split(E.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?a.EMPTY_STRING:t[1]}}function tZ(e,t){return!!e&&!!t&&e===t.split(".")[1]}function tQ(e,t,n,r){if(!r)return{tenantId:n,localAccountId:t,isHomeTenant:tZ(n,e)};{let{oid:t,sub:n,tid:i,name:o,tfp:s,acr:a}=r,l=i||s||a||"";return{tenantId:l,localAccountId:t||n||"",name:o,isHomeTenant:tZ(l,e)}}}function tX(e,t,n,r){let i=e;if(t){let{isHomeTenant:n,...r}=t;i={...e,...r}}if(n){let{isHomeTenant:t,...o}=tQ(e.homeAccountId,e.localAccountId,e.tenantId,n);i={...i,...o,idTokenClaims:n,idToken:r}}return i}function tJ(e){return e&&(e.tid||e.tfp||e.acr)||null}class t0{generateAccountId(){return[this.homeAccountId,this.environment].join(E.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return t0.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){let t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(E.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,t,n){let r;let i=new t0;t.authorityType===ei.Adfs?i.authorityType=_.ADFS_ACCOUNT_TYPE:t.protocolMode===tb.AAD?i.authorityType=_.MSSTS_ACCOUNT_TYPE:i.authorityType=_.GENERIC_ACCOUNT_TYPE,e.clientInfo&&n&&(r=tG(e.clientInfo,n)),i.clientInfo=e.clientInfo,i.homeAccountId=e.homeAccountId,i.nativeAccountId=e.nativeAccountId;let o=e.environment||t&&t.getPreferredCache();if(!o)throw tf(e4);i.environment=o,i.realm=r?.utid||tJ(e.idTokenClaims)||"",i.localAccountId=r?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";let s=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,a=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(i.username=s||a||"",i.name=e.idTokenClaims?.name||"",i.cloudGraphHostName=e.cloudGraphHostName,i.msGraphHost=e.msGraphHost,e.tenantProfiles)i.tenantProfiles=e.tenantProfiles;else{let t=tQ(e.homeAccountId,i.localAccountId,i.realm,e.idTokenClaims);i.tenantProfiles=[t]}return i}static createFromAccountInfo(e,t,n){let r=new t0;return r.authorityType=e.authorityType||_.GENERIC_ACCOUNT_TYPE,r.homeAccountId=e.homeAccountId,r.localAccountId=e.localAccountId,r.nativeAccountId=e.nativeAccountId,r.realm=e.tenantId,r.environment=e.environment,r.username=e.username,r.name=e.name,r.cloudGraphHostName=t,r.msGraphHost=n,r.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),r}static generateHomeAccountId(e,t,n,r,i){if(!(t===ei.Adfs||t===ei.Dsts)){if(e)try{let t=tG(e,r.base64Decode);if(t.uid&&t.utid)return`${t.uid}.${t.utid}`}catch(e){}n.warning("No client info in response")}return i?.sub||""}static isAccountEntity(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType")}static accountInfoIsEqual(e,t,n){if(!e||!t)return!1;let r=!0;if(n){let n=e.idTokenClaims||{},i=t.idTokenClaims||{};r=n.iat===i.iat&&n.nonce===i.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&r}}let t1="cache_quota_exceeded",t2="cache_error_unknown",t4={[t1]:"Exceeded cache storage capacity.",[t2]:"Unexpected error occurred when using cache storage."};class t8 extends Error{constructor(e,t){let n=t||(t4[e]?t4[e]:t4[t2]);super(`${e}: ${n}`),Object.setPrototypeOf(this,t8.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}}class t5{constructor(e,t,n,r){this.clientId=e,this.cryptoImpl=t,this.commonLogger=n.clone(t$,tz),this.staticAuthorityOptions=r}getAllAccounts(e,t){return this.buildTenantProfiles(this.getAccountsFilteredBy(t||{},e),e,t)}getAccountInfoFilteredBy(e,t){let n=this.getAllAccounts(t,e);return n.length>1?n.sort(e=>e.idTokenClaims?-1:1)[0]:1===n.length?n[0]:null}getBaseAccountInfo(e,t){let n=this.getAccountsFilteredBy(e,t);return n.length>0?n[0].getAccountInfo():null}buildTenantProfiles(e,t,n){return e.flatMap(e=>this.getTenantProfilesFromAccountEntity(e,t,n?.tenantId,n))}getTenantedAccountInfoByFilter(e,t,n,r,i){let o;if(i&&!this.tenantProfileMatchesFilter(n,i))return null;let s=this.getIdToken(e,r,t,n.tenantId);return s&&(o=tO(s.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(o,i))?null:tX(e,n,o,s?.secret)}getTenantProfilesFromAccountEntity(e,t,n,r){let i=e.getAccountInfo(),o=i.tenantProfiles||new Map,s=this.getTokenKeys();if(n){let e=o.get(n);if(!e)return[];o=new Map([[n,e]])}let a=[];return o.forEach(e=>{let n=this.getTenantedAccountInfoByFilter(i,s,e,t,r);n&&a.push(n)}),a}tenantProfileMatchesFilter(e,t){return(!t.localAccountId||!!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId))&&(!t.name||e.name===t.name)&&(void 0===t.isHomeTenant||e.isHomeTenant===t.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,t){return!t||(!t.localAccountId||!!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId))&&(!t.loginHint||!!this.matchLoginHintFromTokenClaims(e,t.loginHint))&&(!t.username||!!this.matchUsername(e.preferred_username,t.username))&&(!t.name||!!this.matchName(e,t.name))&&(!t.sid||!!this.matchSid(e,t.sid))}async saveCacheRecord(e,t,n){if(!e)throw tf(e2);try{e.account&&this.setAccount(e.account,t),e.idToken&&n?.idToken!==!1&&this.setIdTokenCredential(e.idToken,t),e.accessToken&&n?.accessToken!==!1&&await this.saveAccessToken(e.accessToken,t),e.refreshToken&&n?.refreshToken!==!1&&this.setRefreshTokenCredential(e.refreshToken,t),e.appMetadata&&this.setAppMetadata(e.appMetadata,t)}catch(e){if(this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),e instanceof z)throw e;throw e instanceof Error?"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||e.message.includes("exceeded the quota")?new t8(t1):new t8(e.name,e.message):new t8(t2)}}async saveAccessToken(e,t){let n={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},r=this.getTokenKeys(),i=tW.fromString(e.target);r.accessToken.forEach(e=>{if(!this.accessTokenKeyMatchesFilter(e,n,!1))return;let r=this.getAccessTokenCredential(e,t);r&&this.credentialMatchesFilter(r,n)&&tW.fromString(r.target).intersectingScopeSets(i)&&this.removeAccessToken(e,t)}),this.setAccessTokenCredential(e,t)}getAccountsFilteredBy(e,t){let n=this.getAccountKeys(),r=[];return n.forEach(n=>{if(!this.isAccountKey(n,e.homeAccountId))return;let i=this.getAccount(n,t,this.commonLogger);if(!i||e.homeAccountId&&!this.matchHomeAccountId(i,e.homeAccountId)||e.username&&!this.matchUsername(i.username,e.username)||e.environment&&!this.matchEnvironment(i,e.environment)||e.realm&&!this.matchRealm(i,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(i,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(i,e.authorityType))return;let o={localAccountId:e?.localAccountId,name:e?.name},s=i.tenantProfiles?.filter(e=>this.tenantProfileMatchesFilter(e,o));s&&0===s.length||r.push(i)}),r}isAccountKey(e,t,n){return!(e.split(E.CACHE_KEY_SEPARATOR).length<3)&&(!t||!!e.toLowerCase().includes(t.toLowerCase()))&&(!n||!!e.toLowerCase().includes(n.toLowerCase()))}isCredentialKey(e){if(e.split(E.CACHE_KEY_SEPARATOR).length<6)return!1;let t=e.toLowerCase();if(-1===t.indexOf(T.ID_TOKEN.toLowerCase())&&-1===t.indexOf(T.ACCESS_TOKEN.toLowerCase())&&-1===t.indexOf(T.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===t.indexOf(T.REFRESH_TOKEN.toLowerCase()))return!1;if(t.indexOf(T.REFRESH_TOKEN.toLowerCase())>-1){let e=`${T.REFRESH_TOKEN}${E.CACHE_KEY_SEPARATOR}${this.clientId}${E.CACHE_KEY_SEPARATOR}`,n=`${T.REFRESH_TOKEN}${E.CACHE_KEY_SEPARATOR}1${E.CACHE_KEY_SEPARATOR}`;if(-1===t.indexOf(e.toLowerCase())&&-1===t.indexOf(n.toLowerCase()))return!1}else if(-1===t.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(e,t){return(!t.clientId||!!this.matchClientId(e,t.clientId))&&(!t.userAssertionHash||!!this.matchUserAssertionHash(e,t.userAssertionHash))&&("string"!=typeof t.homeAccountId||!!this.matchHomeAccountId(e,t.homeAccountId))&&(!t.environment||!!this.matchEnvironment(e,t.environment))&&(!t.realm||!!this.matchRealm(e,t.realm))&&(!t.credentialType||!!this.matchCredentialType(e,t.credentialType))&&(!t.familyId||!!this.matchFamilyId(e,t.familyId))&&(!t.target||!!this.matchTarget(e,t.target))&&(!t.requestedClaimsHash&&!e.requestedClaimsHash||e.requestedClaimsHash===t.requestedClaimsHash)&&(e.credentialType!==T.ACCESS_TOKEN_WITH_AUTH_SCHEME||(!t.tokenType||!!this.matchTokenType(e,t.tokenType))&&(t.tokenType!==A.SSH||!t.keyId||!!this.matchKeyId(e,t.keyId)))}getAppMetadataFilteredBy(e){let t=this.getKeys(),n={};return t.forEach(t=>{if(!this.isAppMetadata(t))return;let r=this.getAppMetadata(t);r&&(!e.environment||this.matchEnvironment(r,e.environment))&&(!e.clientId||this.matchClientId(r,e.clientId))&&(n[t]=r)}),n}getAuthorityMetadataByAlias(e){let t=this.getAuthorityMetadataKeys(),n=null;return t.forEach(t=>{if(!this.isAuthorityMetadata(t)||-1===t.indexOf(this.clientId))return;let r=this.getAuthorityMetadata(t);r&&-1!==r.aliases.indexOf(e)&&(n=r)}),n}async removeAllAccounts(e){let t=this.getAccountKeys(),n=[];t.forEach(t=>{n.push(this.removeAccount(t,e))}),await Promise.all(n)}async removeAccount(e,t){let n=this.getAccount(e,t,this.commonLogger);n&&(await this.removeAccountContext(n,t),this.removeItem(e,t))}async removeAccountContext(e,t){let n=this.getTokenKeys(),r=e.generateAccountId();n.idToken.forEach(e=>{0===e.indexOf(r)&&this.removeIdToken(e,t)}),n.accessToken.forEach(e=>{0===e.indexOf(r)&&this.removeAccessToken(e,t)}),n.refreshToken.forEach(e=>{0===e.indexOf(r)&&this.removeRefreshToken(e,t)}),this.getKeys().forEach(e=>{e.includes(r)&&this.removeItem(e,t)})}updateOutdatedCachedAccount(e,t,n,r){if(t&&t.isSingleTenant()){this.commonLogger?.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");let i=this.getAccountKeys().filter(e=>e.startsWith(t.homeAccountId)),o=[];i.forEach(e=>{let t=this.getCachedAccountEntity(e,n);t&&o.push(t)});let s=o.find(e=>tZ(e.realm,e.homeAccountId))||o[0];s.tenantProfiles=o.map(e=>({tenantId:e.realm,localAccountId:e.localAccountId,name:e.name,isHomeTenant:tZ(e.realm,e.homeAccountId)}));let a=t5.toObject(new t0,{...s}),l=a.generateAccountKey();return i.forEach(t=>{t!==l&&this.removeOutdatedAccount(e,n)}),this.setAccount(a,n),r?.verbose("Updated an outdated account entity in the cache"),a}return t}removeAccessToken(e,t){let n=this.getAccessTokenCredential(e,t);if(this.removeItem(e,t),!n||n.credentialType.toLowerCase()!==T.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||n.tokenType!==A.POP)return;let r=n.keyId;r&&this.cryptoImpl.removeTokenBindingKey(r).catch(()=>{this.commonLogger.error("Binding key could not be removed")})}removeAppMetadata(e){return this.getKeys().forEach(t=>{this.isAppMetadata(t)&&this.removeItem(t,e)}),!0}readAccountFromCache(e,t){let n=t0.generateAccountCacheKey(e);return this.getAccount(n,t,this.commonLogger)}getIdToken(e,t,n,r,i){this.commonLogger.trace("CacheManager - getIdToken called");let o={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:T.ID_TOKEN,clientId:this.clientId,realm:r},s=this.getIdTokensByFilter(o,t,n),a=s.size;if(a<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(a>1){let n=s;if(!r){let t=new Map;s.forEach((n,r)=>{n.realm===e.tenantId&&t.set(r,n)});let r=t.size;if(r<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),s.values().next().value;if(1===r)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),t.values().next().value;n=t}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),n.forEach((e,n)=>{this.removeIdToken(n,t)}),i&&t&&i.addFields({multiMatchedID:s.size},t),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),s.values().next().value}getIdTokensByFilter(e,t,n){let r=n&&n.idToken||this.getTokenKeys().idToken,i=new Map;return r.forEach(n=>{if(!this.idTokenKeyMatchesFilter(n,{clientId:this.clientId,...e}))return;let r=this.getIdTokenCredential(n,t);r&&this.credentialMatchesFilter(r,e)&&i.set(n,r)}),i}idTokenKeyMatchesFilter(e,t){let n=e.toLowerCase();return(!t.clientId||-1!==n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase()))}removeIdToken(e,t){this.removeItem(e,t)}removeRefreshToken(e,t){this.removeItem(e,t)}getAccessToken(e,t,n,r,i){this.commonLogger.trace("CacheManager - getAccessToken called");let o=tW.createSearchScopes(t.scopes),s=t.authenticationScheme||A.BEARER,a=s&&s.toLowerCase()!==A.BEARER.toLowerCase()?T.ACCESS_TOKEN_WITH_AUTH_SCHEME:T.ACCESS_TOKEN,l={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:a,clientId:this.clientId,realm:r||e.tenantId,target:o,tokenType:s,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},c=n&&n.accessToken||this.getTokenKeys().accessToken,u=[];c.forEach(e=>{if(this.accessTokenKeyMatchesFilter(e,l,!0)){let n=this.getAccessTokenCredential(e,t.correlationId);n&&this.credentialMatchesFilter(n,l)&&u.push(n)}});let h=u.length;return h<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):h>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),u.forEach(e=>{this.removeAccessToken(tk(e),t.correlationId)}),i&&t.correlationId&&i.addFields({multiMatchedAT:u.length},t.correlationId),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),u[0])}accessTokenKeyMatchesFilter(e,t,n){let r=e.toLowerCase();if(t.clientId&&-1===r.indexOf(t.clientId.toLowerCase())||t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase())||t.realm&&-1===r.indexOf(t.realm.toLowerCase())||t.requestedClaimsHash&&-1===r.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target){let e=t.target.asArray();for(let t=0;t<e.length;t++){if(n&&!r.includes(e[t].toLowerCase()))return!1;if(!n&&r.includes(e[t].toLowerCase()))break}}return!0}getAccessTokensByFilter(e,t){let n=this.getTokenKeys(),r=[];return n.accessToken.forEach(n=>{if(!this.accessTokenKeyMatchesFilter(n,e,!0))return;let i=this.getAccessTokenCredential(n,t);i&&this.credentialMatchesFilter(i,e)&&r.push(i)}),r}getRefreshToken(e,t,n,r,i){this.commonLogger.trace("CacheManager - getRefreshToken called");let o={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:T.REFRESH_TOKEN,clientId:this.clientId,familyId:t?"1":void 0},s=r&&r.refreshToken||this.getTokenKeys().refreshToken,a=[];s.forEach(e=>{if(this.refreshTokenKeyMatchesFilter(e,o)){let t=this.getRefreshTokenCredential(e,n);t&&this.credentialMatchesFilter(t,o)&&a.push(t)}});let l=a.length;return l<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(l>1&&i&&n&&i.addFields({multiMatchedRT:l},n),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),a[0])}refreshTokenKeyMatchesFilter(e,t){let n=e.toLowerCase();return(!t.familyId||-1!==n.indexOf(t.familyId.toLowerCase()))&&(!!t.familyId||!t.clientId||-1!==n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase()))}readAppMetadataFromCache(e){let t={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(t),r=Object.keys(n).map(e=>n[e]),i=r.length;if(i<1)return null;if(i>1)throw tf(eW);return r[0]}isAppMetadataFOCI(e){let t=this.readAppMetadataFromCache(e);return!!(t&&"1"===t.familyId)}matchHomeAccountId(e,t){return!!("string"==typeof e.homeAccountId&&t===e.homeAccountId)}matchLocalAccountIdFromTokenClaims(e,t){return t===(e.oid||e.sub)}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){return!(t.toLowerCase()!==e.name?.toLowerCase())}matchUsername(e,t){return!!(e&&"string"==typeof e&&t?.toLowerCase()===e.toLowerCase())}matchUserAssertionHash(e,t){return!!(e.userAssertionHash&&t===e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){let n=function(e,t){let n;let r=e.canonicalAuthority;if(r){let i=new tm(r).getUrlComponents().HostNameAndPort;n=tT(i,e.cloudDiscoveryMetadata?.metadata,v.CONFIG,t)||tT(i,t_.metadata,v.HARDCODED_VALUES,t)||e.knownAuthorities}return n||[]}(this.staticAuthorityOptions,this.commonLogger);if(n.includes(t)&&n.includes(e.environment))return!0}let n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!!(e.clientId&&t===e.clientId)}matchFamilyId(e,t){return!!(e.familyId&&t===e.familyId)}matchRealm(e,t){return!(e.realm?.toLowerCase()!==t.toLowerCase())}matchNativeAccountId(e,t){return!!(e.nativeAccountId&&t===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||e.preferred_username===t||e.upn===t}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!!(e.authorityType&&t.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,t){return(e.credentialType===T.ACCESS_TOKEN||e.credentialType===T.ACCESS_TOKEN_WITH_AUTH_SCHEME)&&!!e.target&&tW.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!!(e.tokenType&&e.tokenType===t)}matchKeyId(e,t){return!!(e.keyId&&e.keyId===t)}isAppMetadata(e){return -1!==e.indexOf(w)}isAuthorityMetadata(e){return -1!==e.indexOf(b.CACHE_KEY)}generateAuthorityMetadataCacheKey(e){return`${b.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,t){for(let n in t)e[n]=t[n];return e}}class t6 extends t5{setAccount(){throw tf(tc)}getAccount(){throw tf(tc)}getCachedAccountEntity(){throw tf(tc)}setIdTokenCredential(){throw tf(tc)}getIdTokenCredential(){throw tf(tc)}setAccessTokenCredential(){throw tf(tc)}getAccessTokenCredential(){throw tf(tc)}setRefreshTokenCredential(){throw tf(tc)}getRefreshTokenCredential(){throw tf(tc)}setAppMetadata(){throw tf(tc)}getAppMetadata(){throw tf(tc)}setServerTelemetry(){throw tf(tc)}getServerTelemetry(){throw tf(tc)}setAuthorityMetadata(){throw tf(tc)}getAuthorityMetadata(){throw tf(tc)}getAuthorityMetadataKeys(){throw tf(tc)}setThrottlingCache(){throw tf(tc)}getThrottlingCache(){throw tf(tc)}removeItem(){throw tf(tc)}getKeys(){throw tf(tc)}getAccountKeys(){throw tf(tc)}getTokenKeys(){throw tf(tc)}updateCredentialCacheKey(){throw tf(tc)}removeOutdatedAccount(){throw tf(tc)}}let t3={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},t9={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:nP.Info,correlationId:a.EMPTY_STRING},t7={claimsBasedCachingEnabled:!1},ne={async sendGetRequestAsync(){throw tf(tc)},async sendPostRequestAsync(){throw tf(tc)}},nt={sku:a.SKU,version:tz,cpu:a.EMPTY_STRING,os:a.EMPTY_STRING},nn={clientSecret:a.EMPTY_STRING,clientAssertion:void 0},nr={azureCloudInstance:tv.None,tenant:`${a.DEFAULT_COMMON_TENANT}`},ni={application:{appName:"",appVersion:""}};function no(e){return e.authOptions.authority.options.protocolMode===tb.OIDC}let ns={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};class na{static validateRedirectUri(e){if(!e)throw eN(eo)}static validatePrompt(e){let t=[];for(let e in p)t.push(p[e]);if(0>t.indexOf(e))throw eN(eh)}static validateClaims(e){try{JSON.parse(e)}catch(e){throw eN(ed)}}static validateCodeChallengeParams(e,t){if(e&&t)this.validateCodeChallengeMethod(t);else throw eN(eg)}static validateCodeChallengeMethod(e){if(0>[m.PLAIN,m.S256].indexOf(e))throw eN(em)}}class nl{constructor(e,t){this.parameters=new Map,this.performanceClient=t,this.correlationId=e}addResponseTypeCode(){this.parameters.set(Z,encodeURIComponent(a.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(Z,encodeURIComponent(`${a.TOKEN_RESPONSE_TYPE} ${a.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(e){this.parameters.set("response_mode",encodeURIComponent(e||g.QUERY))}addNativeBroker(){this.parameters.set("nativebroker",encodeURIComponent("1"))}addScopes(e,t=!0,n=c){!t||n.includes("openid")||e.includes("openid")||n.push("openid");let r=new tW(t?[...e||[],...n]:e||[]);this.parameters.set("scope",encodeURIComponent(r.printScopes()))}addClientId(e){this.parameters.set(G,encodeURIComponent(e))}addRedirectUri(e){na.validateRedirectUri(e),this.parameters.set(K,encodeURIComponent(e))}addPostLogoutRedirectUri(e){na.validateRedirectUri(e),this.parameters.set("post_logout_redirect_uri",encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set("id_token_hint",encodeURIComponent(e))}addDomainHint(e){this.parameters.set("domain_hint",encodeURIComponent(e))}addLoginHint(e){this.parameters.set("login_hint",encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(h.CCS_HEADER,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(h.CCS_HEADER,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set("sid",encodeURIComponent(e))}addClaims(e,t){let n=this.addClientCapabilitiesToClaims(e,t);na.validateClaims(n),this.parameters.set("claims",encodeURIComponent(n))}addCorrelationId(e){this.parameters.set("client-request-id",encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set("x-client-SKU",e.sku),this.parameters.set("x-client-VER",e.version),e.os&&this.parameters.set("x-client-OS",e.os),e.cpu&&this.parameters.set("x-client-CPU",e.cpu)}addApplicationTelemetry(e){e?.appName&&this.parameters.set("x-app-name",e.appName),e?.appVersion&&this.parameters.set("x-app-ver",e.appVersion)}addPrompt(e){na.validatePrompt(e),this.parameters.set("prompt",encodeURIComponent(e))}addState(e){e&&this.parameters.set("state",encodeURIComponent(e))}addNonce(e){this.parameters.set("nonce",encodeURIComponent(e))}addCodeChallengeParams(e,t){if(na.validateCodeChallengeParams(e,t),e&&t)this.parameters.set("code_challenge",encodeURIComponent(e)),this.parameters.set("code_challenge_method",encodeURIComponent(t));else throw eN(eg)}addAuthorizationCode(e){this.parameters.set("code",encodeURIComponent(e))}addDeviceCode(e){this.parameters.set("device_code",encodeURIComponent(e))}addRefreshToken(e){this.parameters.set("refresh_token",encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set("code_verifier",encodeURIComponent(e))}addClientSecret(e){this.parameters.set("client_secret",encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set("client_assertion",encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set("client_assertion_type",encodeURIComponent(e))}addOboAssertion(e){this.parameters.set("assertion",encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set("requested_token_use",encodeURIComponent(e))}addGrantType(e){this.parameters.set("grant_type",encodeURIComponent(e))}addClientInfo(){this.parameters.set("client_info","1")}addExtraQueryParameters(e){Object.entries(e).forEach(([e,t])=>{!this.parameters.has(e)&&t&&this.parameters.set(e,t)})}addClientCapabilitiesToClaims(e,t){let n;if(e)try{n=JSON.parse(e)}catch(e){throw eN(ed)}else n={};return t&&t.length>0&&(n.hasOwnProperty(f.ACCESS_TOKEN)||(n[f.ACCESS_TOKEN]={}),n[f.ACCESS_TOKEN][f.XMS_CC]={values:t}),JSON.stringify(n)}addUsername(e){this.parameters.set(O.username,encodeURIComponent(e))}addPassword(e){this.parameters.set(O.password,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(Q,A.POP),this.parameters.set(X,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(Q,A.SSH),this.parameters.set(X,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set("x-client-current-telemetry",e.generateCurrentRequestHeaderValue()),this.parameters.set("x-client-last-telemetry",e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set("x-ms-lib-capability",I.X_MS_LIB_CAPABILITY_VALUE)}addLogoutHint(e){this.parameters.set("logout_hint",encodeURIComponent(e))}addBrokerParameters(e){let t={};t[et]=e.brokerClientId,t.brk_redirect_uri=e.brokerRedirectUri,this.addExtraQueryParameters(t)}createQueryString(){let e=[];return this.parameters.forEach((t,n)=>{e.push(`${n}=${t}`)}),function(e,t,n){if(!t)return;let r=e.get(G);r&&e.has(et)&&n?.addFields({embeddedClientId:r,embeddedRedirectUri:e.get(K)},t)}(this.parameters,this.correlationId,this.performanceClient),e.join("&")}}async function nc(e,t,n,r,i,o,s){s?.addQueueMeasurement(tS.AuthorityFactoryCreateDiscoveredInstance,o);let a=tj.transformCIAMAuthority(tH(e)),l=new tj(a,t,n,r,i,o,s);try{return await tI(l.resolveEndpointsAsync.bind(l),tS.AuthorityResolveEndpointsAsync,i,s,o)(),l}catch(e){throw tf(eL)}}class nu{static generateThrottlingStorageKey(e){return`${I.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,t,n){let r=nu.generateThrottlingStorageKey(t),i=e.getThrottlingCache(r);if(i){if(i.throttleTime<Date.now()){e.removeItem(r,n);return}throw new en(i.errorCodes?.join(" ")||a.EMPTY_STRING,i.errorMessage,i.subError)}}static postProcess(e,t,n,r){if(nu.checkResponseStatus(n)||nu.checkResponseForRetryAfter(n)){let i={throttleTime:nu.calculateThrottleTime(parseInt(n.headers[h.RETRY_AFTER])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(nu.generateThrottlingStorageKey(t),i,r)}}static checkResponseStatus(e){return 429===e.status||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return!!e.headers&&e.headers.hasOwnProperty(h.RETRY_AFTER)&&(e.status<200||e.status>=300)}static calculateThrottleTime(e){let t=Date.now()/1e3;return Math.floor(1e3*Math.min(t+((e<=0?0:e)||I.DEFAULT_THROTTLE_TIME_SECONDS),t+I.DEFAULT_MAX_THROTTLE_TIME_SECONDS))}static removeThrottle(e,t,n,r){let i={clientId:t,authority:n.authority,scopes:n.scopes,homeAccountIdentifier:r,claims:n.claims,authenticationScheme:n.authenticationScheme,resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,sshKid:n.sshKid},o=this.generateThrottlingStorageKey(i);e.removeItem(o,n.correlationId)}}class nh extends z{constructor(e,t,n){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,nh.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=n}}class nd{constructor(e,t){this.config=function({authOptions:e,systemOptions:t,loggerOptions:n,cacheOptions:r,storageInterface:i,networkInterface:o,cryptoInterface:s,clientCredentials:a,libraryInfo:l,telemetry:c,serverTelemetryManager:u,persistencePlugin:h,serializableCache:d}){let f={...t9,...n};return{authOptions:{clientCapabilities:[],azureCloudOptions:nr,skipAuthorityMetadataCache:!1,instanceAware:!1,...e},systemOptions:{...t3,...t},loggerOptions:f,cacheOptions:{...t7,...r},storageInterface:i||new t6(e.clientId,tV,new er(f)),networkInterface:o||ne,cryptoInterface:s||tV,clientCredentials:a||nn,libraryInfo:{...nt,...l},telemetry:{...ni,...c},serverTelemetryManager:u||null,persistencePlugin:h||null,serializableCache:d||null}}(e),this.logger=new er(this.config.loggerOptions,t$,tz),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){let t={};if(t[h.CONTENT_TYPE]=a.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case ns.HOME_ACCOUNT_ID:try{let n=tK(e.credential);t[h.CCS_HEADER]=`Oid:${n.uid}@${n.utid}`}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case ns.UPN:t[h.CCS_HEADER]=`UPN: ${e.credential}`}return t}async executePostToTokenEndpoint(e,t,n,r,i,o){o&&this.performanceClient?.addQueueMeasurement(o,i);let s=await this.sendPostRequest(r,e,{body:t,headers:n},i);return this.config.serverTelemetryManager&&s.status<500&&429!==s.status&&this.config.serverTelemetryManager.clearTelemetryCache(),s}async sendPostRequest(e,t,n,r){let i;nu.preProcess(this.cacheManager,e,r);try{let e=(i=await tI(this.networkClient.sendPostRequestAsync.bind(this.networkClient),tS.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,r)(t,n)).headers||{};this.performanceClient?.addFields({refreshTokenSize:i.body.refresh_token?.length||0,httpVerToken:e[h.X_MS_HTTP_VERSION]||"",requestId:e[h.X_MS_REQUEST_ID]||""},r)}catch(e){if(e instanceof nh){let t=e.responseHeaders;throw t&&this.performanceClient?.addFields({httpVerToken:t[h.X_MS_HTTP_VERSION]||"",requestId:t[h.X_MS_REQUEST_ID]||"",contentTypeHeader:t[h.CONTENT_TYPE]||void 0,contentLengthHeader:t[h.CONTENT_LENGTH]||void 0,httpStatus:e.httpStatus},r),e.error}if(e instanceof z)throw e;throw tf(eU)}return nu.postProcess(this.cacheManager,e,i,r),i}async updateAuthority(e,t){this.performanceClient?.addQueueMeasurement(tS.UpdateTokenEndpointAuthority,t);let n=`https://${e}/${this.authority.tenant}/`,r=await nc(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=r}createTokenQueryParameters(e){let t=new nl(e.correlationId,this.performanceClient);return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.addCorrelationId(e.correlationId),t.createQueryString()}}let nf="no_tokens_found",np="native_account_unavailable",nm="refresh_token_expired",ng="bad_token",ny=["interaction_required","consent_required","login_required",ng],n_=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],nE={[nf]:"No refresh token found in the cache. Please sign-in.",[np]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[nm]:"Refresh token has expired.",[ng]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};nE[nf],nE[np],nE[ng];class nT extends z{constructor(e,t,n,r,i,o,s,l){super(e,t,n),Object.setPrototypeOf(this,nT.prototype),this.timestamp=r||a.EMPTY_STRING,this.traceId=i||a.EMPTY_STRING,this.correlationId=o||a.EMPTY_STRING,this.claims=s||a.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=l}}function nw(e,t,n){let r=!!e&&ny.indexOf(e)>-1,i=!!n&&n_.indexOf(n)>-1,o=!!t&&ny.some(e=>t.indexOf(e)>-1);return r||o||i}function nb(e){return new nT(e,nE[e])}class nv{static setRequestState(e,t,n){let r=nv.generateLibraryState(e,n);return t?`${r}${a.RESOURCE_DELIM}${t}`:r}static generateLibraryState(e,t){if(!e)throw tf(e5);let n={id:e.createNewGuid()};t&&(n.meta=t);let r=JSON.stringify(n);return e.base64Encode(r)}static parseRequestState(e,t){if(!e)throw tf(e5);if(!t)throw tf(eB);try{let n=t.split(a.RESOURCE_DELIM),r=n[0],i=n.length>1?n.slice(1).join(a.RESOURCE_DELIM):a.EMPTY_STRING,o=e.base64Decode(r),s=JSON.parse(o);return{userRequestState:i||a.EMPTY_STRING,libraryState:s}}catch(e){throw tf(eB)}}}let nS={SW:"sw"};class nA{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){this.performanceClient?.addQueueMeasurement(tS.PopTokenGenerateCnf,e.correlationId);let n=await tI(this.generateKid.bind(this),tS.PopTokenGenerateCnf,t,this.performanceClient,e.correlationId)(e),r=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:r}}async generateKid(e){return this.performanceClient?.addQueueMeasurement(tS.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:nS.SW}}async signPopToken(e,t,n){return this.signPayload(e,t,n)}async signPayload(e,t,n,r){let{resourceRequestMethod:i,resourceRequestUri:o,shrClaims:s,shrNonce:a,shrOptions:l}=n,c=o?new tm(o):void 0,u=c?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:tR(),m:i?.toUpperCase(),u:u?.HostNameAndPort,nonce:a||this.cryptoUtils.createNewGuid(),p:u?.AbsolutePath,q:u?.QueryString?[[],u.QueryString]:void 0,client_claims:s||void 0,...r},t,l,n.correlationId)}}class nI{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}class nC{constructor(e,t,n,r,i,o,s){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=r,this.serializableCache=i,this.persistencePlugin=o,this.performanceClient=s}validateServerAuthorizationCodeResponse(e,t){let n,r;if(!e.state||!t)throw e.state?tf(eY,"Cached State"):tf(eY,"Server State");try{n=decodeURIComponent(e.state)}catch(t){throw tf(eB,e.state)}try{r=decodeURIComponent(t)}catch(t){throw tf(eB,e.state)}if(n!==r)throw tf(eq);if(e.error||e.error_description||e.suberror){let t=function(e){let t="code=",n=e.error_uri?.lastIndexOf(t);return n&&n>=0?e.error_uri?.substring(n+t.length):void 0}(e);if(nw(e.error,e.error_description,e.suberror))throw new nT(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",t);throw new en(e.error||"",e.error_description,e.suberror,t)}}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){let n=`Error(s): ${e.error_codes||a.NOT_AVAILABLE} - Timestamp: ${e.timestamp||a.NOT_AVAILABLE} - Description: ${e.error_description||a.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||a.NOT_AVAILABLE} - Trace ID: ${e.trace_id||a.NOT_AVAILABLE}`,r=e.error_codes?.length?e.error_codes[0]:void 0,i=new en(e.error,n,e.suberror,r,e.status);if(t&&e.status&&e.status>=l.SERVER_ERROR_RANGE_START&&e.status<=l.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${i}`);return}if(t&&e.status&&e.status>=l.CLIENT_ERROR_RANGE_START&&e.status<=l.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${i}`);return}if(nw(e.error,e.error_description,e.suberror))throw new nT(e.error,e.error_description,e.suberror,e.timestamp||a.EMPTY_STRING,e.trace_id||a.EMPTY_STRING,e.correlation_id||a.EMPTY_STRING,e.claims||a.EMPTY_STRING,r);throw i}}async handleServerTokenResponse(e,t,n,r,i,o,s,l,c){let u,h,d;if(this.performanceClient?.addQueueMeasurement(tS.HandleServerTokenResponse,e.correlation_id),e.id_token){if(u=tO(e.id_token||a.EMPTY_STRING,this.cryptoObj.base64Decode),i&&i.nonce&&u.nonce!==i.nonce)throw tf(ej);if(r.maxAge||0===r.maxAge){let e=u.auth_time;if(!e)throw tf(eH);tN(e,r.maxAge)}}this.homeAccountIdentifier=t0.generateHomeAccountId(e.client_info||a.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,u),i&&i.state&&(h=nv.parseRequestState(this.cryptoObj,i.state)),e.key_id=e.key_id||r.sshKid||void 0;let f=this.generateCacheRecord(e,t,n,r,u,o,i);try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),d=new nI(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(d)),s&&!l&&f.account){let e=f.account.generateAccountKey();if(!this.cacheStorage.getAccount(e,r.correlationId,this.logger))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await nC.generateAuthenticationResult(this.cryptoObj,t,f,!1,r,u,h,void 0,c)}await this.cacheStorage.saveCacheRecord(f,r.correlationId,r.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&d&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(d))}return nC.generateAuthenticationResult(this.cryptoObj,t,f,!1,r,u,h,e,c)}generateCacheRecord(e,t,n,r,i,o,s){let a,l;let c=t.getPreferredCache();if(!c)throw tf(e4);let u=tJ(i);if(e.id_token&&i){var h,d,f,p;h=this.homeAccountIdentifier,d=e.id_token,f=this.clientId,p=u||"",a={credentialType:T.ID_TOKEN,homeAccountId:h,environment:c,clientId:f,secret:d,realm:p},l=function(e,t,n,r,i,o,s,a,l,c,u,h){h?.verbose("setCachedAccount called");let d=e.getAccountKeys().find(e=>e.startsWith(n)),f=null;d&&(f=e.getAccount(d,i,h));let p=f||t0.createAccount({homeAccountId:n,idTokenClaims:o,clientInfo:s,environment:a,cloudGraphHostName:c?.cloud_graph_host_name,msGraphHost:c?.msgraph_host,nativeAccountId:u},t,r),m=p.tenantProfiles||[],g=l||p.realm;if(g&&!m.find(e=>e.tenantId===g)){let e=tQ(n,p.localAccountId,g,o);m.push(e)}return p.tenantProfiles=m,p}(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,r.correlationId,i,e.client_info,c,u,s,void 0,this.logger)}let m=null;if(e.access_token){let i=e.scope?tW.fromString(e.scope):new tW(r.scopes||[]),s=("string"==typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,a=("string"==typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,l=("string"==typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,h=n+s;m=function(e,t,n,r,i,o,s,a,l,c,u,h,d,f,p){let m={homeAccountId:e,credentialType:T.ACCESS_TOKEN,secret:n,cachedAt:tR().toString(),expiresOn:s.toString(),extendedExpiresOn:a.toString(),environment:t,clientId:r,realm:i,target:o,tokenType:u||A.BEARER};if(h&&(m.userAssertionHash=h),c&&(m.refreshOn=c.toString()),f&&(m.requestedClaims=f,m.requestedClaimsHash=p),m.tokenType?.toLowerCase()!==A.BEARER.toLowerCase())switch(m.credentialType=T.ACCESS_TOKEN_WITH_AUTH_SCHEME,m.tokenType){case A.POP:let g=tO(n,l);if(!g?.cnf?.kid)throw tf(tt);m.keyId=g.cnf.kid;break;case A.SSH:m.keyId=d}return m}(this.homeAccountIdentifier,c,e.access_token,this.clientId,u||t.tenant||"",i.printScopes(),h,h+a,this.cryptoObj.base64Decode,l&&l>0?n+l:void 0,e.token_type,o,e.key_id,r.claims,r.requestedClaimsHash)}let g=null;if(e.refresh_token){let t;e.refresh_token_expires_in&&(t=n+("string"==typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)),g=function(e,t,n,r,i,o,s){let a={credentialType:T.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n};return o&&(a.userAssertionHash=o),i&&(a.familyId=i),s&&(a.expiresOn=s.toString()),a}(this.homeAccountIdentifier,c,e.refresh_token,this.clientId,e.foci,o,t)}let y=null;return e.foci&&(y={clientId:this.clientId,environment:c,familyId:e.foci}),{account:l,idToken:a,accessToken:m,refreshToken:g,appMetadata:y}}static async generateAuthenticationResult(e,t,n,r,i,o,s,l,c){let u,h,d=a.EMPTY_STRING,f=[],p=null,m=a.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType!==A.POP||i.popKid)d=n.accessToken.secret;else{let t=new nA(e),{secret:r,keyId:o}=n.accessToken;if(!o)throw tf(to);d=await t.signPopToken(r,o,i)}f=tW.fromString(n.accessToken.target).asArray(),p=new Date(1e3*Number(n.accessToken.expiresOn)),u=new Date(1e3*Number(n.accessToken.extendedExpiresOn)),n.accessToken.refreshOn&&(h=new Date(1e3*Number(n.accessToken.refreshOn)))}n.appMetadata&&(m="1"===n.appMetadata.familyId?"1":"");let g=o?.oid||o?.sub||"",y=o?.tid||"";l?.spa_accountid&&n.account&&(n.account.nativeAccountId=l?.spa_accountid);let _=n.account?tX(n.account.getAccountInfo(),void 0,o,n.idToken?.secret):null;return{authority:t.canonicalAuthority,uniqueId:g,tenantId:y,scopes:f,account:_,idToken:n?.idToken?.secret||"",idTokenClaims:o||{},accessToken:d,fromCache:r,expiresOn:p,extExpiresOn:u,refreshOn:h,correlationId:i.correlationId,requestId:c||a.EMPTY_STRING,familyId:m,tokenType:n.accessToken?.tokenType||a.EMPTY_STRING,state:s?s.userRequestState:a.EMPTY_STRING,cloudGraphHostName:n.account?.cloudGraphHostName||a.EMPTY_STRING,msGraphHost:n.account?.msGraphHost||a.EMPTY_STRING,code:l?.spa_code,fromNativeBroker:!1}}}async function nO(e,t,n){return"string"==typeof e?e:e({clientId:t,tokenEndpoint:n})}class nN extends nd{constructor(e,t){super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async getAuthCodeUrl(e){this.performanceClient?.addQueueMeasurement(tS.GetAuthCodeUrl,e.correlationId);let t=await tI(this.createAuthCodeUrlQueryString.bind(this),tS.AuthClientCreateQueryString,this.logger,this.performanceClient,e.correlationId)(e);return tm.appendQueryString(this.authority.authorizationEndpoint,t)}async acquireToken(e,t){if(this.performanceClient?.addQueueMeasurement(tS.AuthClientAcquireToken,e.correlationId),!e.code)throw tf(eG);let n=tR(),r=await tI(this.executeTokenRequest.bind(this),tS.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),i=r.headers?.[h.X_MS_REQUEST_ID],o=new nC(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return o.validateTokenResponse(r.body),tI(o.handleServerTokenResponse.bind(o),tS.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,n,e,t,void 0,void 0,void 0,i)}handleFragmentResponse(e,t){if(new nC(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,t),!e.code)throw tf(tn);return e}getLogoutUri(e){if(!e)throw eN(ep);let t=this.createLogoutUrlQueryString(e);return tm.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){let n;this.performanceClient?.addQueueMeasurement(tS.AuthClientExecuteTokenRequest,t.correlationId);let r=this.createTokenQueryParameters(t),i=tm.appendQueryString(e.tokenEndpoint,r),o=await tI(this.createTokenRequestBody.bind(this),tS.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,t.correlationId)(t);if(t.clientInfo)try{let e=tG(t.clientInfo,this.cryptoUtils.base64Decode);n={credential:`${e.uid}${E.CLIENT_INFO_SEPARATOR}${e.utid}`,type:ns.HOME_ACCOUNT_ID}}catch(e){this.logger.verbose("Could not parse client info for CCS Header: "+e)}let s=this.createTokenRequestHeaders(n||t.ccsCredential),a={clientId:t.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return tI(this.executePostToTokenEndpoint.bind(this),tS.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,t.correlationId)(i,o,s,a,t.correlationId,tS.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){let t;this.performanceClient?.addQueueMeasurement(tS.AuthClientCreateTokenRequestBody,e.correlationId);let n=new nl(e.correlationId,this.performanceClient);if(n.addClientId(e.embeddedClientId||e.tokenBodyParameters?.[G]||this.config.authOptions.clientId),this.includeRedirectUri?n.addRedirectUri(e.redirectUri):na.validateRedirectUri(e.redirectUri),n.addScopes(e.scopes,!0,this.oidcDefaultScopes),n.addAuthorizationCode(e.code),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addThrottling(),this.serverTelemetryManager&&!no(this.config)&&n.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&n.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&n.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let t=this.config.clientCredentials.clientAssertion;n.addClientAssertion(await nO(t.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),n.addClientAssertionType(t.assertionType)}if(n.addGrantType(y.AUTHORIZATION_CODE_GRANT),n.addClientInfo(),e.authenticationScheme===A.POP){let t;let r=new nA(this.cryptoUtils,this.performanceClient);t=e.popKid?this.cryptoUtils.encodeKid(e.popKid):(await tI(r.generateCnf.bind(r),tS.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,n.addPopToken(t)}else if(e.authenticationScheme===A.SSH){if(e.sshJwk)n.addSshJwk(e.sshJwk);else throw eN(eT)}if((!eR.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.clientInfo)try{let n=tG(e.clientInfo,this.cryptoUtils.base64Decode);t={credential:`${n.uid}${E.CLIENT_INFO_SEPARATOR}${n.utid}`,type:ns.HOME_ACCOUNT_ID}}catch(e){this.logger.verbose("Could not parse client info for CCS Header: "+e)}else t=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&t)switch(t.type){case ns.HOME_ACCOUNT_ID:try{let e=tK(t.credential);n.addCcsOid(e)}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case ns.UPN:n.addCcsUpn(t.credential)}return e.embeddedClientId&&n.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&n.addExtraQueryParameters(e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[J]||n.addExtraQueryParameters({[J]:"1"}),n.createQueryString()}async createAuthCodeUrlQueryString(e){let t=e.correlationId||this.config.cryptoInterface.createNewGuid();this.performanceClient?.addQueueMeasurement(tS.AuthClientCreateQueryString,t);let n=new nl(t,this.performanceClient);n.addClientId(e.embeddedClientId||e.extraQueryParameters?.[G]||this.config.authOptions.clientId);let r=[...e.scopes||[],...e.extraScopesToConsent||[]];if(n.addScopes(r,!0,this.oidcDefaultScopes),n.addRedirectUri(e.redirectUri),n.addCorrelationId(t),n.addResponseMode(e.responseMode),n.addResponseTypeCode(),n.addLibraryInfo(this.config.libraryInfo),no(this.config)||n.addApplicationTelemetry(this.config.telemetry.application),n.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&n.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&n.addPrompt(e.prompt),e.domainHint&&n.addDomainHint(e.domainHint),e.prompt!==p.SELECT_ACCOUNT){if(e.sid&&e.prompt===p.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),n.addSid(e.sid);else if(e.account){let t=this.extractAccountSid(e.account),r=this.extractLoginHint(e.account);if(r&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),r=null),r){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),n.addLoginHint(r);try{let t=tK(e.account.homeAccountId);n.addCcsOid(t)}catch(e){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(t&&e.prompt===p.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),n.addSid(t);try{let t=tK(e.account.homeAccountId);n.addCcsOid(t)}catch(e){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),n.addLoginHint(e.loginHint),n.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),n.addLoginHint(e.account.username);try{let t=tK(e.account.homeAccountId);n.addCcsOid(t)}catch(e){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),n.addLoginHint(e.loginHint),n.addCcsUpn(e.loginHint))}else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&n.addNonce(e.nonce),e.state&&n.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.embeddedClientId&&n.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),this.addExtraQueryParams(e,n),e.nativeBroker&&(n.addNativeBroker(),e.authenticationScheme===A.POP)){let t;let r=new nA(this.cryptoUtils);t=e.popKid?this.cryptoUtils.encodeKid(e.popKid):(await tI(r.generateCnf.bind(r),tS.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,n.addPopToken(t)}return n.createQueryString()}createLogoutUrlQueryString(e){let t=new nl(e.correlationId,this.performanceClient);return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),this.addExtraQueryParams(e,t),t.createQueryString()}addExtraQueryParams(e,t){!(e.extraQueryParameters&&e.extraQueryParameters.hasOwnProperty("instance_aware"))&&this.config.authOptions.instanceAware&&(e.extraQueryParameters=e.extraQueryParameters||{},e.extraQueryParameters.instance_aware="true"),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters)}extractAccountSid(e){return e.idTokenClaims?.sid||null}extractLoginHint(e){return e.idTokenClaims?.login_hint||null}}class nR extends nd{constructor(e,t){super(e,t)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(tS.RefreshTokenClientAcquireToken,e.correlationId);let t=tR(),n=await tI(this.executeTokenRequest.bind(this),tS.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),r=n.headers?.[h.X_MS_REQUEST_ID],i=new nC(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(n.body),tI(i.handleServerTokenResponse.bind(i),tS.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,r)}async acquireTokenByRefreshToken(e){if(!e)throw eN(ef);if(this.performanceClient?.addQueueMeasurement(tS.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw tf(e1);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await tI(this.acquireTokenWithCachedRefreshToken.bind(this),tS.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(n){let e=n instanceof nT&&n.errorCode===nf,t=n instanceof en&&n.errorCode===C.INVALID_GRANT_ERROR&&n.subError===C.CLIENT_MISMATCH_ERROR;if(e||t);else throw n}return tI(this.acquireTokenWithCachedRefreshToken.bind(this),tS.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){this.performanceClient?.addQueueMeasurement(tS.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);let n=tA(this.cacheManager.getRefreshToken.bind(this.cacheManager),tS.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,t,e.correlationId,void 0,this.performanceClient);if(!n)throw nb(nf);if(n.expiresOn&&tD(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||300))throw nb(nm);let r={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||A.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:ns.HOME_ACCOUNT_ID}};try{return await tI(this.acquireToken.bind(this),tS.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(r)}catch(t){if(t instanceof nT&&t.subError===ng){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");let t=tk(n);this.cacheManager.removeRefreshToken(t,e.correlationId)}throw t}}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(tS.RefreshTokenClientExecuteTokenRequest,e.correlationId);let n=this.createTokenQueryParameters(e),r=tm.appendQueryString(t.tokenEndpoint,n),i=await tI(this.createTokenRequestBody.bind(this),tS.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),o=this.createTokenRequestHeaders(e.ccsCredential),s={clientId:e.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return tI(this.executePostToTokenEndpoint.bind(this),tS.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(r,i,o,s,e.correlationId,tS.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(tS.RefreshTokenClientCreateTokenRequestBody,e.correlationId);let t=new nl(e.correlationId,this.performanceClient);if(t.addClientId(e.embeddedClientId||e.tokenBodyParameters?.[G]||this.config.authOptions.clientId),e.redirectUri&&t.addRedirectUri(e.redirectUri),t.addScopes(e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),t.addGrantType(y.REFRESH_TOKEN_GRANT),t.addClientInfo(),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&!no(this.config)&&t.addServerTelemetry(this.serverTelemetryManager),t.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let n=this.config.clientCredentials.clientAssertion;t.addClientAssertion(await nO(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(n.assertionType)}if(e.authenticationScheme===A.POP){let n;let r=new nA(this.cryptoUtils,this.performanceClient);n=e.popKid?this.cryptoUtils.encodeKid(e.popKid):(await tI(r.generateCnf.bind(r),tS.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,t.addPopToken(n)}else if(e.authenticationScheme===A.SSH){if(e.sshJwk)t.addSshJwk(e.sshJwk);else throw eN(eT)}if((!eR.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case ns.HOME_ACCOUNT_ID:try{let n=tK(e.ccsCredential.credential);t.addCcsOid(n)}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case ns.UPN:t.addCcsUpn(e.ccsCredential.credential)}return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&t.addExtraQueryParameters(e.tokenBodyParameters),t.createQueryString()}}class nD extends nd{constructor(e,t){super(e,t)}async acquireToken(e){try{let[t,n]=await this.acquireCachedToken({...e,scopes:e.scopes?.length?e.scopes:[...c]});return n===k.PROACTIVELY_REFRESHED&&(this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),new nR(this.config,this.performanceClient).acquireTokenByRefreshToken(e).catch(()=>{})),t}catch(t){if(t instanceof td&&t.errorCode===e7)return new nR(this.config,this.performanceClient).acquireTokenByRefreshToken(e);throw t}}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(tS.SilentFlowClientAcquireCachedToken,e.correlationId);let t=k.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!eR.isEmptyObj(e.claims))throw this.setCacheOutcome(k.FORCE_REFRESH_OR_CLAIMS,e.correlationId),tf(e7);if(!e.account)throw tf(e1);let n=e.account.tenantId||function(e){let t=new tm(e).getUrlComponents(),n=t.PathSegments.slice(-1)[0]?.toLowerCase();switch(n){case d.COMMON:case d.ORGANIZATIONS:case d.CONSUMERS:return;default:return n}}(e.authority),r=this.cacheManager.getTokenKeys(),i=this.cacheManager.getAccessToken(e.account,e,r,n,this.performanceClient);if(i){if(Number(i.cachedAt)>tR()||tD(i.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(k.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),tf(e7);i.refreshOn&&tD(i.refreshOn,0)&&(t=k.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(k.NO_CACHED_ACCESS_TOKEN,e.correlationId),tf(e7);let o=e.authority||this.authority.getPreferredCache(),s={account:this.cacheManager.readAccountFromCache(e.account,e.correlationId),accessToken:i,idToken:this.cacheManager.getIdToken(e.account,e.correlationId,r,n,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(o)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await tI(this.generateResultFromCacheRecord.bind(this),tS.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(s,e),t]}setCacheOutcome(e,t){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},t),e!==k.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){let n;if(this.performanceClient?.addQueueMeasurement(tS.SilentFlowClientGenerateResultFromCacheRecord,t.correlationId),e.idToken&&(n=tO(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||0===t.maxAge){let e=n?.auth_time;if(!e)throw tf(eH);tN(e,t.maxAge)}return nC.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,n)}}class nk{static getNetworkResponse(e,t,n){return{headers:e,body:t,status:n}}static urlToHttpOptions(e){let t={protocol:e.protocol,hostname:e.hostname&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:`${e.pathname||""}${e.search||""}`,href:e.href};return""!==e.port&&(t.port=Number(e.port)),(e.username||e.password)&&(t.auth=`${decodeURIComponent(e.username)}:${decodeURIComponent(e.password)}`),t}}var nP,nM,nL,nU=n(32615),nx=n.n(nU),nF=n(35240),nB=n.n(nF);class nq{constructor(e,t){this.proxyUrl=e||"",this.customAgentOptions=t||{}}async sendGetRequestAsync(e,t,n){return this.proxyUrl?nY(e,this.proxyUrl,L.GET,t,this.customAgentOptions,n):nj(e,L.GET,t,this.customAgentOptions,n)}async sendPostRequestAsync(e,t){return this.proxyUrl?nY(e,this.proxyUrl,L.POST,t,this.customAgentOptions):nj(e,L.POST,t,this.customAgentOptions)}}let nY=(e,t,n,r,i,o)=>{let s=new URL(e),a=new URL(t),c=r?.headers||{},u={host:a.hostname,port:a.port,method:"CONNECT",path:s.hostname,headers:c};i&&Object.keys(i).length&&(u.agent=new nU.Agent(i));let h="";if(n===L.POST){let e=r?.body||"";h=`Content-Type: application/x-www-form-urlencoded\r
Content-Length: ${e.length}\r
\r
${e}`}else o&&(u.timeout=o);let d=`${n.toUpperCase()} ${s.href} HTTP/1.1\r
Host: ${s.host}\r
Connection: close\r
`+h+"\r\n";return new Promise((e,t)=>{let n=nU.request(u);o&&n.on("timeout",()=>{n.destroy(),t(Error("Request time out"))}),n.end(),n.on("connect",(r,i)=>{let o=r?.statusCode||U.SERVER_ERROR;(o<U.SUCCESS_RANGE_START||o>U.SUCCESS_RANGE_END)&&(n.destroy(),i.destroy(),t(Error(`Error connecting to proxy. Http status code: ${r.statusCode}. Http status message: ${r?.statusMessage||"Unknown"}`))),i.write(d);let s=[];i.on("data",e=>{s.push(e)}),i.on("end",()=>{let t=Buffer.concat([...s]).toString().split("\r\n"),r=parseInt(t[0].split(" ")[1]),i=t[0].split(" ").slice(2).join(" "),o=t[t.length-1],a=t.slice(1,t.length-2),c=new Map;a.forEach(e=>{let t=e.split(new RegExp(/:\s(.*)/s)),n=t[0],r=t[1];try{let e=JSON.parse(r);e&&"object"==typeof e&&(r=e)}catch(e){}c.set(n,r)});let u=Object.fromEntries(c),h=nk.getNetworkResponse(u,nH(r,i,u,o),r);(r<l.SUCCESS_RANGE_START||r>l.SUCCESS_RANGE_END)&&h.body.error!==B.AUTHORIZATION_PENDING&&n.destroy(),e(h)}),i.on("error",e=>{n.destroy(),i.destroy(),t(Error(e.toString()))})}),n.on("error",e=>{n.destroy(),t(Error(e.toString()))})})},nj=(e,t,n,r,i)=>{let o=t===L.POST,s=n?.body||"",a=new URL(e),c={method:t,headers:n?.headers||{},...nk.urlToHttpOptions(a)};return r&&Object.keys(r).length&&(c.agent=new nF.Agent(r)),o?c.headers={...c.headers,"Content-Length":s.length}:i&&(c.timeout=i),new Promise((e,t)=>{let n;n="http:"===c.protocol?nU.request(c):nF.request(c),o&&n.write(s),i&&n.on("timeout",()=>{n.destroy(),t(Error("Request time out"))}),n.end(),n.on("response",t=>{let r=t.headers,i=t.statusCode,o=t.statusMessage,s=[];t.on("data",e=>{s.push(e)}),t.on("end",()=>{let t=Buffer.concat([...s]).toString(),a=nk.getNetworkResponse(r,nH(i,o,r,t),i);(i<l.SUCCESS_RANGE_START||i>l.SUCCESS_RANGE_END)&&a.body.error!==B.AUTHORIZATION_PENDING&&n.destroy(),e(a)})}),n.on("error",e=>{n.destroy(),t(Error(e.toString()))})})},nH=(e,t,n,r)=>{let i;try{i=JSON.parse(r)}catch(s){let r,o;e>=l.CLIENT_ERROR_RANGE_START&&e<=l.CLIENT_ERROR_RANGE_END?(r="client_error",o="A client"):e>=l.SERVER_ERROR_RANGE_START&&e<=l.SERVER_ERROR_RANGE_END?(r="server_error",o="A server"):(r="unknown_error",o="An unknown"),i={error:r,error_description:`${o} error occured.
Http status code: ${e}
Http status message: ${t||"Unknown"}
Headers: ${JSON.stringify(n)}`}}return i},nV="invalid_managed_identity_id_type",n$={[P.AZURE_POD_IDENTITY_AUTHORITY_HOST]:"azure_pod_identity_authority_host_url_malformed",[P.IDENTITY_ENDPOINT]:"identity_endpoint_url_malformed",[P.IMDS_ENDPOINT]:"imds_endpoint_url_malformed",[P.MSI_ENDPOINT]:"msi_endpoint_url_malformed"},nz={invalid_file_extension:"The file path in the WWW-Authenticate header does not contain a .key file.",invalid_file_path:"The file path in the WWW-Authenticate header is not in a valid Windows or Linux Format.",[nV]:"More than one ManagedIdentityIdType was provided.",invalid_secret:"The secret in the file on the file path in the WWW-Authenticate header is greater than 4096 bytes.",platform_not_supported:"The platform is not supported by Azure Arc. Azure Arc only supports Windows and Linux.",missing_client_id:"A ManagedIdentityId id was not provided.",[n$.AZURE_POD_IDENTITY_AUTHORITY_HOST]:`The Managed Identity's '${P.AZURE_POD_IDENTITY_AUTHORITY_HOST}' environment variable is malformed.`,[n$.IDENTITY_ENDPOINT]:`The Managed Identity's '${P.IDENTITY_ENDPOINT}' environment variable is malformed.`,[n$.IMDS_ENDPOINT]:`The Managed Identity's '${P.IMDS_ENDPOINT}' environment variable is malformed.`,[n$.MSI_ENDPOINT]:`The Managed Identity's '${P.MSI_ENDPOINT}' environment variable is malformed.`,network_unavailable:"Authentication unavailable. The request to the managed identity endpoint timed out.",unable_to_create_azure_arc:"Azure Arc Managed Identities can only be system assigned.",unable_to_create_cloud_shell:"Cloud Shell Managed Identities can only be system assigned.",unable_to_create_source:"Unable to create a Managed Identity source based on environment variables.",unable_to_read_secret_file:"Unable to read the secret file.",user_assigned_not_available_at_runtime:"Service Fabric user assigned managed identity ClientId or ResourceId is not configurable at runtime.",www_authenticate_header_missing:"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is missing.",www_authenticate_header_unsupported_format:"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is in an unsupported format."};class nW extends z{constructor(e){super(e,nz[e]),this.name="ManagedIdentityError",Object.setPrototypeOf(this,nW.prototype)}}let nG={invalidLoopbackAddressType:{code:"invalid_loopback_server_address_type",desc:"Loopback server address is not type string. This is unexpected."},unableToLoadRedirectUri:{code:"unable_to_load_redirectUrl",desc:"Loopback server callback was invoked without a url. This is unexpected."},noAuthCodeInResponse:{code:"no_auth_code_in_response",desc:"No auth code found in the server response. Please check your network trace to determine what happened."},noLoopbackServerExists:{code:"no_loopback_server_exists",desc:"No loopback server exists yet."},loopbackServerAlreadyExists:{code:"loopback_server_already_exists",desc:"Loopback server already exists. Cannot create another."},loopbackServerTimeout:{code:"loopback_server_timeout",desc:"Timed out waiting for auth code listener to be registered."},stateNotFoundError:{code:"state_not_found",desc:"State not found. Please verify that the request originated from msal."},thumbprintMissing:{code:"thumbprint_missing_from_client_certificate",desc:"Client certificate does not contain a SHA-1 or SHA-256 thumbprint."}};class nK extends z{constructor(e,t){super(e,t),this.name="NodeAuthError"}static createInvalidLoopbackAddressTypeError(){return new nK(nG.invalidLoopbackAddressType.code,`${nG.invalidLoopbackAddressType.desc}`)}static createUnableToLoadRedirectUrlError(){return new nK(nG.unableToLoadRedirectUri.code,`${nG.unableToLoadRedirectUri.desc}`)}static createNoAuthCodeInResponseError(){return new nK(nG.noAuthCodeInResponse.code,`${nG.noAuthCodeInResponse.desc}`)}static createNoLoopbackServerExistsError(){return new nK(nG.noLoopbackServerExists.code,`${nG.noLoopbackServerExists.desc}`)}static createLoopbackServerAlreadyExistsError(){return new nK(nG.loopbackServerAlreadyExists.code,`${nG.loopbackServerAlreadyExists.desc}`)}static createLoopbackServerTimeoutError(){return new nK(nG.loopbackServerTimeout.code,`${nG.loopbackServerTimeout.desc}`)}static createStateNotFoundError(){return new nK(nG.stateNotFoundError.code,nG.stateNotFoundError.desc)}static createThumbprintMissingError(){return new nK(nG.thumbprintMissing.code,nG.thumbprintMissing.desc)}}let nZ={clientId:a.EMPTY_STRING,authority:a.DEFAULT_AUTHORITY,clientSecret:a.EMPTY_STRING,clientAssertion:a.EMPTY_STRING,clientCertificate:{thumbprint:a.EMPTY_STRING,thumbprintSha256:a.EMPTY_STRING,privateKey:a.EMPTY_STRING,x5c:a.EMPTY_STRING},knownAuthorities:[],cloudDiscoveryMetadata:a.EMPTY_STRING,authorityMetadata:a.EMPTY_STRING,clientCapabilities:[],protocolMode:tb.AAD,azureCloudOptions:{azureCloudInstance:tv.None,tenant:a.EMPTY_STRING},skipAuthorityMetadataCache:!1},nQ={claimsBasedCachingEnabled:!1},nX={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:nP.Info},nJ={loggerOptions:nX,networkClient:new nq,proxyUrl:a.EMPTY_STRING,customAgentOptions:{},disableInternalRetries:!1},n0={application:{appName:a.EMPTY_STRING,appVersion:a.EMPTY_STRING}};var n1=n(84770),n2=n.n(n1);let n4=new Uint8Array(256),n8=n4.length,n5=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,n6=[];for(let e=0;e<256;++e)n6.push((e+256).toString(16).substr(1));let n3=function(e,t=0){let n=(n6[e[t+0]]+n6[e[t+1]]+n6[e[t+2]]+n6[e[t+3]]+"-"+n6[e[t+4]]+n6[e[t+5]]+"-"+n6[e[t+6]]+n6[e[t+7]]+"-"+n6[e[t+8]]+n6[e[t+9]]+"-"+n6[e[t+10]]+n6[e[t+11]]+n6[e[t+12]]+n6[e[t+13]]+n6[e[t+14]]+n6[e[t+15]]).toLowerCase();if(!("string"==typeof n&&n5.test(n)))throw TypeError("Stringified UUID is invalid");return n},n9=function(e,t,n){let r=(e=e||{}).random||(e.rng||function(){return n8>n4.length-16&&(n2().randomFillSync(n4),n8=0),n4.slice(n8,n8+=16)})();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return n3(r)};class n7{generateGuid(){return n9()}isGuid(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}}class re{static base64Encode(e,t){return Buffer.from(e,t).toString("base64")}static base64EncodeUrl(e,t){return re.base64Encode(e,t).replace(/=/g,a.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_")}static base64Decode(e){return Buffer.from(e,"base64").toString("utf8")}static base64DecodeUrl(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");for(;t.length%4;)t+="=";return re.base64Decode(t)}}class rt{sha256(e){return n1.createHash(x.SHA256).update(e).digest()}}class rn{constructor(){this.hashUtils=new rt}async generatePkceCodes(){let e=this.generateCodeVerifier(),t=this.generateCodeChallengeFromVerifier(e);return{verifier:e,challenge:t}}generateCodeVerifier(){let e=[],t=256-256%F.CV_CHARSET.length;for(;e.length<=32;){let n=n1.randomBytes(1)[0];if(n>=t)continue;let r=n%F.CV_CHARSET.length;e.push(F.CV_CHARSET[r])}let n=e.join(a.EMPTY_STRING);return re.base64EncodeUrl(n)}generateCodeChallengeFromVerifier(e){return re.base64EncodeUrl(this.hashUtils.sha256(e).toString("base64"),"base64")}}class rr{constructor(){this.pkceGenerator=new rn,this.guidGenerator=new n7,this.hashUtils=new rt}base64UrlEncode(){throw Error("Method not implemented.")}encodeKid(){throw Error("Method not implemented.")}createNewGuid(){return this.guidGenerator.generateGuid()}base64Encode(e){return re.base64Encode(e)}base64Decode(e){return re.base64Decode(e)}generatePkceCodes(){return this.pkceGenerator.generatePkceCodes()}getPublicKeyThumbprint(){throw Error("Method not implemented.")}removeTokenBindingKey(){throw Error("Method not implemented.")}clearKeystore(){throw Error("Method not implemented.")}signJwt(){throw Error("Method not implemented.")}async hashString(e){return re.base64EncodeUrl(this.hashUtils.sha256(e).toString("base64"),"base64")}}class ri{static deserializeJSONBlob(e){return e?JSON.parse(e):{}}static deserializeAccounts(e){let t={};return e&&Object.keys(e).map(function(n){let r=e[n],i={homeAccountId:r.home_account_id,environment:r.environment,realm:r.realm,localAccountId:r.local_account_id,username:r.username,authorityType:r.authority_type,name:r.name,clientInfo:r.client_info,lastModificationTime:r.last_modification_time,lastModificationApp:r.last_modification_app,tenantProfiles:r.tenantProfiles?.map(e=>JSON.parse(e))},o=new t0;t5.toObject(o,i),t[n]=o}),t}static deserializeIdTokens(e){let t={};return e&&Object.keys(e).map(function(n){let r=e[n],i={homeAccountId:r.home_account_id,environment:r.environment,credentialType:r.credential_type,clientId:r.client_id,secret:r.secret,realm:r.realm};t[n]=i}),t}static deserializeAccessTokens(e){let t={};return e&&Object.keys(e).map(function(n){let r=e[n],i={homeAccountId:r.home_account_id,environment:r.environment,credentialType:r.credential_type,clientId:r.client_id,secret:r.secret,realm:r.realm,target:r.target,cachedAt:r.cached_at,expiresOn:r.expires_on,extendedExpiresOn:r.extended_expires_on,refreshOn:r.refresh_on,keyId:r.key_id,tokenType:r.token_type,requestedClaims:r.requestedClaims,requestedClaimsHash:r.requestedClaimsHash,userAssertionHash:r.userAssertionHash};t[n]=i}),t}static deserializeRefreshTokens(e){let t={};return e&&Object.keys(e).map(function(n){let r=e[n],i={homeAccountId:r.home_account_id,environment:r.environment,credentialType:r.credential_type,clientId:r.client_id,secret:r.secret,familyId:r.family_id,target:r.target,realm:r.realm};t[n]=i}),t}static deserializeAppMetadata(e){let t={};return e&&Object.keys(e).map(function(n){let r=e[n];t[n]={clientId:r.client_id,environment:r.environment,familyId:r.family_id}}),t}static deserializeAllCache(e){return{accounts:e.Account?this.deserializeAccounts(e.Account):{},idTokens:e.IdToken?this.deserializeIdTokens(e.IdToken):{},accessTokens:e.AccessToken?this.deserializeAccessTokens(e.AccessToken):{},refreshTokens:e.RefreshToken?this.deserializeRefreshTokens(e.RefreshToken):{},appMetadata:e.AppMetadata?this.deserializeAppMetadata(e.AppMetadata):{}}}}class ro{static serializeJSONBlob(e){return JSON.stringify(e)}static serializeAccounts(e){let t={};return Object.keys(e).map(function(n){let r=e[n];t[n]={home_account_id:r.homeAccountId,environment:r.environment,realm:r.realm,local_account_id:r.localAccountId,username:r.username,authority_type:r.authorityType,name:r.name,client_info:r.clientInfo,last_modification_time:r.lastModificationTime,last_modification_app:r.lastModificationApp,tenantProfiles:r.tenantProfiles?.map(e=>JSON.stringify(e))}}),t}static serializeIdTokens(e){let t={};return Object.keys(e).map(function(n){let r=e[n];t[n]={home_account_id:r.homeAccountId,environment:r.environment,credential_type:r.credentialType,client_id:r.clientId,secret:r.secret,realm:r.realm}}),t}static serializeAccessTokens(e){let t={};return Object.keys(e).map(function(n){let r=e[n];t[n]={home_account_id:r.homeAccountId,environment:r.environment,credential_type:r.credentialType,client_id:r.clientId,secret:r.secret,realm:r.realm,target:r.target,cached_at:r.cachedAt,expires_on:r.expiresOn,extended_expires_on:r.extendedExpiresOn,refresh_on:r.refreshOn,key_id:r.keyId,token_type:r.tokenType,requestedClaims:r.requestedClaims,requestedClaimsHash:r.requestedClaimsHash,userAssertionHash:r.userAssertionHash}}),t}static serializeRefreshTokens(e){let t={};return Object.keys(e).map(function(n){let r=e[n];t[n]={home_account_id:r.homeAccountId,environment:r.environment,credential_type:r.credentialType,client_id:r.clientId,secret:r.secret,family_id:r.familyId,target:r.target,realm:r.realm}}),t}static serializeAppMetadata(e){let t={};return Object.keys(e).map(function(n){let r=e[n];t[n]={client_id:r.clientId,environment:r.environment,family_id:r.familyId}}),t}static serializeAllCache(e){return{Account:this.serializeAccounts(e.accounts),IdToken:this.serializeIdTokens(e.idTokens),AccessToken:this.serializeAccessTokens(e.accessTokens),RefreshToken:this.serializeRefreshTokens(e.refreshTokens),AppMetadata:this.serializeAppMetadata(e.appMetadata)}}}class rs extends t5{constructor(e,t,n,r){super(t,n,e,r),this.cache={},this.changeEmitters=[],this.logger=e}registerChangeEmitter(e){this.changeEmitters.push(e)}emitChange(){this.changeEmitters.forEach(e=>e.call(null))}cacheToInMemoryCache(e){let t={accounts:{},idTokens:{},accessTokens:{},refreshTokens:{},appMetadata:{}};for(let n in e){let r=e[n];if("object"==typeof r){if(r instanceof t0)t.accounts[n]=r;else if(tL(r))t.idTokens[n]=r;else if(tM(r))t.accessTokens[n]=r;else if(tU(r))t.refreshTokens[n]=r;else{if(!tx(n,r))continue;t.appMetadata[n]=r}}}return t}inMemoryCacheToCache(e){return{...this.getCache(),...e.accounts,...e.idTokens,...e.accessTokens,...e.refreshTokens,...e.appMetadata}}getInMemoryCache(){return this.logger.trace("Getting in-memory cache"),this.cacheToInMemoryCache(this.getCache())}setInMemoryCache(e){this.logger.trace("Setting in-memory cache");let t=this.inMemoryCacheToCache(e);this.setCache(t),this.emitChange()}getCache(){return this.logger.trace("Getting cache key-value store"),this.cache}setCache(e){this.logger.trace("Setting cache key value store"),this.cache=e,this.emitChange()}getItem(e){return this.logger.tracePii(`Item key: ${e}`),this.getCache()[e]}setItem(e,t){this.logger.tracePii(`Item key: ${e}`);let n=this.getCache();n[e]=t,this.setCache(n)}getAccountKeys(){return Object.keys(this.getInMemoryCache().accounts)}getTokenKeys(){let e=this.getInMemoryCache();return{idToken:Object.keys(e.idTokens),accessToken:Object.keys(e.accessTokens),refreshToken:Object.keys(e.refreshTokens)}}getAccount(e){let t=this.getCachedAccountEntity(e);return t&&t0.isAccountEntity(t)?this.updateOutdatedCachedAccount(e,t,""):null}getCachedAccountEntity(e){return this.getItem(e)?Object.assign(new t0,this.getItem(e)):null}setAccount(e){let t=e.generateAccountKey();this.setItem(t,e)}getIdTokenCredential(e){let t=this.getItem(e);return tL(t)?t:null}setIdTokenCredential(e){let t=tk(e);this.setItem(t,e)}getAccessTokenCredential(e){let t=this.getItem(e);return tM(t)?t:null}setAccessTokenCredential(e){let t=tk(e);this.setItem(t,e)}getRefreshTokenCredential(e){let t=this.getItem(e);return tU(t)?t:null}setRefreshTokenCredential(e){let t=tk(e);this.setItem(t,e)}getAppMetadata(e){let t=this.getItem(e);return tx(e,t)?t:null}setAppMetadata(e){let t=function({environment:e,clientId:t}){return[w,e,t].join(E.CACHE_KEY_SEPARATOR).toLowerCase()}(e);this.setItem(t,e)}getServerTelemetry(e){let t=this.getItem(e);return t&&function(e,t){let n=0===e.indexOf(S.CACHE_KEY),r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&r}(e,t)?t:null}setServerTelemetry(e,t){this.setItem(e,t)}getAuthorityMetadata(e){let t=this.getItem(e);return t&&t&&0===e.indexOf(b.CACHE_KEY)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")?t:null}getAuthorityMetadataKeys(){return this.getKeys().filter(e=>this.isAuthorityMetadata(e))}setAuthorityMetadata(e,t){this.setItem(e,t)}getThrottlingCache(e){let t,n;let r=this.getItem(e);return r&&(t=!1,e&&(t=0===e.indexOf(I.THROTTLING_PREFIX)),n=!0,r&&(n=r.hasOwnProperty("throttleTime")),t&&n)?r:null}setThrottlingCache(e,t){this.setItem(e,t)}removeItem(e){this.logger.tracePii(`Item key: ${e}`);let t=!1,n=this.getCache();return n[e]&&(delete n[e],t=!0),t&&(this.setCache(n),this.emitChange()),t}removeOutdatedAccount(e){this.removeItem(e)}containsKey(e){return this.getKeys().includes(e)}getKeys(){return this.logger.trace("Retrieving all cache keys"),[...Object.keys(this.getCache())]}clear(){this.logger.trace("Clearing cache entries created by MSAL"),this.getKeys().forEach(e=>{this.removeItem(e)}),this.emitChange()}static generateInMemoryCache(e){return ri.deserializeAllCache(ri.deserializeJSONBlob(e))}static generateJsonCache(e){return ro.serializeAllCache(e)}updateCredentialCacheKey(e,t){let n=tk(t);if(e!==n){let r=this.getItem(e);if(r)return this.removeItem(e),this.setItem(n,r),this.logger.verbose(`Updated an outdated ${t.credentialType} cache key`),n;this.logger.error(`Attempted to update an outdated ${t.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}}let ra={Account:{},IdToken:{},AccessToken:{},RefreshToken:{},AppMetadata:{}};class rl{constructor(e,t,n){this.cacheHasChanged=!1,this.storage=e,this.storage.registerChangeEmitter(this.handleChangeEvent.bind(this)),n&&(this.persistence=n),this.logger=t}hasChanged(){return this.cacheHasChanged}serialize(){this.logger.trace("Serializing in-memory cache");let e=ro.serializeAllCache(this.storage.getInMemoryCache());return this.cacheSnapshot?(this.logger.trace("Reading cache snapshot from disk"),e=this.mergeState(JSON.parse(this.cacheSnapshot),e)):this.logger.trace("No cache snapshot to merge"),this.cacheHasChanged=!1,JSON.stringify(e)}deserialize(e){if(this.logger.trace("Deserializing JSON to in-memory cache"),this.cacheSnapshot=e,this.cacheSnapshot){this.logger.trace("Reading cache snapshot from disk");let e=ri.deserializeAllCache(this.overlayDefaults(JSON.parse(this.cacheSnapshot)));this.storage.setInMemoryCache(e)}else this.logger.trace("No cache snapshot to deserialize")}getKVStore(){return this.storage.getCache()}async getAllAccounts(e=new rr().createNewGuid()){let t;this.logger.trace("getAllAccounts called");try{return this.persistence&&(t=new nI(this,!1),await this.persistence.beforeCacheAccess(t)),this.storage.getAllAccounts(e)}finally{this.persistence&&t&&await this.persistence.afterCacheAccess(t)}}async getAccountByHomeId(e){let t=await this.getAllAccounts();return e&&t&&t.length&&t.filter(t=>t.homeAccountId===e)[0]||null}async getAccountByLocalId(e){let t=await this.getAllAccounts();return e&&t&&t.length&&t.filter(t=>t.localAccountId===e)[0]||null}async removeAccount(e,t=new rr().createNewGuid()){let n;this.logger.trace("removeAccount called");try{this.persistence&&(n=new nI(this,!0),await this.persistence.beforeCacheAccess(n)),await this.storage.removeAccount(t0.generateAccountCacheKey(e),t)}finally{this.persistence&&n&&await this.persistence.afterCacheAccess(n)}}handleChangeEvent(){this.cacheHasChanged=!0}mergeState(e,t){this.logger.trace("Merging in-memory cache with cache snapshot");let n=this.mergeRemovals(e,t);return this.mergeUpdates(n,t)}mergeUpdates(e,t){return Object.keys(t).forEach(n=>{let r=t[n];if(e.hasOwnProperty(n)){let t=null!==r,i="object"==typeof r,o=!Array.isArray(r),s=void 0!==e[n]&&null!==e[n];t&&i&&o&&s?this.mergeUpdates(e[n],r):e[n]=r}else null!==r&&(e[n]=r)}),e}mergeRemovals(e,t){this.logger.trace("Remove updated entries in cache");let n=e.Account?this.mergeRemovalsDict(e.Account,t.Account):e.Account,r=e.AccessToken?this.mergeRemovalsDict(e.AccessToken,t.AccessToken):e.AccessToken,i=e.RefreshToken?this.mergeRemovalsDict(e.RefreshToken,t.RefreshToken):e.RefreshToken,o=e.IdToken?this.mergeRemovalsDict(e.IdToken,t.IdToken):e.IdToken,s=e.AppMetadata?this.mergeRemovalsDict(e.AppMetadata,t.AppMetadata):e.AppMetadata;return{...e,Account:n,AccessToken:r,RefreshToken:i,IdToken:o,AppMetadata:s}}mergeRemovalsDict(e,t){let n={...e};return Object.keys(e).forEach(e=>{t&&t.hasOwnProperty(e)||delete n[e]}),n}overlayDefaults(e){return this.logger.trace("Overlaying input cache with the default cache"),{Account:{...ra.Account,...e.Account},IdToken:{...ra.IdToken,...e.IdToken},AccessToken:{...ra.AccessToken,...e.AccessToken},RefreshToken:{...ra.RefreshToken,...e.RefreshToken},AppMetadata:{...ra.AppMetadata,...e.AppMetadata}}}}var rc=n(41482);class ru{static fromAssertion(e){let t=new ru;return t.jwt=e,t}static fromCertificate(e,t,n){let r=new ru;return r.privateKey=t,r.thumbprint=e,r.useSha256=!1,n&&(r.publicCertificate=this.parseCertificate(n)),r}static fromCertificateWithSha256Thumbprint(e,t,n){let r=new ru;return r.privateKey=t,r.thumbprint=e,r.useSha256=!0,n&&(r.publicCertificate=this.parseCertificate(n)),r}getJwt(e,t,n){if(this.privateKey&&this.thumbprint)return this.jwt&&!this.isExpired()&&t===this.issuer&&n===this.jwtAudience?this.jwt:this.createJwt(e,t,n);if(this.jwt)return this.jwt;throw tf(e3)}createJwt(e,t,n){this.issuer=t,this.jwtAudience=n;let r=tR();this.expirationTime=r+600;let i={alg:this.useSha256?Y.PSS_256:Y.RSA_256};Object.assign(i,{[this.useSha256?Y.X5T_256:Y.X5T]:re.base64EncodeUrl(this.thumbprint,"hex")}),this.publicCertificate&&Object.assign(i,{[Y.X5C]:this.publicCertificate});let o={[Y.AUDIENCE]:this.jwtAudience,[Y.EXPIRATION_TIME]:this.expirationTime,[Y.ISSUER]:this.issuer,[Y.SUBJECT]:this.issuer,[Y.NOT_BEFORE]:r,[Y.JWT_ID]:e.createNewGuid()};return this.jwt=rc.sign(o,this.privateKey,{header:i}),this.jwt}isExpired(){return this.expirationTime<tR()}static parseCertificate(e){let t;let n=/-----BEGIN CERTIFICATE-----\r*\n(.+?)\r*\n-----END CERTIFICATE-----/gs,r=[];for(;null!==(t=n.exec(e));)r.push(t[1].replace(/\r*\n/g,a.EMPTY_STRING));return r}}let rh="2.16.3";class rd extends nd{constructor(e){super(e)}async acquireToken(e){this.logger.info("in acquireToken call in username-password client");let t=tR(),n=await this.executeTokenRequest(this.authority,e),r=new nC(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return r.validateTokenResponse(n.body),r.handleServerTokenResponse(n.body,this.authority,t,e)}async executeTokenRequest(e,t){let n=this.createTokenQueryParameters(t),r=tm.appendQueryString(e.tokenEndpoint,n),i=await this.createTokenRequestBody(t),o=this.createTokenRequestHeaders({credential:t.username,type:ns.UPN}),s={clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return this.executePostToTokenEndpoint(r,i,o,s,t.correlationId)}async createTokenRequestBody(e){let t=new nl;t.addClientId(this.config.authOptions.clientId),t.addUsername(e.username),t.addPassword(e.password),t.addScopes(e.scopes),t.addResponseTypeForTokenAndIdToken(),t.addGrantType(y.RESOURCE_OWNER_PASSWORD_GRANT),t.addClientInfo(),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&t.addServerTelemetry(this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();t.addCorrelationId(n),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret);let r=this.config.clientCredentials.clientAssertion;return r&&(t.addClientAssertion(await nO(r.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(r.assertionType)),(!eR.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.username&&t.addCcsUpn(e.username),t.createQueryString()}}class rf{constructor(e){this.config=function({auth:e,broker:t,cache:n,system:r,telemetry:i}){let o={...nJ,networkClient:new nq(r?.proxyUrl,r?.customAgentOptions),loggerOptions:r?.loggerOptions||nX,disableInternalRetries:r?.disableInternalRetries||!1};if(e.clientCertificate&&!e.clientCertificate.thumbprint&&!e.clientCertificate.thumbprintSha256)throw nK.createStateNotFoundError();return{auth:{...nZ,...e},broker:{...t},cache:{...nQ,...n},system:{...o,...r},telemetry:{...n0,...i}}}(e),this.cryptoProvider=new rr,this.logger=new er(this.config.system.loggerOptions,"@azure/msal-node",rh),this.storage=new rs(this.logger,this.config.auth.clientId,this.cryptoProvider,function(e){let t;let n=e.cloudDiscoveryMetadata;if(n)try{t=JSON.parse(n)}catch(e){throw eN(ey)}return{canonicalAuthority:e.authority?tH(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:t}}(this.config.auth)),this.tokenCache=new rl(this.storage,this.logger,this.config.cache.cachePlugin)}async getAuthCodeUrl(e){this.logger.info("getAuthCodeUrl called",e.correlationId);let t={...e,...await this.initializeBaseRequest(e),responseMode:e.responseMode||g.QUERY,authenticationScheme:A.BEARER},n=new nN(await this.buildOauthClientConfiguration(t.authority,t.correlationId,t.redirectUri,void 0,void 0,e.azureCloudOptions));return this.logger.verbose("Auth code client created",t.correlationId),n.getAuthCodeUrl(t)}async acquireTokenByCode(e,t){this.logger.info("acquireTokenByCode called"),e.state&&t&&(this.logger.info("acquireTokenByCode - validating state"),this.validateState(e.state,t.state||""),t={...t,state:""});let n={...e,...await this.initializeBaseRequest(e),authenticationScheme:A.BEARER},r=this.initializeServerTelemetryManager(q.acquireTokenByCode,n.correlationId);try{let i=await this.buildOauthClientConfiguration(n.authority,n.correlationId,n.redirectUri,r,void 0,e.azureCloudOptions),o=new nN(i);return this.logger.verbose("Auth code client created",n.correlationId),await o.acquireToken(n,t)}catch(e){throw e instanceof z&&e.setCorrelationId(n.correlationId),r.cacheFailedRequest(e),e}}async acquireTokenByRefreshToken(e){this.logger.info("acquireTokenByRefreshToken called",e.correlationId);let t={...e,...await this.initializeBaseRequest(e),authenticationScheme:A.BEARER},n=this.initializeServerTelemetryManager(q.acquireTokenByRefreshToken,t.correlationId);try{let r=await this.buildOauthClientConfiguration(t.authority,t.correlationId,t.redirectUri||"",n,void 0,e.azureCloudOptions),i=new nR(r);return this.logger.verbose("Refresh token client created",t.correlationId),await i.acquireToken(t)}catch(e){throw e instanceof z&&e.setCorrelationId(t.correlationId),n.cacheFailedRequest(e),e}}async acquireTokenSilent(e){let t={...e,...await this.initializeBaseRequest(e),forceRefresh:e.forceRefresh||!1},n=this.initializeServerTelemetryManager(q.acquireTokenSilent,t.correlationId,t.forceRefresh);try{let r=await this.buildOauthClientConfiguration(t.authority,t.correlationId,t.redirectUri||"",n,void 0,e.azureCloudOptions),i=new nD(r);return this.logger.verbose("Silent flow client created",t.correlationId),await i.acquireToken(t)}catch(e){throw e instanceof z&&e.setCorrelationId(t.correlationId),n.cacheFailedRequest(e),e}}async acquireTokenByUsernamePassword(e){this.logger.info("acquireTokenByUsernamePassword called",e.correlationId);let t={...e,...await this.initializeBaseRequest(e)},n=this.initializeServerTelemetryManager(q.acquireTokenByUsernamePassword,t.correlationId);try{let r=await this.buildOauthClientConfiguration(t.authority,t.correlationId,"",n,void 0,e.azureCloudOptions),i=new rd(r);return this.logger.verbose("Username password client created",t.correlationId),await i.acquireToken(t)}catch(e){throw e instanceof z&&e.setCorrelationId(t.correlationId),n.cacheFailedRequest(e),e}}getTokenCache(){return this.logger.info("getTokenCache called"),this.tokenCache}validateState(e,t){if(!e)throw nK.createStateNotFoundError();if(e!==t)throw tf(eq)}getLogger(){return this.logger}setLogger(e){this.logger=e}async buildOauthClientConfiguration(e,t,n,r,i,o){this.logger.verbose("buildOauthClientConfiguration called",t);let s=o||this.config.auth.azureCloudOptions,l=await this.createAuthority(e,t,i,s);return this.logger.info(`Building oauth client configuration with the following authority: ${l.tokenEndpoint}.`,t),r?.updateRegionDiscoveryMetadata(l.regionDiscoveryMetadata),{authOptions:{clientId:this.config.auth.clientId,authority:l,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:n},loggerOptions:{logLevel:this.config.system.loggerOptions.logLevel,loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled,correlationId:t},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.cryptoProvider,networkInterface:this.config.system.networkClient,storageInterface:this.storage,serverTelemetryManager:r,clientCredentials:{clientSecret:this.clientSecret,clientAssertion:await this.getClientAssertion(l)},libraryInfo:{sku:B.MSAL_SKU,version:rh,cpu:process.arch||a.EMPTY_STRING,os:process.platform||a.EMPTY_STRING},telemetry:this.config.telemetry,persistencePlugin:this.config.cache.cachePlugin,serializableCache:this.tokenCache}}async getClientAssertion(e){return this.developerProvidedClientAssertion&&(this.clientAssertion=ru.fromAssertion(await nO(this.developerProvidedClientAssertion,this.config.auth.clientId,e.tokenEndpoint))),this.clientAssertion&&{assertion:this.clientAssertion.getJwt(this.cryptoProvider,this.config.auth.clientId,e.tokenEndpoint),assertionType:B.JWT_BEARER_ASSERTION_TYPE}}async initializeBaseRequest(e){return this.logger.verbose("initializeRequestScopes called",e.correlationId),e.authenticationScheme&&e.authenticationScheme===A.POP&&this.logger.verbose("Authentication Scheme 'pop' is not supported yet, setting Authentication Scheme to 'Bearer' for request",e.correlationId),e.authenticationScheme=A.BEARER,this.config.cache.claimsBasedCachingEnabled&&e.claims&&!eR.isEmptyObj(e.claims)&&(e.requestedClaimsHash=await this.cryptoProvider.hashString(e.claims)),{...e,scopes:[...e&&e.scopes||[],...c],correlationId:e&&e.correlationId||this.cryptoProvider.createNewGuid(),authority:e.authority||this.config.auth.authority}}initializeServerTelemetryManager(e,t,n){return new W({clientId:this.config.auth.clientId,correlationId:t,apiId:e,forceRefresh:n||!1},this.storage)}async createAuthority(e,t,n,r){this.logger.verbose("createAuthority called",t);let i=tj.generateAuthority(e,r),o={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,azureRegionConfiguration:n,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache};return nc(i,this.config.system.networkClient,this.storage,o,this.logger,t)}clearCache(){this.storage.clear()}}class rp{async listenForAuthCode(e,t){if(this.server)throw nK.createLoopbackServerAlreadyExistsError();return new Promise((n,r)=>{this.server=nU.createServer((i,o)=>{let s=i.url;if(s){if(s===a.FORWARD_SLASH){o.end(e||"Auth code was successfully acquired. You can close this window now.");return}}else{o.end(t||"Error occurred loading redirectUrl"),r(nK.createUnableToLoadRedirectUrlError());return}let c=this.getRedirectUri(),u=tp(new URL(s,c).search)||{};u.code&&(o.writeHead(l.REDIRECT,{location:c}),o.end()),u.error&&o.end(t||`Error occurred: ${u.error}`),n(u)}),this.server.listen(0,"127.0.0.1")})}getRedirectUri(){if(!this.server||!this.server.listening)throw nK.createNoLoopbackServerExistsError();let e=this.server.address();if(!e||"string"==typeof e||!e.port)throw this.closeServer(),nK.createInvalidLoopbackAddressTypeError();let t=e&&e.port;return`${B.HTTP_PROTOCOL}${B.LOCALHOST}:${t}`}closeServer(){this.server&&(this.server.close(),"function"==typeof this.server.closeAllConnections&&this.server.closeAllConnections(),this.server.unref(),this.server=void 0)}}class rm extends nd{constructor(e){super(e)}async acquireToken(e){let t=await this.getDeviceCode(e);e.deviceCodeCallback(t);let n=tR(),r=await this.acquireTokenWithDeviceCode(e,t),i=new nC(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(r),i.handleServerTokenResponse(r,this.authority,n,e)}async getDeviceCode(e){let t=this.createExtraQueryParameters(e),n=tm.appendQueryString(this.authority.deviceCodeEndpoint,t),r=this.createQueryString(e),i=this.createTokenRequestHeaders(),o={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return this.executePostRequestToDeviceCodeEndpoint(n,r,i,o,e.correlationId)}createExtraQueryParameters(e){let t=new nl;return e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),t.createQueryString()}async executePostRequestToDeviceCodeEndpoint(e,t,n,r,i){let{body:{user_code:o,device_code:s,verification_uri:a,expires_in:l,interval:c,message:u}}=await this.sendPostRequest(r,e,{body:t,headers:n},i);return{userCode:o,deviceCode:s,verificationUri:a,expiresIn:l,interval:c,message:u}}createQueryString(e){let t=new nl;return t.addScopes(e.scopes),t.addClientId(this.config.authOptions.clientId),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),t.createQueryString()}continuePolling(e,t,n){if(n)throw this.logger.error("Token request cancelled by setting DeviceCodeRequest.cancel = true"),tf(eX);if(t&&t<e&&tR()>t)throw this.logger.error(`User defined timeout for device code polling reached. The timeout was set for ${t}`),tf(te);if(tR()>e)throw t&&this.logger.verbose(`User specified timeout ignored as the device code has expired before the timeout elapsed. The user specified timeout was set for ${t}`),this.logger.error(`Device code expired. Expiration time of device code was ${e}`),tf(eJ);return!0}async acquireTokenWithDeviceCode(e,t){let n=this.createTokenQueryParameters(e),r=tm.appendQueryString(this.authority.tokenEndpoint,n),i=this.createTokenRequestBody(e,t),o=this.createTokenRequestHeaders(),s=e.timeout?tR()+e.timeout:void 0,l=tR()+t.expiresIn,c=1e3*t.interval;for(;this.continuePolling(l,s,e.cancel);){let t={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},n=await this.executePostToTokenEndpoint(r,i,o,t,e.correlationId);if(!n.body||!n.body.error)return this.logger.verbose("Authorization completed successfully. Polling stopped."),n.body;if(n.body.error===a.AUTHORIZATION_PENDING)this.logger.info("Authorization pending. Continue polling."),await function(e,t){return new Promise(t=>setTimeout(()=>t(void 0),e))}(c);else{var u;throw this.logger.info("Unexpected error in polling from the server"),new z(V,(u=n.body.error)?`${$[V]} ${u}`:$[V])}}throw this.logger.error("Polling stopped for unknown reasons."),tf(e0)}createTokenRequestBody(e,t){let n=new nl;n.addScopes(e.scopes),n.addClientId(this.config.authOptions.clientId),n.addGrantType(y.DEVICE_CODE_GRANT),n.addDeviceCode(t.deviceCode);let r=e.correlationId||this.config.cryptoInterface.createNewGuid();return n.addCorrelationId(r),n.addClientInfo(),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addThrottling(),this.serverTelemetryManager&&n.addServerTelemetry(this.serverTelemetryManager),(!eR.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),n.createQueryString()}}class rg extends rf{constructor(e){super(e),this.config.broker.nativeBrokerPlugin&&(this.config.broker.nativeBrokerPlugin.isBrokerAvailable?(this.nativeBrokerPlugin=this.config.broker.nativeBrokerPlugin,this.nativeBrokerPlugin.setLogger(this.config.system.loggerOptions)):this.logger.warning("NativeBroker implementation was provided but the broker is unavailable.")),this.skus=W.makeExtraSkuString({libraryName:B.MSAL_SKU,libraryVersion:rh})}async acquireTokenByDeviceCode(e){this.logger.info("acquireTokenByDeviceCode called",e.correlationId);let t=Object.assign(e,await this.initializeBaseRequest(e)),n=this.initializeServerTelemetryManager(q.acquireTokenByDeviceCode,t.correlationId);try{let r=await this.buildOauthClientConfiguration(t.authority,t.correlationId,"",n,void 0,e.azureCloudOptions),i=new rm(r);return this.logger.verbose("Device code client created",t.correlationId),await i.acquireToken(t)}catch(e){throw e instanceof z&&e.setCorrelationId(t.correlationId),n.cacheFailedRequest(e),e}}async acquireTokenInteractive(e){let t=e.correlationId||this.cryptoProvider.createNewGuid();this.logger.trace("acquireTokenInteractive called",t);let{openBrowser:n,successTemplate:r,errorTemplate:i,windowHandle:o,loopbackClient:s,...l}=e;if(this.nativeBrokerPlugin){let n={...l,clientId:this.config.auth.clientId,scopes:e.scopes||c,redirectUri:`${B.HTTP_PROTOCOL}${B.LOCALHOST}`,authority:e.authority||this.config.auth.authority,correlationId:t,extraParameters:{...l.extraQueryParameters,...l.tokenQueryParameters,[ee]:this.skus},accountId:l.account?.nativeAccountId};return this.nativeBrokerPlugin.acquireTokenInteractive(n,o)}let{verifier:u,challenge:h}=await this.cryptoProvider.generatePkceCodes(),d=s||new rp,f={},p=null;try{let o=d.listenForAuthCode(r,i).then(e=>{f=e}).catch(e=>{p=e}),s=await this.waitForRedirectUri(d),y={...l,correlationId:t,scopes:e.scopes||c,redirectUri:s,responseMode:g.QUERY,codeChallenge:h,codeChallengeMethod:m.S256},_=await this.getAuthCodeUrl(y);if(await n(_),await o,p)throw p;if(f.error)throw new en(f.error,f.error_description,f.suberror);if(!f.code)throw nK.createNoAuthCodeInResponseError();let E=f.client_info,T={code:f.code,codeVerifier:u,clientInfo:E||a.EMPTY_STRING,...y};return await this.acquireTokenByCode(T)}finally{d.closeServer()}}async acquireTokenSilent(e){let t=e.correlationId||this.cryptoProvider.createNewGuid();if(this.logger.trace("acquireTokenSilent called",t),this.nativeBrokerPlugin){let n={...e,clientId:this.config.auth.clientId,scopes:e.scopes||c,redirectUri:`${B.HTTP_PROTOCOL}${B.LOCALHOST}`,authority:e.authority||this.config.auth.authority,correlationId:t,extraParameters:{...e.tokenQueryParameters,[ee]:this.skus},accountId:e.account.nativeAccountId,forceRefresh:e.forceRefresh||!1};return this.nativeBrokerPlugin.acquireTokenSilent(n)}return super.acquireTokenSilent(e)}async signOut(e){if(this.nativeBrokerPlugin&&e.account.nativeAccountId){let t={clientId:this.config.auth.clientId,accountId:e.account.nativeAccountId,correlationId:e.correlationId||this.cryptoProvider.createNewGuid()};await this.nativeBrokerPlugin.signOut(t)}await this.getTokenCache().removeAccount(e.account,e.correlationId)}async getAllAccounts(){if(this.nativeBrokerPlugin){let e=this.cryptoProvider.createNewGuid();return this.nativeBrokerPlugin.getAllAccounts(this.config.auth.clientId,e)}return this.getTokenCache().getAllAccounts()}async waitForRedirectUri(e){return new Promise((t,n)=>{let r=0,i=setInterval(()=>{if(j.TIMEOUT_MS/j.INTERVAL_MS<r){clearInterval(i),n(nK.createLoopbackServerTimeoutError());return}try{let n=e.getRedirectUri();clearInterval(i),t(n);return}catch(e){if(e instanceof z&&e.errorCode===nG.noLoopbackServerExists.code){r++;return}clearInterval(i),n(e);return}},j.INTERVAL_MS)})}}class ry extends nd{constructor(e,t){super(e),this.appTokenProvider=t}async acquireToken(e){if(e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority);let[t,n]=await this.getCachedAuthenticationResult(e,this.config,this.cryptoUtils,this.authority,this.cacheManager,this.serverTelemetryManager);return t?(n===k.PROACTIVELY_REFRESHED&&(this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),await this.executeTokenRequest(e,this.authority,!0)),t):this.executeTokenRequest(e,this.authority)}async getCachedAuthenticationResult(e,t,n,r,i,o){let s;let a=k.NOT_APPLICABLE;t.serializableCache&&t.persistencePlugin&&(s=new nI(t.serializableCache,!1),await t.persistencePlugin.beforeCacheAccess(s));let l=this.readAccessTokenFromCache(r,t.managedIdentityId?.id||t.authOptions.clientId,new tW(e.scopes||[]),i,e.correlationId);return(t.serializableCache&&t.persistencePlugin&&s&&await t.persistencePlugin.afterCacheAccess(s),l)?tD(l.expiresOn,t.systemOptions?.tokenRenewalOffsetSeconds||300)?(o?.setCacheOutcome(k.CACHED_ACCESS_TOKEN_EXPIRED),[null,k.CACHED_ACCESS_TOKEN_EXPIRED]):(l.refreshOn&&tD(l.refreshOn.toString(),0)&&(a=k.PROACTIVELY_REFRESHED,o?.setCacheOutcome(k.PROACTIVELY_REFRESHED)),[await nC.generateAuthenticationResult(n,r,{account:null,idToken:null,accessToken:l,refreshToken:null,appMetadata:null},!0,e),a]):(o?.setCacheOutcome(k.NO_CACHED_ACCESS_TOKEN),[null,k.NO_CACHED_ACCESS_TOKEN])}readAccessTokenFromCache(e,t,n,r,i){let o={homeAccountId:a.EMPTY_STRING,environment:e.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:T.ACCESS_TOKEN,clientId:t,realm:e.tenant,target:tW.createSearchScopes(n.asArray())},s=r.getAccessTokensByFilter(o,i);if(s.length<1)return null;if(s.length>1)throw tf(e$);return s[0]}async executeTokenRequest(e,t,n){let r,i;if(this.appTokenProvider){this.logger.info("Using appTokenProvider extensibility.");let t={correlationId:e.correlationId,tenantId:this.config.authOptions.authority.tenant,scopes:e.scopes,claims:e.claims};i=tR();let n=await this.appTokenProvider(t);r={access_token:n.accessToken,expires_in:n.expiresInSeconds,refresh_in:n.refreshInSeconds,token_type:A.BEARER}}else{let n=this.createTokenQueryParameters(e),o=tm.appendQueryString(t.tokenEndpoint,n),s=await this.createTokenRequestBody(e),a=this.createTokenRequestHeaders(),l={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};this.logger.info("Sending token request to endpoint: "+t.tokenEndpoint),i=tR();let c=await this.executePostToTokenEndpoint(o,s,a,l,e.correlationId);(r=c.body).status=c.status}let o=new nC(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(r,n),await o.handleServerTokenResponse(r,this.authority,i,e)}async createTokenRequestBody(e){let t=new nl;t.addClientId(this.config.authOptions.clientId),t.addScopes(e.scopes,!1),t.addGrantType(y.CLIENT_CREDENTIALS_GRANT),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&t.addServerTelemetry(this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();t.addCorrelationId(n),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret);let r=e.clientAssertion||this.config.clientCredentials.clientAssertion;return r&&(t.addClientAssertion(await nO(r.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(r.assertionType)),(!eR.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),t.createQueryString()}}class r_ extends nd{constructor(e){super(e)}async acquireToken(e){if(this.scopeSet=new tW(e.scopes||[]),this.userAssertionHash=await this.cryptoUtils.hashString(e.oboAssertion),e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority,this.userAssertionHash);try{return await this.getCachedAuthenticationResult(e)}catch(t){return await this.executeTokenRequest(e,this.authority,this.userAssertionHash)}}async getCachedAuthenticationResult(e){let t;let n=this.readAccessTokenFromCacheForOBO(this.config.authOptions.clientId,e);if(n){if(tD(n.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.serverTelemetryManager?.setCacheOutcome(k.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info(`OnbehalfofFlow:getCachedAuthenticationResult - Cached access token is expired or will expire within ${this.config.systemOptions.tokenRenewalOffsetSeconds} seconds.`),tf(e7)}else throw this.serverTelemetryManager?.setCacheOutcome(k.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),tf(e7);let r=this.readIdTokenFromCacheForOBO(n.homeAccountId,e.correlationId),i=null;if(r){let n=(t=tO(r.secret,re.base64Decode)).oid||t.sub,o={homeAccountId:r.homeAccountId,environment:r.environment,tenantId:r.realm,username:a.EMPTY_STRING,localAccountId:n||a.EMPTY_STRING};i=this.cacheManager.readAccountFromCache(o,e.correlationId)}return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),nC.generateAuthenticationResult(this.cryptoUtils,this.authority,{account:i,accessToken:n,idToken:r,refreshToken:null,appMetadata:null},!0,e,t)}readIdTokenFromCacheForOBO(e,t){let n={homeAccountId:e,environment:this.authority.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:T.ID_TOKEN,clientId:this.config.authOptions.clientId,realm:this.authority.tenant},r=this.cacheManager.getIdTokensByFilter(n,t);return Object.values(r).length<1?null:Object.values(r)[0]}readAccessTokenFromCacheForOBO(e,t){let n=t.authenticationScheme||A.BEARER,r={credentialType:n&&n.toLowerCase()!==A.BEARER.toLowerCase()?T.ACCESS_TOKEN_WITH_AUTH_SCHEME:T.ACCESS_TOKEN,clientId:e,target:tW.createSearchScopes(this.scopeSet.asArray()),tokenType:n,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash,userAssertionHash:this.userAssertionHash},i=this.cacheManager.getAccessTokensByFilter(r,t.correlationId),o=i.length;if(o<1)return null;if(o>1)throw tf(e$);return i[0]}async executeTokenRequest(e,t,n){let r=this.createTokenQueryParameters(e),i=tm.appendQueryString(t.tokenEndpoint,r),o=await this.createTokenRequestBody(e),s=this.createTokenRequestHeaders(),a={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},l=tR(),c=await this.executePostToTokenEndpoint(i,o,s,a,e.correlationId),u=new nC(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return u.validateTokenResponse(c.body),await u.handleServerTokenResponse(c.body,this.authority,l,e,void 0,n)}async createTokenRequestBody(e){let t=new nl;t.addClientId(this.config.authOptions.clientId),t.addScopes(e.scopes),t.addGrantType(y.JWT_BEARER),t.addClientInfo(),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&t.addServerTelemetry(this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();t.addCorrelationId(n),t.addRequestTokenUse("on_behalf_of"),t.addOboAssertion(e.oboAssertion),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret);let r=this.config.clientCredentials.clientAssertion;return r&&(t.addClientAssertion(await nO(r.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(r.assertionType)),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),t.createQueryString()}}class rE extends rf{constructor(e){super(e),this.setClientCredential(),this.appTokenProvider=void 0}SetAppTokenProvider(e){this.appTokenProvider=e}async acquireTokenByClientCredential(e){let t,n;this.logger.info("acquireTokenByClientCredential called",e.correlationId),e.clientAssertion&&(t={assertion:await nO(e.clientAssertion,this.config.auth.clientId),assertionType:B.JWT_BEARER_ASSERTION_TYPE});let r=await this.initializeBaseRequest(e),i={...r,scopes:r.scopes.filter(e=>!c.includes(e))},o={...e,...i,clientAssertion:t},s=new tm(o.authority).getUrlComponents().PathSegments[0];if(Object.values(d).includes(s))throw tf(tl);let a=process.env.MSAL_FORCE_REGION;"DisableMsalForceRegion"!==o.azureRegion&&(n=!o.azureRegion&&a?a:o.azureRegion);let l={azureRegion:n,environmentRegion:process.env.REGION_NAME},u=this.initializeServerTelemetryManager(q.acquireTokenByClientCredential,o.correlationId,o.skipCache);try{let t=await this.buildOauthClientConfiguration(o.authority,o.correlationId,"",u,l,e.azureCloudOptions),n=new ry(t,this.appTokenProvider);return this.logger.verbose("Client credential client created",o.correlationId),await n.acquireToken(o)}catch(e){throw e instanceof z&&e.setCorrelationId(o.correlationId),u.cacheFailedRequest(e),e}}async acquireTokenOnBehalfOf(e){this.logger.info("acquireTokenOnBehalfOf called",e.correlationId);let t={...e,...await this.initializeBaseRequest(e)};try{let n=await this.buildOauthClientConfiguration(t.authority,t.correlationId,"",void 0,void 0,e.azureCloudOptions),r=new r_(n);return this.logger.verbose("On behalf of client created",t.correlationId),await r.acquireToken(t)}catch(e){throw e instanceof z&&e.setCorrelationId(t.correlationId),e}}setClientCredential(){let e=!!this.config.auth.clientSecret,t=!!this.config.auth.clientAssertion,n=(!!this.config.auth.clientCertificate?.thumbprint||!!this.config.auth.clientCertificate?.thumbprintSha256)&&!!this.config.auth.clientCertificate?.privateKey;if(!this.appTokenProvider){if(e&&t||t&&n||e&&n)throw tf(e9);if(this.config.auth.clientSecret){this.clientSecret=this.config.auth.clientSecret;return}if(this.config.auth.clientAssertion){this.developerProvidedClientAssertion=this.config.auth.clientAssertion;return}if(n)this.clientAssertion=this.config.auth.clientCertificate.thumbprintSha256?ru.fromCertificateWithSha256Thumbprint(this.config.auth.clientCertificate.thumbprintSha256,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c):ru.fromCertificate(this.config.auth.clientCertificate.thumbprint,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c);else throw tf(e9)}}}let rT={MANAGED_IDENTITY_CLIENT_ID:"client_id",MANAGED_IDENTITY_OBJECT_ID:"object_id",MANAGED_IDENTITY_RESOURCE_ID:"mi_res_id"};class rw{constructor(e,t,n,r){this.logger=e,this.nodeStorage=t,this.networkClient=n,this.cryptoProvider=r}async getServerTokenResponseAsync(e,t,n,r){return this.getServerTokenResponse(e)}getServerTokenResponse(e){let t,n;return e.body.expires_on&&(n=e.body.expires_on-tR())>7200&&(t=n/2),{status:e.status,access_token:e.body.access_token,expires_in:n,scope:e.body.resource,token_type:e.body.token_type,refresh_in:t,correlation_id:e.body.correlation_id||e.body.correlationId,error:"string"==typeof e.body.error?e.body.error:e.body.error?.code,error_description:e.body.message||("string"==typeof e.body.error?e.body.error_description:e.body.error?.message),error_codes:e.body.error_codes,timestamp:e.body.timestamp,trace_id:e.body.trace_id}}async acquireTokenWithManagedIdentity(e,t,n,r){let i;let o=this.createRequest(e.resource,t),s=o.headers;s[h.CONTENT_TYPE]=a.URL_FORM_CONTENT_TYPE;let l={headers:s};Object.keys(o.bodyParameters).length&&(l.body=o.computeParametersBodyString());let c=tR();try{i=o.httpMethod===L.POST?await this.networkClient.sendPostRequestAsync(o.computeUri(),l):await this.networkClient.sendGetRequestAsync(o.computeUri(),l)}catch(e){if(e instanceof z)throw e;throw tf(eU)}let u=new nC(t.id,this.nodeStorage,this.cryptoProvider,this.logger,null,null),d=await this.getServerTokenResponseAsync(i,this.networkClient,o,l);return u.validateTokenResponse(d,r),u.handleServerTokenResponse(d,n,c,e)}getManagedIdentityUserAssignedIdQueryParameterKey(e){switch(e){case M.USER_ASSIGNED_CLIENT_ID:return this.logger.info("[Managed Identity] Adding user assigned client id to the request."),rT.MANAGED_IDENTITY_CLIENT_ID;case M.USER_ASSIGNED_RESOURCE_ID:return this.logger.info("[Managed Identity] Adding user assigned resource id to the request."),rT.MANAGED_IDENTITY_RESOURCE_ID;case M.USER_ASSIGNED_OBJECT_ID:return this.logger.info("[Managed Identity] Adding user assigned object id to the request."),rT.MANAGED_IDENTITY_OBJECT_ID;default:throw new nW(nV)}}}rw.getValidatedEnvVariableUrlString=(e,t,n,r)=>{try{return new tm(t).urlString}catch(t){throw r.info(`[Managed Identity] ${n} managed identity is unavailable because the '${e}' environment variable is malformed.`),new nW(n$[e])}};var rb=n(92048),rv=n.n(rb),rS=n(55315),rA=n.n(rS);process.env.ProgramData,process.env.ProgramFiles;var rI=n(70612),rC=n(47261),rO=n(97742);let rN="undefined"!=typeof process&&process.env&&process.env.DEBUG||void 0,rR=[],rD=[],rk=[];rN&&rM(rN);let rP=Object.assign(e=>rx(e),{enable:rM,enabled:rL,disable:function(){let e=r||"";return rM(""),e},log:function(e,...t){rO.stderr.write(`${rC.format(e,...t)}${rI.EOL}`)}});function rM(e){for(let t of(r=e,rR=[],rD=[],e.split(",").map(e=>e.trim())))t.startsWith("-")?rD.push(t.substring(1)):rR.push(t);for(let e of rk)e.enabled=rL(e.namespace)}function rL(e){if(e.endsWith("*"))return!0;for(let t of rD)if(rU(e,t))return!1;for(let t of rR)if(rU(e,t))return!0;return!1}function rU(e,t){if(-1===t.indexOf("*"))return e===t;let n=t;if(-1!==t.indexOf("**")){let e=[],r="";for(let n of t)("*"!==n||"*"!==r)&&(r=n,e.push(n));n=e.join("")}let r=0,i=0,o=n.length,s=e.length,a=-1,l=-1;for(;r<s&&i<o;){if("*"===n[i]){if(a=i,++i===o)return!0;for(;e[r]!==n[i];)if(++r===s)return!1;l=r,r++,i++;continue}if(n[i]===e[r])i++,r++;else{if(!(a>=0)||(i=a+1,(r=l+1)===s))return!1;for(;e[r]!==n[i];)if(++r===s)return!1;l=r,r++,i++;continue}}let c=r===e.length,u=i===n.length,h=i===n.length-1&&"*"===n[i];return c&&(u||h)}function rx(e){let t=Object.assign(function(...n){t.enabled&&(n.length>0&&(n[0]=`${e} ${n[0]}`),t.log(...n))},{enabled:rL(e),destroy:rF,log:rP.log,namespace:e,extend:rB});return rk.push(t),t}function rF(){let e=rk.indexOf(this);return e>=0&&(rk.splice(e,1),!0)}function rB(e){let t=rx(`${this.namespace}:${e}`);return t.log=this.log,t}let rq=["verbose","info","warning","error"],rY={verbose:400,info:300,warning:200,error:100};function rj(e,t){t.log=(...t)=>{e.log(...t)}}function rH(e){return rq.includes(e)}function rV(e){let t;let n=new Set,r="undefined"!=typeof process&&process.env&&process.env[e.logLevelEnvVarName]||void 0,i=rP(e.namespace);function o(e){if(e&&!rH(e))throw Error(`Unknown log level '${e}'. Acceptable values: ${rq.join(",")}`);t=e;let r=[];for(let e of n)s(e)&&r.push(e.namespace);rP.enable(r.join(","))}function s(e){return!!(t&&rY[e.level]<=rY[t])}function a(e,t){let r=Object.assign(e.extend(t),{level:t});if(rj(e,r),s(r)){let e=rP.disable();rP.enable(e+","+r.namespace)}return n.add(r),r}return i.log=(...e)=>{rP.log(...e)},r&&(rH(r)?o(r):console.error(`${e.logLevelEnvVarName} set to unknown log level '${r}'; logging is not enabled. Acceptable values: ${rq.join(", ")}.`)),{setLogLevel:o,getLogLevel:function(){return t},createClientLogger:function(e){let t=i.extend(e);return rj(i,t),{error:a(t,"error"),warning:a(t,"warning"),info:a(t,"info"),verbose:a(t,"verbose")}},logger:i}}let r$=rV({logLevelEnvVarName:"TYPESPEC_RUNTIME_LOG_LEVEL",namespace:"typeSpecRuntime"});function rz(e){return r$.createClientLogger(e)}r$.logger;let rW=rV({logLevelEnvVarName:"AZURE_LOG_LEVEL",namespace:"azure"});function rG(){return rW.getLogLevel()}function rK(e){return rW.createClientLogger(e)}rW.logger;let rZ="CredentialUnavailableError";class rQ extends Error{constructor(e){super(e),this.name=rZ}}let rX="AuthenticationError";class rJ extends Error{constructor(e,t){let n={error:"unknown",errorDescription:"An unknown error occurred and no additional details are available."};if(function(e){return e&&"string"==typeof e.error&&"string"==typeof e.error_description}(t))n=r2(t);else if("string"==typeof t)try{let e=JSON.parse(t);n=r2(e)}catch(r){n=400===e?{error:"authority_not_found",errorDescription:"The specified authority URL was not found."}:{error:"unknown_error",errorDescription:`An unknown error has occurred. Response body:

${t}`}}else n={error:"unknown_error",errorDescription:"An unknown error occurred and no additional details are available."};super(`${n.error} Status code: ${e}
More details:
${n.errorDescription}`),this.statusCode=e,this.errorResponse=n,this.name=rX}}let r0="AggregateAuthenticationError";class r1 extends Error{constructor(e,t){super(`${t}
${e.join("\n")}`),this.errors=e,this.name=r0}}function r2(e){return{error:e.error,errorDescription:e.error_description,correlationId:e.correlation_id,errorCodes:e.error_codes,timestamp:e.timestamp,traceId:e.trace_id}}class r4 extends Error{constructor(e){super(e.message),this.scopes=e.scopes,this.getTokenOptions=e.getTokenOptions,this.name="AuthenticationRequiredError"}}let r8=rK("identity");function r5(e){return e.reduce((e,t)=>(process.env[t]?e.assigned.push(t):e.missing.push(t),e),{missing:[],assigned:[]})}function r6(e){return`SUCCESS. Scopes: ${Array.isArray(e)?e.join(", "):e}.`}function r3(e,t){let n="ERROR.";return(null==e?void 0:e.length)&&(n+=` Scopes: ${Array.isArray(e)?e.join(", "):e}.`),`${n} Error message: ${"string"==typeof t?t:t.message}.`}function r9(e,t,n=r8){let r=t?`${t.fullTitle} ${e}`:e;return{title:e,fullTitle:r,info:function(e){n.info(`${r} =>`,e)},warning:function(e){n.warning(`${r} =>`,e)},verbose:function(e){n.verbose(`${r} =>`,e)}}}function r7(e,t=r8){let n=r9(e,void 0,t);return Object.assign(Object.assign({},n),{parent:t,getToken:r9("=> getToken()",n,t)})}let ie="3.4.2",it="04b07795-8ddb-461a-bbee-02f9e1bf7b46";!function(e){e.AzureChina="https://login.chinacloudapi.cn",e.AzureGermany="https://login.microsoftonline.de",e.AzureGovernment="https://login.microsoftonline.us",e.AzurePublicCloud="https://login.microsoftonline.com"}(nM||(nM={}));let ir=nM.AzurePublicCloud,ii=["*"],io=new WeakMap,is=new WeakMap;class ia{constructor(){this.onabort=null,io.set(this,[]),is.set(this,!1)}get aborted(){if(!is.has(this))throw TypeError("Expected `this` to be an instance of AbortSignal.");return is.get(this)}static get none(){return new ia}addEventListener(e,t){if(!io.has(this))throw TypeError("Expected `this` to be an instance of AbortSignal.");io.get(this).push(t)}removeEventListener(e,t){if(!io.has(this))throw TypeError("Expected `this` to be an instance of AbortSignal.");let n=io.get(this),r=n.indexOf(t);r>-1&&n.splice(r,1)}dispatchEvent(e){throw Error("This is a stub dispatchEvent implementation that should not be used.  It only exists for type-checking purposes.")}}function il(e){if(e.aborted)return;e.onabort&&e.onabort.call(e);let t=io.get(e);t&&t.slice().forEach(t=>{t.call(e,{type:"abort"})}),is.set(e,!0)}class ic extends Error{constructor(e){super(e),this.name="AbortError"}}class iu{constructor(e){if(this._signal=new ia,!e)return;for(let t of(Array.isArray(e)||(e=arguments),e))t.aborted?this.abort():t.addEventListener("abort",()=>{this.abort()})}get signal(){return this._signal}abort(){il(this._signal)}static timeout(e){let t=new ia,n=setTimeout(il,e,t);return"function"==typeof n.unref&&n.unref(),t}}function ih(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}function id(e){if(ih(e)){let t="string"==typeof e.name,n="string"==typeof e.message;return t&&n}return!1}var ip=n(6005);let im="function"==typeof globalThis?.crypto?.randomUUID?globalThis.crypto.randomUUID.bind(globalThis.crypto):ip.randomUUID;"undefined"!=typeof window&&window.document,"object"==typeof self&&"function"==typeof self?.importScripts&&(self.constructor?.name==="DedicatedWorkerGlobalScope"||self.constructor?.name==="ServiceWorkerGlobalScope"||self.constructor?.name),"undefined"!=typeof Deno&&void 0!==Deno.version&&Deno.version.deno,"undefined"!=typeof Bun&&Bun.version;let ig=void 0!==globalThis.process&&!!globalThis.process.version&&!!globalThis.process.versions?.node;"undefined"!=typeof navigator&&navigator?.product;let iy="REDACTED",i_=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],iE=["api-version"];class iT{allowedHeaderNames;allowedQueryParameters;constructor({additionalAllowedHeaderNames:e=[],additionalAllowedQueryParameters:t=[]}={}){e=i_.concat(e),t=iE.concat(t),this.allowedHeaderNames=new Set(e.map(e=>e.toLowerCase())),this.allowedQueryParameters=new Set(t.map(e=>e.toLowerCase()))}sanitize(e){let t=new Set;return JSON.stringify(e,(e,n)=>{if(n instanceof Error)return{...n,name:n.name,message:n.message};if("headers"===e)return this.sanitizeHeaders(n);if("url"===e)return this.sanitizeUrl(n);if("query"===e)return this.sanitizeQuery(n);if("body"!==e){if("response"===e)return;if("operationSpec"===e)return;else if(Array.isArray(n)||ih(n)){if(t.has(n))return"[Circular]";t.add(n)}return n}},2)}sanitizeUrl(e){if("string"!=typeof e||null===e||""===e)return e;let t=new URL(e);if(!t.search)return e;for(let[e]of t.searchParams)this.allowedQueryParameters.has(e.toLowerCase())||t.searchParams.set(e,iy);return t.toString()}sanitizeHeaders(e){let t={};for(let n of Object.keys(e))this.allowedHeaderNames.has(n.toLowerCase())?t[n]=e[n]:t[n]=iy;return t}sanitizeQuery(e){if("object"!=typeof e||null===e)return e;let t={};for(let n of Object.keys(e))this.allowedQueryParameters.has(n.toLowerCase())?t[n]=e[n]:t[n]=iy;return t}}class iw extends Error{constructor(e){super(e),this.name="AbortError"}}function ib(e,t){let n;let{abortSignal:r,abortErrorMsg:i}=t??{};return function(e,t){let{cleanupBeforeAbort:n,abortSignal:r,abortErrorMsg:i}=t??{};return new Promise((t,o)=>{function s(){o(new iw(i??"The operation was aborted."))}function a(){r?.removeEventListener("abort",l)}function l(){n?.(),a(),s()}if(r?.aborted)return s();try{e(e=>{a(),t(e)},e=>{a(),o(e)})}catch(e){o(e)}r?.addEventListener("abort",l)})}(t=>{n=setTimeout(t,e)},{cleanupBeforeAbort:()=>clearTimeout(n),abortSignal:r,abortErrorMsg:i??"The delay was aborted."})}function iv(e){if(id(e))return e.message;{let t;try{t="object"==typeof e&&e?JSON.stringify(e):String(e)}catch(e){t="[unable to stringify input]"}return`Unknown error ${t}`}}let iS=ig;function iA(e,t){return(t||(t=ir),RegExp(`${e}/?$`).test(t))?t:t.endsWith("/")?t+e:`${t}/${e}`}let iI=(e,t=iS?"Node":"Browser")=>(n,r,i)=>{if(!i)switch(n){case nP.Error:e.info(`MSAL ${t} V2 error: ${r}`);return;case nP.Info:e.info(`MSAL ${t} V2 info message: ${r}`);return;case nP.Verbose:e.info(`MSAL ${t} V2 verbose message: ${r}`);return;case nP.Warning:e.info(`MSAL ${t} V2 warning: ${r}`);return}};function iC(e){switch(e){case"error":return nP.Error;case"info":default:return nP.Info;case"verbose":return nP.Verbose;case"warning":return nP.Warning}}class iO{constructor(e){this.logger=e.logger,this.account=e.authenticationRecord}generateUuid(){return im()}handleResult(e,t,n,r){return(null==n?void 0:n.account)&&(this.account=iN(t,n.account)),function(e,t,n,r){let i=n=>(t.getToken.info(n),new r4({scopes:Array.isArray(e)?e:[e],getTokenOptions:r,message:n}));if(!n)throw i("No response");if(!n.expiresOn)throw i('Response had no "expiresOn" property.');if(!n.accessToken)throw i('Response had no "accessToken" property.')}(e,this.logger,n,r),this.logger.getToken.info(r6(e)),{token:n.accessToken,expiresOnTimestamp:n.expiresOn.getTime()}}handleError(e,t,n){if("AuthError"===t.name||"ClientAuthError"===t.name||"BrowserAuthError"===t.name)switch(t.errorCode){case"endpoints_resolution_error":return this.logger.info(r3(e,t.message)),new rQ(t.message);case"device_code_polling_cancelled":return new ic("The authentication has been aborted by the caller.");case"consent_required":case"interaction_required":case"login_required":this.logger.info(r3(e,`Authentication returned errorCode ${t.errorCode}`));break;default:this.logger.info(r3(e,`Failed to acquire token: ${t.message}`))}return"ClientConfigurationError"===t.name||"BrowserConfigurationAuthError"===t.name||"AbortError"===t.name?t:new r4({scopes:e,getTokenOptions:n,message:t.message})}}function iN(e,t){return{authority:iA(t.tenantId,t.environment),homeAccountId:t.homeAccountId,tenantId:t.tenantId||"common",username:t.username,clientId:e,version:"1.0"}}function iR(e){return JSON.stringify(e)}function iD(e){let t=JSON.parse(e);if(t.version&&"1.0"!==t.version)throw Error("Unsupported AuthenticationRecord version");return t}function ik(e,t){if(!t.match(/^[0-9a-zA-Z-.]+$/)){let t=Error("Invalid tenant id provided. You can locate your tenant id by following the instructions listed here: https://learn.microsoft.com/partner-center/find-ids-and-domain-names.");throw e.info(r3("",t)),t}}function iP(e,t,n){return t?(ik(e,t),t):(n||(n=it),n!==it)?"common":"organizations"}function iM(e){return e&&0!==e.length?e.includes("*")?ii:e:[]}function iL(e,t,n=[],r){var i;let o;if(process.env.AZURE_IDENTITY_DISABLE_MULTITENANTAUTH?o=e:o="adfs"===e?e:null!==(i=null==t?void 0:t.tenantId)&&void 0!==i?i:e,e&&o!==e&&!n.includes("*")&&!n.some(e=>0===e.localeCompare(o))){let t=`The current credential is not configured to acquire tokens for tenant ${e}. To enable acquiring tokens for this tenant add it to the AdditionallyAllowedTenants on the credential options, or add "*" to AdditionallyAllowedTenants to allow acquiring tokens for any tenant.`;throw null==r||r.info(t),new rQ(t)}return o}function iU(e,t){return t&&e.modelMappers[t]&&e.modelMappers[t].type.polymorphicDiscriminator}let ix={Sequence:"Sequence",String:"String",Stream:"Stream"};class iF extends Error{constructor(e){super(e),this.name="AbortError"}}function iB(e){return e.toLowerCase()}class iq{_headersMap;constructor(e){if(this._headersMap=new Map,e)for(let t of Object.keys(e))this.set(t,e[t])}set(e,t){this._headersMap.set(iB(e),{name:e,value:String(t).trim()})}get(e){return this._headersMap.get(iB(e))?.value}has(e){return this._headersMap.has(iB(e))}delete(e){this._headersMap.delete(iB(e))}toJSON(e={}){let t={};if(e.preserveCase)for(let e of this._headersMap.values())t[e.name]=e.value;else for(let[e,n]of this._headersMap)t[e]=n.value;return t}toString(){return JSON.stringify(this.toJSON({preserveCase:!0}))}[Symbol.iterator](){return function*(e){for(let t of e.values())yield[t.name,t.value]}(this._headersMap)}}function iY(e){return new iq(e)}class ij{url;method;headers;timeout;withCredentials;body;multipartBody;formData;streamResponseStatusCodes;enableBrowserStreams;proxySettings;disableKeepAlive;abortSignal;requestId;allowInsecureConnection;onUploadProgress;onDownloadProgress;requestOverrides;authSchemes;constructor(e){this.url=e.url,this.body=e.body,this.headers=e.headers??iY(),this.method=e.method??"GET",this.timeout=e.timeout??0,this.multipartBody=e.multipartBody,this.formData=e.formData,this.disableKeepAlive=e.disableKeepAlive??!1,this.proxySettings=e.proxySettings,this.streamResponseStatusCodes=e.streamResponseStatusCodes,this.withCredentials=e.withCredentials??!1,this.abortSignal=e.abortSignal,this.onUploadProgress=e.onUploadProgress,this.onDownloadProgress=e.onDownloadProgress,this.requestId=e.requestId||im(),this.allowInsecureConnection=e.allowInsecureConnection??!1,this.enableBrowserStreams=e.enableBrowserStreams??!1,this.requestOverrides=e.requestOverrides,this.authSchemes=e.authSchemes}}let iH=new Set(["Deserialize","Serialize","Retry","Sign"]);class iV{_policies=[];_orderedPolicies;constructor(e){this._policies=e?.slice(0)??[],this._orderedPolicies=void 0}addPolicy(e,t={}){if(t.phase&&t.afterPhase)throw Error("Policies inside a phase cannot specify afterPhase.");if(t.phase&&!iH.has(t.phase))throw Error(`Invalid phase name: ${t.phase}`);if(t.afterPhase&&!iH.has(t.afterPhase))throw Error(`Invalid afterPhase name: ${t.afterPhase}`);this._policies.push({policy:e,options:t}),this._orderedPolicies=void 0}removePolicy(e){let t=[];return this._policies=this._policies.filter(n=>(!e.name||n.policy.name!==e.name)&&(!e.phase||n.options.phase!==e.phase)||(t.push(n.policy),!1)),this._orderedPolicies=void 0,t}sendRequest(e,t){return this.getOrderedPolicies().reduceRight((e,t)=>n=>t.sendRequest(n,e),t=>e.sendRequest(t))(t)}getOrderedPolicies(){return this._orderedPolicies||(this._orderedPolicies=this.orderPolicies()),this._orderedPolicies}clone(){return new iV(this._policies)}static create(){return new iV}orderPolicies(){let e=[],t=new Map;function n(e){return{name:e,policies:new Set,hasRun:!1,hasAfterPolicies:!1}}let r=n("Serialize"),i=n("None"),o=n("Deserialize"),s=n("Retry"),a=n("Sign"),l=[r,i,o,s,a];function c(e){return"Retry"===e?s:"Serialize"===e?r:"Deserialize"===e?o:"Sign"===e?a:i}for(let e of this._policies){let n=e.policy,r=e.options,i=n.name;if(t.has(i))throw Error("Duplicate policy names not allowed in pipeline");let o={policy:n,dependsOn:new Set,dependants:new Set};r.afterPhase&&(o.afterPhase=c(r.afterPhase),o.afterPhase.hasAfterPolicies=!0),t.set(i,o),c(r.phase).policies.add(o)}for(let e of this._policies){let{policy:n,options:r}=e,i=n.name,o=t.get(i);if(!o)throw Error(`Missing node for policy ${i}`);if(r.afterPolicies)for(let e of r.afterPolicies){let n=t.get(e);n&&(o.dependsOn.add(n),n.dependants.add(o))}if(r.beforePolicies)for(let e of r.beforePolicies){let n=t.get(e);n&&(n.dependsOn.add(o),o.dependants.add(n))}}function u(n){for(let r of(n.hasRun=!0,n.policies))if((!r.afterPhase||r.afterPhase.hasRun&&!r.afterPhase.policies.size)&&0===r.dependsOn.size){for(let t of(e.push(r.policy),r.dependants))t.dependsOn.delete(r);t.delete(r.policy.name),n.policies.delete(r)}}let h=0;for(;t.size>0;){h++;let t=e.length;if(function(){for(let e of l){if(u(e),e.policies.size>0&&e!==i){i.hasRun||u(i);return}e.hasAfterPolicies&&u(i)}}(),e.length<=t&&h>1)throw Error("Cannot satisfy policy dependencies due to requirements cycle.")}return e}}let i$=rC.inspect.custom,iz=new iT;class iW extends Error{static REQUEST_SEND_ERROR="REQUEST_SEND_ERROR";static PARSE_ERROR="PARSE_ERROR";code;statusCode;request;response;details;constructor(e,t={}){super(e),this.name="RestError",this.code=t.code,this.statusCode=t.statusCode,Object.defineProperty(this,"request",{value:t.request,enumerable:!1}),Object.defineProperty(this,"response",{value:t.response,enumerable:!1});let n=this.request?.agent?{maxFreeSockets:this.request.agent.maxFreeSockets,maxSockets:this.request.agent.maxSockets}:void 0;Object.defineProperty(this,i$,{value:()=>`RestError: ${this.message} 
 ${iz.sanitize({...this,request:{...this.request,agent:n},response:this.response})}`,enumerable:!1}),Object.setPrototypeOf(this,iW.prototype)}}var iG=n(88849),iK=n(22286),iZ=n(65628),iQ=n(84492);let iX=rz("ts-http-runtime"),iJ={};function i0(e){return e&&"function"==typeof e.pipe}function i1(e){return!1===e.readable?Promise.resolve():new Promise(t=>{let n=()=>{t(),e.removeListener("close",n),e.removeListener("end",n),e.removeListener("error",n)};e.on("close",n),e.on("end",n),e.on("error",n)})}function i2(e){return e&&"number"==typeof e.byteLength}class i4 extends iQ.Transform{loadedBytes=0;progressCallback;_transform(e,t,n){this.push(e),this.loadedBytes+=e.length;try{this.progressCallback({loadedBytes:this.loadedBytes}),n()}catch(e){n(e)}}constructor(e){super(),this.progressCallback=e}}class i8{cachedHttpAgent;cachedHttpsAgents=new WeakMap;async sendRequest(e){var t,n;let r,i,o;let s=new AbortController;if(e.abortSignal){if(e.abortSignal.aborted)throw new iF("The operation was aborted. Request has already been canceled.");r=e=>{"abort"===e.type&&s.abort()},e.abortSignal.addEventListener("abort",r)}e.timeout>0&&(i=setTimeout(()=>{let t=new iT;iX.info(`request to '${t.sanitizeUrl(e.url)}' timed out. canceling...`),s.abort()},e.timeout));let a=e.headers.get("Accept-Encoding"),l=a?.includes("gzip")||a?.includes("deflate"),c="function"==typeof e.body?e.body():e.body;if(c&&!e.headers.has("Content-Length")){let n=(t=c)?Buffer.isBuffer(t)?t.length:i0(t)?null:i2(t)?t.byteLength:"string"==typeof t?Buffer.from(t).length:null:0;null!==n&&e.headers.set("Content-Length",n)}try{if(c&&e.onUploadProgress){let t=e.onUploadProgress,n=new i4(t);n.on("error",e=>{iX.error("Error in upload progress",e)}),i0(c)?c.pipe(n):n.end(c),c=n}let t=await this.makeRequest(e,s,c);void 0!==i&&clearTimeout(i);let r=function(e){let t=iY();for(let n of Object.keys(e.headers)){let r=e.headers[n];Array.isArray(r)?r.length>0&&t.set(n,r[0]):r&&t.set(n,r)}return t}(t),a={status:t.statusCode??0,headers:r,request:e};if("HEAD"===e.method)return t.resume(),a;o=l?function(e,t){let n=t.get("Content-Encoding");if("gzip"===n){let t=iZ.createGunzip();return e.pipe(t),t}if("deflate"===n){let t=iZ.createInflate();return e.pipe(t),t}return e}(t,r):t;let u=e.onDownloadProgress;if(u){let e=new i4(u);e.on("error",e=>{iX.error("Error in download progress",e)}),o.pipe(e),o=e}return e.streamResponseStatusCodes?.has(Number.POSITIVE_INFINITY)||e.streamResponseStatusCodes?.has(a.status)?a.readableStreamBody=o:a.bodyAsText=await (n=o,new Promise((e,t)=>{let r=[];n.on("data",e=>{Buffer.isBuffer(e)?r.push(e):r.push(Buffer.from(e))}),n.on("end",()=>{e(Buffer.concat(r).toString("utf8"))}),n.on("error",e=>{e&&e?.name==="AbortError"?t(e):t(new iW(`Error reading response as text: ${e.message}`,{code:iW.PARSE_ERROR}))})})),a}finally{if(e.abortSignal&&r){let t=Promise.resolve();i0(c)&&(t=i1(c));let n=Promise.resolve();i0(o)&&(n=i1(o)),Promise.all([t,n]).then(()=>{r&&e.abortSignal?.removeEventListener("abort",r)}).catch(e=>{iX.warning("Error when cleaning up abortListener on httpRequest",e)})}}}makeRequest(e,t,n){let r=new URL(e.url),i="https:"!==r.protocol;if(i&&!e.allowInsecureConnection)throw Error(`Cannot connect to ${e.url} while allowInsecureConnection is false.`);let o={agent:e.agent??this.getOrCreateAgent(e,i),hostname:r.hostname,path:`${r.pathname}${r.search}`,port:r.port,method:e.method,headers:e.headers.toJSON({preserveCase:!0}),...e.requestOverrides};return new Promise((r,s)=>{let a=i?iG.request(o,r):iK.request(o,r);a.once("error",t=>{s(new iW(t.message,{code:t.code??iW.REQUEST_SEND_ERROR,request:e}))}),t.signal.addEventListener("abort",()=>{let e=new iF("The operation was aborted. Rejecting from abort signal callback while making request.");a.destroy(e),s(e)}),n&&i0(n)?n.pipe(a):n?"string"==typeof n||Buffer.isBuffer(n)?a.end(n):i2(n)?a.end(ArrayBuffer.isView(n)?Buffer.from(n.buffer):Buffer.from(n)):(iX.error("Unrecognized body type",n),s(new iW("Unrecognized body type"))):a.end()})}getOrCreateAgent(e,t){let n=e.disableKeepAlive;if(t)return n?iG.globalAgent:(this.cachedHttpAgent||(this.cachedHttpAgent=new iG.Agent({keepAlive:!0})),this.cachedHttpAgent);{if(n&&!e.tlsSettings)return iK.globalAgent;let t=e.tlsSettings??iJ,r=this.cachedHttpsAgents.get(t);return r&&!n===r.options.keepAlive||(iX.info("No cached TLS Agent exist, creating a new Agent"),r=new iK.Agent({keepAlive:!n,...t}),this.cachedHttpsAgents.set(t,r)),r}}}let i5="Retry-After",i6=["retry-after-ms","x-ms-retry-after-ms",i5];function i3(e){if(e&&[429,503].includes(e.status))try{for(let t of i6){let n=function(e,t){let n=e.headers.get(t);if(!n)return;let r=Number(n);if(!Number.isNaN(r))return r}(e,t);if(0===n||n){let e=t===i5?1e3:1;return n*e}}let t=e.headers.get(i5);if(!t)return;let n=Date.parse(t)-Date.now();return Number.isFinite(n)?Math.max(0,n):void 0}catch{return}}let i9=rz("ts-http-runtime retryPolicy");function i7(e,t){return Buffer.from(e,t)}async function oe(e,t){let n=t.headers.get("Content-Type");if(n&&!n.startsWith("multipart/form-data"))return;t.headers.set("Content-Type",n??"multipart/form-data");let r=[];for(let[t,n]of Object.entries(e))for(let e of Array.isArray(n)?n:[n])if("string"==typeof e)r.push({headers:iY({"Content-Disposition":`form-data; name="${t}"`}),body:i7(e,"utf-8")});else if(null==e||"object"!=typeof e)throw Error(`Unexpected value for key ${t}: ${e}. Value should be serialized to string first.`);else{let n=e.name||"blob",i=iY();i.set("Content-Disposition",`form-data; name="${t}"; filename="${n}"`),i.set("Content-Type",e.type||"application/octet-stream"),r.push({headers:i,body:e})}t.multipartBody={parts:r}}var ot=n(5453),on=n(26310);let or=[],oi=!1,oo=new Map;function os(e){return process.env[e]?process.env[e]:process.env[e.toLowerCase()]?process.env[e.toLowerCase()]:void 0}function oa(e){let t;try{t=new URL(e.host)}catch{throw Error(`Expecting a valid host string in proxy settings, but found "${e.host}".`)}return t.port=String(e.port),e.username&&(t.username=e.username),e.password&&(t.password=e.password),t}function ol(e,t,n){if(e.agent)return;let r="https:"!==new URL(e.url).protocol;e.tlsSettings&&iX.warning("TLS settings are not supported in combination with custom Proxy, certificates provided to the client will be ignored.");let i=e.headers.toJSON();r?(t.httpProxyAgent||(t.httpProxyAgent=new on.HttpProxyAgent(n,{headers:i})),e.agent=t.httpProxyAgent):(t.httpsProxyAgent||(t.httpsProxyAgent=new ot.HttpsProxyAgent(n,{headers:i})),e.agent=t.httpsProxyAgent)}function oc(e){return"function"==typeof e.stream}var ou=n(76162);async function*oh(){let e=this.getReader();try{for(;;){let{done:t,value:n}=await e.read();if(t)return;yield n}}finally{e.releaseLock()}}function od(e){return e instanceof ReadableStream?(e[Symbol.asyncIterator]||(e[Symbol.asyncIterator]=oh.bind(e)),e.values||(e.values=oh.bind(e)),ou.Readable.fromWeb(e)):e}function of(e){return e instanceof Uint8Array?ou.Readable.from(Buffer.from(e)):oc(e)?od(e.stream()):od(e)}async function op(e){return function(){let t=e.map(e=>"function"==typeof e?e():e).map(of);return ou.Readable.from(async function*(){for(let e of t)for await(let t of e)yield t}())}}async function om(e,t,n){let r=[i7(`--${n}`,"utf-8"),...t.flatMap(e=>[i7("\r\n","utf-8"),i7(function(e){let t="";for(let[n,r]of e)t+=`${n}: ${r}\r
`;return t}(e.headers),"utf-8"),i7("\r\n","utf-8"),e.body,i7(`\r
--${n}`,"utf-8")]),i7("--\r\n\r\n","utf-8")],i=function(e){let t=0;for(let n of e){let e=n instanceof Uint8Array?n.byteLength:oc(n)?-1===n.size?void 0:n.size:void 0;if(void 0===e)return;t+=e}return t}(r);i&&e.headers.set("Content-Length",i),e.body=await op(r)}let og="multipartPolicy",oy=new Set("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'()+,-./:=?"),o_=rK("core-rest-pipeline"),oE=["GET","HEAD"];async function oT(e,t,n,r=0){let{request:i,status:o,headers:s}=t,a=s.get("location");if(a&&(300===o||301===o&&oE.includes(i.method)||302===o&&oE.includes(i.method)||303===o&&"POST"===i.method||307===o)&&r<n){let t=new URL(a,i.url);i.url=t.toString(),303===o&&(i.method="GET",i.headers.delete("Content-Length"),delete i.body),i.headers.delete("Authorization");let s=await e(i);return oT(e,s,n,r+1)}return t}async function ow(e){if(rO&&rO.versions){let t=rO.versions;t.bun?e.set("Bun",t.bun):t.deno?e.set("Deno",t.deno):t.node&&e.set("Node",t.node)}e.set("OS",`(${rI.arch()}-${rI.type()}-${rI.release()})`)}let ob="1.22.1";async function ov(e){let t=new Map;t.set("core-rest-pipeline",ob),await ow(t);let n=function(e){let t=[];for(let[n,r]of e){let e=r?`${n}/${r}`:n;t.push(e)}return t.join(" ")}(t);return e?`${e} ${n}`:n}let oS="User-Agent",oA=Symbol("rawContent");function oI(e){return"function"==typeof e[oA]}let oC={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};class oO{_contextMap;constructor(e){this._contextMap=e instanceof oO?new Map(e._contextMap):new Map}setValue(e,t){let n=new oO(this);return n._contextMap.set(e,t),n}getValue(e){return this._contextMap.get(e)}deleteValue(e){let t=new oO(this);return t._contextMap.delete(e),t}}let oN=n(70791).S;function oR(){return oN.instrumenterImplementation||(oN.instrumenterImplementation={createRequestHeaders:()=>({}),parseTraceparentHeader:()=>{},startSpan:(e,t)=>({span:{end:()=>{},isRecording:()=>!1,recordException:()=>{},setAttribute:()=>{},setStatus:()=>{},addEvent:()=>{}},tracingContext:function(e={}){let t=new oO(e.parentContext);return e.span&&(t=t.setValue(oC.span,e.span)),e.namespace&&(t=t.setValue(oC.namespace,e.namespace)),t}({parentContext:t.tracingContext})}),withContext:(e,t,...n)=>t(...n)}),oN.instrumenterImplementation}function oD(e){let{namespace:t,packageName:n,packageVersion:r}=e;function i(e,i,o){let s=oR().startSpan(e,{...o,packageName:n,packageVersion:r,tracingContext:i?.tracingOptions?.tracingContext}),a=s.tracingContext,l=s.span;return a.getValue(oC.namespace)||(a=a.setValue(oC.namespace,t)),l.setAttribute("az.namespace",a.getValue(oC.namespace)),{span:l,updatedOptions:Object.assign({},i,{tracingOptions:{...i?.tracingOptions,tracingContext:a}})}}async function o(e,t,n,r){let{span:o,updatedOptions:a}=i(e,t,r);try{let e=await s(a.tracingOptions.tracingContext,()=>Promise.resolve(n(a,o)));return o.setStatus({status:"success"}),e}catch(e){throw o.setStatus({status:"error",error:e}),e}finally{o.end()}}function s(e,t,...n){return oR().withContext(e,t,...n)}return{startSpan:i,withSpan:o,withContext:s,parseTraceparentHeader:function(e){return oR().parseTraceparentHeader(e)},createRequestHeaders:function(e){return oR().createRequestHeaders(e)}}}function ok(e){return e instanceof iW||id(e)&&"RestError"===e.name}function oP(e){if(e instanceof AbortSignal)return{abortSignal:e};if(e.aborted)return{abortSignal:AbortSignal.abort(e.reason)};let t=new AbortController,n=!0;function r(){n&&(e.removeEventListener("abort",i),n=!1)}function i(){t.abort(e.reason),r()}return e.addEventListener("abort",i),{abortSignal:t.signal,cleanup:r}}function oM(e){return new ij(e)}rK("core-rest-pipeline retryPolicy");let oL={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:12e4};async function oU(e,t,n){async function r(){if(Date.now()<n)try{return await e()}catch{return null}else{let t=await e();if(null===t)throw Error("Failed to refresh access token.");return t}}let i=await r();for(;null===i;)await ib(t),i=await r();return i}async function ox(e,t){try{return[await t(e),void 0]}catch(e){if(ok(e)&&e.response)return[e.response,e];throw e}}async function oF(e){let{scopes:t,getAccessToken:n,request:r}=e,i={abortSignal:r.abortSignal,tracingOptions:r.tracingOptions,enableCae:!0},o=await n(t,i);o&&e.request.headers.set("Authorization",`Bearer ${o.token}`)}function oB(e){return 401===e.status&&e.headers.has("WWW-Authenticate")}async function oq(e,t){let{scopes:n}=e,r=await e.getAccessToken(n,{enableCae:!0,claims:t});return!!r&&(e.request.headers.set("Authorization",`${r.tokenType??"Bearer"} ${r.token}`),!0)}function oY(e){if(!e)return;let t=function(e){let t;let n=/(\w+)\s+((?:\w+=(?:"[^"]*"|[^,]*),?\s*)+)/g,r=/(\w+)="([^"]*)"/g,i=[];for(;null!==(t=n.exec(e));){let e;let n=t[1],o=t[2],s={};for(;null!==(e=r.exec(o));)s[e[1]]=e[2];i.push({scheme:n,params:s})}return i}(e);return t.find(e=>"Bearer"===e.scheme&&e.params.claims&&"insufficient_claims"===e.params.error)?.params.claims}let oj=n(6755).S;function oH(e,t,n){let r,i=t.parameterPath,o=t.mapper;if("string"==typeof i&&(i=[i]),Array.isArray(i)){if(i.length>0){if(o.isConstant)r=o.defaultValue;else{let t=oV(e,i);!t.propertyFound&&n&&(t=oV(n,i));let s=!1;t.propertyFound||(s=o.required||"options"===i[0]&&2===i.length),r=s?o.defaultValue:t.propertyValue}}}else for(let t in o.required&&(r={}),i){let s=o.type.modelProperties[t],a=oH(e,{parameterPath:i[t],mapper:s},n);void 0!==a&&(r||(r={}),r[t]=a)}return r}function oV(e,t){let n={propertyFound:!1},r=0;for(;r<t.length;++r){let n=t[r];if(e&&n in e)e=e[n];else break}return r===t.length&&(n.propertyValue=e,n.propertyFound=!0),n}let o$=Symbol.for("@azure/core-client original request");function oz(e){if(o$ in e)return oz(e[o$]);let t=oj.operationRequestMap.get(e);return t||(t={},oj.operationRequestMap.set(e,t)),t}let oW=["application/json","text/json"],oG=["application/xml","application/atom+xml"];async function oK(e,t,n,r,i){let o=await oZ(e,t,n,r,i);if(!function(e){let t=oz(e.request),n=t?.shouldDeserialize;return void 0===n||("boolean"==typeof n?n:n(e))}(o))return o;let s=oz(o.request),a=s?.operationSpec;if(!a||!a.responses)return o;let l=function(e){let t;let n=oz(e.request),r=n?.operationSpec;return r&&(t=n?.operationResponseGetter?n?.operationResponseGetter(r,e):r.responses[e.status]),t}(o),{error:c,shouldReturnResponse:u}=function(e,t,n,r){let i=200<=e.status&&e.status<300;if((!function(e){let t=Object.keys(e.responses);return 0===t.length||1===t.length&&"default"===t[0]}(t)?!!n:i)&&(!n||!n.isError))return{error:null,shouldReturnResponse:!1};let o=n??t.responses.default,s=new iW(e.request.streamResponseStatusCodes?.has(e.status)?`Unexpected status code: ${e.status}`:e.bodyAsText,{statusCode:e.status,request:e.request,response:e});if(!o&&!(e.parsedBody?.error?.code&&e.parsedBody?.error?.message))throw s;let a=o?.bodyMapper,l=o?.headersMapper;try{if(e.parsedBody){let n;let i=e.parsedBody;if(a){let e=i;if(t.isXML&&a.type.name===ix.Sequence){e=[];let t=a.xmlElementName;"object"==typeof i&&t&&(e=i[t])}n=t.serializer.deserialize(a,e,"error.response.parsedBody",r)}let o=i.error||n||i;s.code=o.code,o.message&&(s.message=o.message),a&&(s.response.parsedBody=n)}e.headers&&l&&(s.response.parsedHeaders=t.serializer.deserialize(l,e.headers.toJSON(),"operationRes.parsedHeaders"))}catch(t){s.message=`Error "${t.message}" occurred in deserializing the responseBody - "${e.bodyAsText}" for the default response.`}return{error:s,shouldReturnResponse:!1}}(o,a,l,r);if(c)throw c;if(u)return o;if(l){if(l.bodyMapper){let e=o.parsedBody;a.isXML&&l.bodyMapper.type.name===ix.Sequence&&(e="object"==typeof e?e[l.bodyMapper.xmlElementName]:[]);try{o.parsedBody=a.serializer.deserialize(l.bodyMapper,e,"operationRes.parsedBody",r)}catch(e){throw new iW(`Error ${e} occurred in deserializing the responseBody - ${o.bodyAsText}`,{statusCode:o.status,request:o.request,response:o})}}else"HEAD"===a.httpMethod&&(o.parsedBody=n.status>=200&&n.status<300);l.headersMapper&&(o.parsedHeaders=a.serializer.deserialize(l.headersMapper,o.headers.toJSON(),"operationRes.parsedHeaders",{xml:{},ignoreUnknownProperties:!0}))}return o}async function oZ(e,t,n,r,i){if(!n.request.streamResponseStatusCodes?.has(n.status)&&n.bodyAsText){let o=n.bodyAsText,s=n.headers.get("Content-Type")||"",a=s?s.split(";").map(e=>e.toLowerCase()):[];try{if(0===a.length||a.some(t=>-1!==e.indexOf(t)))n.parsedBody=JSON.parse(o);else if(a.some(e=>-1!==t.indexOf(e))){if(!i)throw Error("Parsing XML not supported.");let e=await i(o,r.xml);n.parsedBody=e}}catch(r){let e=`Error "${r}" occurred while parsing the response body - ${n.bodyAsText}.`,t=r.code||iW.PARSE_ERROR;throw new iW(e,{code:t,statusCode:n.status,request:n.request,response:n})}}return n}function oQ(e){let{parameterPath:t,mapper:n}=e;return"string"==typeof t?t:Array.isArray(t)?t.join("."):n.serializedName}function oX(e,t){var n;let r=e.parsedHeaders;if("HEAD"===e.request.method)return{...r,body:e.parsedBody};let i=t&&t.bodyMapper,o=!!i?.nullable,s=i?.type.name;if("Stream"===s)return{...r,blobBody:e.blobBody,readableStreamBody:e.readableStreamBody};let a="Composite"===s&&i.type.modelProperties||{},l=Object.keys(a).some(e=>""===a[e].serializedName);if("Sequence"===s||l){let t=e.parsedBody??[];for(let n of Object.keys(a))a[n].serializedName&&(t[n]=e.parsedBody?.[n]);if(r)for(let e of Object.keys(r))t[e]=r[e];return!o||e.parsedBody||r||0!==Object.getOwnPropertyNames(a).length?t:null}return function(e){let t={...e.headers,...e.body};return e.hasNullableType&&0===Object.getOwnPropertyNames(t).length?e.shouldWrapBody?{body:null}:null:e.shouldWrapBody?{...e.headers,body:e.body}:t}({body:e.parsedBody,headers:r,hasNullableType:o,shouldWrapBody:(n=e.parsedBody,"Composite"!==s&&"Dictionary"!==s&&("string"==typeof n||"number"==typeof n||"boolean"==typeof n||s?.match(/^(Date|DateTime|DateTimeRfc1123|UnixTime|ByteArray|Base64Url)$/i)!==null||null==n))})}let oJ={CSV:",",SSV:" ",Multi:"Multi",TSV:"	",Pipes:"|"};function o0(e,t){let n=e;for(let[e,r]of t)n=n.split(e).join(r);return n}let o1=rK("core-client");class o2{_endpoint;_requestContentType;_allowInsecureConnection;_httpClient;pipeline;constructor(e={}){if(this._requestContentType=e.requestContentType,this._endpoint=e.endpoint??e.baseUri,e.baseUri&&o1.warning("The baseUri option for SDK Clients has been deprecated, please use endpoint instead."),this._allowInsecureConnection=e.allowInsecureConnection,this._httpClient=e.httpClient||(i||(i=function(){let e=new i8;return{async sendRequest(t){let{abortSignal:n,cleanup:r}=t.abortSignal?oP(t.abortSignal):{};try{return t.abortSignal=n,await e.sendRequest(t)}finally{r?.()}}}}()),i),this.pipeline=e.pipeline||function(e){let t=function(e){if(e.credentialScopes)return e.credentialScopes;if(e.endpoint)return`${e.endpoint}/.default`;if(e.baseUri)return`${e.baseUri}/.default`;if(e.credential&&!e.credentialScopes)throw Error("When using credentials, the ServiceClientOptions must contain either a endpoint or a credentialScopes. Unable to create a bearerTokenAuthenticationPolicy")}(e),n=e.credential&&t?{credentialScopes:t,credential:e.credential}:void 0;return function(e={}){let t=function(e){let t=iV.create();if(ig){var n,r;e.agent&&t.addPolicy((n=e.agent,{name:"agentPolicy",sendRequest:async(e,t)=>(e.agent||(e.agent=n),t(e))})),e.tlsOptions&&t.addPolicy((r=e.tlsOptions,{name:"tlsPolicy",sendRequest:async(e,t)=>(e.tlsSettings||(e.tlsSettings=r),t(e))})),t.addPolicy(function(e,t){oi||or.push(...function(){let e=os("NO_PROXY");return(oi=!0,e)?e.split(",").map(e=>e.trim()).filter(e=>e.length):[]}());let n=e?oa(e):function(){let e=function(){if(!process)return;let e=os("HTTPS_PROXY"),t=os("ALL_PROXY"),n=os("HTTP_PROXY");return e||t||n}();return e?new URL(e):void 0}(),r={};return{name:"proxyPolicy",sendRequest:async(e,i)=>(!e.proxySettings&&n&&!function(e,t,n){if(0===t.length)return!1;let r=new URL(e).hostname;if(n?.has(r))return n.get(r);let i=!1;for(let e of t)"."===e[0]?r.endsWith(e)?i=!0:r.length===e.length-1&&r===e.slice(1)&&(i=!0):r===e&&(i=!0);return n?.set(r,i),i}(e.url,t?.customNoProxyList??or,t?.customNoProxyList?void 0:oo)?ol(e,r,n):e.proxySettings&&ol(e,r,oa(e.proxySettings)),i(e))}}(e.proxyOptions,void 0)),t.addPolicy({name:"decompressResponsePolicy",sendRequest:async(e,t)=>("HEAD"!==e.method&&e.headers.set("Accept-Encoding","gzip,deflate"),t(e))})}return t.addPolicy({name:"wrapAbortSignalLikePolicy",sendRequest:async(e,t)=>{if(!e.abortSignal)return t(e);let{abortSignal:n,cleanup:r}=oP(e.abortSignal);e.abortSignal=n;try{return await t(e)}finally{r?.()}}}),t.addPolicy({name:"formDataPolicy",async sendRequest(e,t){if(ig&&"undefined"!=typeof FormData&&e.body instanceof FormData&&(e.formData=function(e){let t={};for(let[n,r]of e.entries())t[n]??=[],t[n].push(r);return t}(e.body),e.body=void 0),e.formData){let t=e.headers.get("Content-Type");t&&-1!==t.indexOf("application/x-www-form-urlencoded")?e.body=function(e){let t=new URLSearchParams;for(let[n,r]of Object.entries(e))if(Array.isArray(r))for(let e of r)t.append(n,e.toString());else t.append(n,r.toString());return t.toString()}(e.formData):await oe(e.formData,e),e.formData=void 0}return t(e)}},{beforePolicies:[og]}),t.addPolicy(function(e={}){let t=ov(e.userAgentPrefix);return{name:"userAgentPolicy",sendRequest:async(e,n)=>(e.headers.has(oS)||e.headers.set(oS,await t),n(e))}}(e.userAgentOptions)),t.addPolicy(function(e="x-ms-client-request-id"){return{name:"setClientRequestIdPolicy",sendRequest:async(t,n)=>(t.headers.has(e)||t.headers.set(e,t.requestId),n(t))}}(e.telemetryOptions?.clientRequestIdHeaderName)),t.addPolicy(function(){let e={name:og,async sendRequest(e,t){if(!e.multipartBody)return t(e);if(e.body)throw Error("multipartBody and regular body cannot be set at the same time");let n=e.multipartBody.boundary,r=e.headers.get("Content-Type")??"multipart/mixed",i=r.match(/^(multipart\/[^ ;]+)(?:; *boundary=(.+))?$/);if(!i)throw Error(`Got multipart request body, but content-type header was not multipart: ${r}`);let[,o,s]=i;if(s&&n&&s!==n)throw Error(`Multipart boundary was specified as ${s} in the header, but got ${n} in the request body`);return(n??=s)?function(e){if(e.length>70)throw Error(`Multipart boundary "${e}" exceeds maximum length of 70 characters`);if(Array.from(e).some(e=>!oy.has(e)))throw Error(`Multipart boundary "${e}" contains invalid characters`)}(n):n=`----AzSDKFormBoundary${im()}`,e.headers.set("Content-Type",`${o}; boundary=${n}`),await om(e,e.multipartBody.parts,n),e.multipartBody=void 0,t(e)}};return{name:og,sendRequest:async(t,n)=>{if(t.multipartBody){for(let e of t.multipartBody.parts)if(oI(e.body)){var r;e.body=oI(r=e.body)?r[oA]():r}}return e.sendRequest(t,n)}}}(),{afterPhase:"Deserialize"}),t.addPolicy(function(e={}){return function(e={}){return{name:"defaultRetryPolicy",sendRequest:function(e,t={maxRetries:3}){let n=t.logger||i9;return{name:"retryPolicy",async sendRequest(r,i){let o,s;let a=-1;e:for(;;){a+=1,o=void 0,s=void 0;try{n.info(`Retry ${a}: Attempting to send request`,r.requestId),o=await i(r),n.info(`Retry ${a}: Received a response from request`,r.requestId)}catch(e){if(n.error(`Retry ${a}: Received an error from request`,r.requestId),s=e,!e||"RestError"!==s.name)throw e;o=s.response}if(r.abortSignal?.aborted)throw n.error(`Retry ${a}: Request aborted.`),new iF;if(a>=(t.maxRetries??3)){if(n.info(`Retry ${a}: Maximum retries reached. Returning the last received response, or throwing the last received error.`),s)throw s;if(o)return o;throw Error("Maximum retries reached with no response or error to throw")}for(let t of(n.info(`Retry ${a}: Processing ${e.length} retry strategies.`),e)){let e=t.logger||n;e.info(`Retry ${a}: Processing retry strategy ${t.name}.`);let i=t.retry({retryCount:a,response:o,responseError:s});if(i.skipStrategy){e.info(`Retry ${a}: Skipped.`);continue}let{errorToThrow:l,retryAfterInMs:c,redirectTo:u}=i;if(l)throw e.error(`Retry ${a}: Retry strategy ${t.name} throws error:`,l),l;if(c||0===c){e.info(`Retry ${a}: Retry strategy ${t.name} retries after ${c}`),await function(e,t,n){return new Promise((r,i)=>{let o,s;let a=()=>i(new iF(n?.abortErrorMsg?n?.abortErrorMsg:"The operation was aborted.")),l=()=>{n?.abortSignal&&s&&n.abortSignal.removeEventListener("abort",s)};if(s=()=>(o&&clearTimeout(o),l(),a()),n?.abortSignal&&n.abortSignal.aborted)return a();o=setTimeout(()=>{l(),r(t)},e),n?.abortSignal&&n.abortSignal.addEventListener("abort",s)})}(c,void 0,{abortSignal:r.abortSignal});continue e}if(u){e.info(`Retry ${a}: Retry strategy ${t.name} redirects to ${u}`),r.url=u;continue e}}if(s)throw n.info("None of the retry strategies could work with the received error. Throwing it."),s;if(o)return n.info("None of the retry strategies could work with the received response. Returning it."),o}}}}([{name:"throttlingRetryStrategy",retry({response:e}){let t=i3(e);return Number.isFinite(t)?{retryAfterInMs:t}:{skipStrategy:!0}}},function(e={}){let t=e.retryDelayInMs??1e3,n=e.maxRetryDelayInMs??64e3;return{name:"exponentialRetryStrategy",retry({retryCount:r,response:i,responseError:o}){let s=!!o&&("ETIMEDOUT"===o.code||"ESOCKETTIMEDOUT"===o.code||"ECONNREFUSED"===o.code||"ECONNRESET"===o.code||"ENOENT"===o.code||"ENOTFOUND"===o.code),a=s&&e.ignoreSystemErrors,l=!!(i&&void 0!==i.status&&(i.status>=500||408===i.status)&&501!==i.status&&505!==i.status),c=l&&e.ignoreHttpStatusCodes;return i&&(Number.isFinite(i3(i))||!l)||c||a?{skipStrategy:!0}:!o||s||l?function(e,t){var n,r;let i=t.retryDelayInMs*Math.pow(2,e),o=Math.min(t.maxRetryDelayInMs,i);return{retryAfterInMs:o/2+(n=0,r=o/2,n=Math.ceil(n),Math.floor(Math.random()*((r=Math.floor(r))-n+1))+n)}}(r,{retryDelayInMs:t,maxRetryDelayInMs:n}):{errorToThrow:o}}}}(e)],{maxRetries:e.maxRetries??3}).sendRequest}}(e)}(e.retryOptions),{phase:"Retry"}),t.addPolicy(function(e={}){let t=ov(e.userAgentPrefix),n=new iT({additionalAllowedQueryParameters:e.additionalAllowedQueryParameters}),r=function(){try{return oD({namespace:"",packageName:"@azure/core-rest-pipeline",packageVersion:ob})}catch(e){o_.warning(`Error when creating the TracingClient: ${iv(e)}`);return}}();return{name:"tracingPolicy",async sendRequest(e,i){if(!r)return i(e);let o=await t,s={"http.url":n.sanitizeUrl(e.url),"http.method":e.method,"http.user_agent":o,requestId:e.requestId};o&&(s["http.user_agent"]=o);let{span:a,tracingContext:l}=function(e,t,n){try{let{span:r,updatedOptions:i}=e.startSpan(`HTTP ${t.method}`,{tracingOptions:t.tracingOptions},{spanKind:"client",spanAttributes:n});if(!r.isRecording()){r.end();return}let o=e.createRequestHeaders(i.tracingOptions.tracingContext);for(let[e,n]of Object.entries(o))t.headers.set(e,n);return{span:r,tracingContext:i.tracingOptions.tracingContext}}catch(e){o_.warning(`Skipping creating a tracing span due to an error: ${iv(e)}`);return}}(r,e,s)??{};if(!a||!l)return i(e);try{let t=await r.withContext(l,i,e);return function(e,t){try{e.setAttribute("http.status_code",t.status);let n=t.headers.get("x-ms-request-id");n&&e.setAttribute("serviceRequestId",n),t.status>=400&&e.setStatus({status:"error"}),e.end()}catch(e){o_.warning(`Skipping tracing span processing due to an error: ${iv(e)}`)}}(a,t),t}catch(e){throw function(e,t){try{e.setStatus({status:"error",error:id(t)?t:void 0}),ok(t)&&t.statusCode&&e.setAttribute("http.status_code",t.statusCode),e.end()}catch(e){o_.warning(`Skipping tracing span processing due to an error: ${iv(e)}`)}}(a,e),e}}}}({...e.userAgentOptions,...e.loggingOptions}),{afterPhase:"Retry"}),ig&&t.addPolicy(function(e={}){return function(e={}){let{maxRetries:t=20}=e;return{name:"redirectPolicy",async sendRequest(e,n){let r=await n(e);return oT(n,r,t)}}}(e)}(e.redirectOptions),{afterPhase:"Retry"}),t.addPolicy(function(e={}){return function(e={}){let t=e.logger??iX.info,n=new iT({additionalAllowedHeaderNames:e.additionalAllowedHeaderNames,additionalAllowedQueryParameters:e.additionalAllowedQueryParameters});return{name:"logPolicy",async sendRequest(e,r){if(!t.enabled)return r(e);t(`Request: ${n.sanitize(e)}`);let i=await r(e);return t(`Response status code: ${i.status}`),t(`Headers: ${n.sanitize(i.headers)}`),i}}}({logger:o_.info,...e})}(e.loggingOptions),{afterPhase:"Sign"}),t}(e??{});return e.credentialOptions&&t.addPolicy(function(e){let{credential:t,scopes:n,challengeCallbacks:r}=e,i=e.logger||o_,o={authorizeRequest:r?.authorizeRequest?.bind(r)??oF,authorizeRequestOnChallenge:r?.authorizeRequestOnChallenge?.bind(r)},s=t?function(e,t){let n,r=null,i=null,o={...oL},s={get isRefreshing(){return null!==r},get shouldRefresh(){if(s.isRefreshing)return!1;if(i?.refreshAfterTimestamp&&i.refreshAfterTimestamp<Date.now())return!0;return(i?.expiresOnTimestamp??0)-o.refreshWindowInMs<Date.now()},get mustRefresh(){return null===i||i.expiresOnTimestamp-o.forcedRefreshWindowInMs<Date.now()}};function a(t,a){return s.isRefreshing||(r=oU(()=>e.getToken(t,a),o.retryIntervalInMs,i?.expiresOnTimestamp??Date.now()).then(e=>(r=null,i=e,n=a.tenantId,i)).catch(e=>{throw r=null,i=null,n=void 0,e})),r}return async(e,t)=>{let r=!!t.claims,o=n!==t.tenantId;return(r&&(i=null),o||r||s.mustRefresh)?a(e,t):(s.shouldRefresh&&a(e,t),i)}}(t):()=>Promise.resolve(null);return{name:"bearerTokenAuthenticationPolicy",async sendRequest(e,t){let r,a;if(!e.url.toLowerCase().startsWith("https://"))throw Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");if(await o.authorizeRequest({scopes:Array.isArray(n)?n:[n],request:e,getAccessToken:s,logger:i}),[r,a]=await ox(e,t),oB(r)){let l=oY(r.headers.get("WWW-Authenticate"));if(l){let o;try{o=atob(l)}catch(e){return i.warning(`The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${l}`),r}await oq({scopes:Array.isArray(n)?n:[n],response:r,request:e,getAccessToken:s,logger:i},o)&&([r,a]=await ox(e,t))}else if(o.authorizeRequestOnChallenge&&(await o.authorizeRequestOnChallenge({scopes:Array.isArray(n)?n:[n],request:e,response:r,getAccessToken:s,logger:i})&&([r,a]=await ox(e,t)),oB(r)&&(l=oY(r.headers.get("WWW-Authenticate"))))){let o;try{o=atob(l)}catch(e){return i.warning(`The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${l}`),r}await oq({scopes:Array.isArray(n)?n:[n],response:r,request:e,getAccessToken:s,logger:i},o)&&([r,a]=await ox(e,t))}}if(!a)return r;throw a}}}({credential:e.credentialOptions.credential,scopes:e.credentialOptions.credentialScopes})),t.addPolicy(function(e={}){let t=e.stringifyXML;return{name:"serializationPolicy",async sendRequest(e,n){let r=oz(e),i=r?.operationSpec,o=r?.operationArguments;return i&&o&&(function(e,t,n){if(n.headerParameters)for(let r of n.headerParameters){let i=oH(t,r);if(null!=i||r.mapper.required){i=n.serializer.serialize(r.mapper,i,oQ(r));let t=r.mapper.headerCollectionPrefix;if(t)for(let n of Object.keys(i))e.headers.set(t+n,i[n]);else e.headers.set(r.mapper.serializedName||oQ(r),i)}}let r=t.options?.requestOptions?.customHeaders;if(r)for(let t of Object.keys(r))e.headers.set(t,r[t])}(e,o,i),function(e,t,n,r=function(){throw Error("XML serialization unsupported!")}){let i=t.options?.serializerOptions,o={xml:{rootName:i?.xml.rootName??"",includeRoot:i?.xml.includeRoot??!1,xmlCharKey:i?.xml.xmlCharKey??"_"}},s=o.xml.xmlCharKey;if(n.requestBody&&n.requestBody.mapper){e.body=oH(t,n.requestBody);let i=n.requestBody.mapper,{required:a,serializedName:l,xmlName:c,xmlElementName:u,xmlNamespace:h,xmlNamespacePrefix:d,nullable:f}=i,p=i.type.name;try{if(void 0!==e.body&&null!==e.body||f&&null===e.body||a){let t=oQ(n.requestBody);e.body=n.serializer.serialize(i,e.body,t,o);let a=p===ix.Stream;if(n.isXML){let t=d?`xmlns:${d}`:"xmlns",n=function(e,t,n,r,i){if(e&&!["Composite","Sequence","Dictionary"].includes(n)){let n={};return n[i.xml.xmlCharKey]=r,n.$={[t]:e},n}return r}(h,t,p,e.body,o);p===ix.Sequence?e.body=r(function(e,t,n,r){if(Array.isArray(e)||(e=[e]),!n||!r)return{[t]:e};let i={[t]:e};return i.$={[n]:r},i}(n,u||c||l,t,h),{rootName:c||l,xmlCharKey:s}):a||(e.body=r(n,{rootName:c||l,xmlCharKey:s}))}else{if(p===ix.String&&(n.contentType?.match("text/plain")||"text"===n.mediaType))return;a||(e.body=JSON.stringify(e.body))}}}catch(e){throw Error(`Error "${e.message}" occurred in serializing the payload - ${JSON.stringify(l,void 0,"  ")}.`)}}else if(n.formDataParameters&&n.formDataParameters.length>0)for(let r of(e.formData={},n.formDataParameters)){let i=oH(t,r);if(null!=i){let t=r.mapper.serializedName||oQ(r);e.formData[t]=n.serializer.serialize(r.mapper,i,oQ(r),o)}}}(e,o,i,t)),n(e)}}}(e.serializationOptions),{phase:"Serialize"}),t.addPolicy(function(e={}){let t=e.expectedContentTypes?.json??oW,n=e.expectedContentTypes?.xml??oG,r=e.parseXML,i=e.serializerOptions,o={xml:{rootName:i?.xml.rootName??"",includeRoot:i?.xml.includeRoot??!1,xmlCharKey:i?.xml.xmlCharKey??"_"}};return{name:"deserializationPolicy",sendRequest:async(e,i)=>oK(t,n,await i(e),o,r)}}(e.deserializationOptions),{phase:"Deserialize"}),t}({...e,credentialOptions:n})}(e),e.additionalPolicies?.length)for(let{policy:t,position:n}of e.additionalPolicies){let e="perRetry"===n?"Sign":void 0;this.pipeline.addPolicy(t,{afterPhase:e})}}async sendRequest(e){return this.pipeline.sendRequest(this._httpClient,e)}async sendOperationRequest(e,t){let n=t.baseUrl||this._endpoint;if(!n)throw Error("If operationSpec.baseUrl is not specified, then the ServiceClient must have a endpoint string property that contains the base URL to use.");let r=oM({url:function(e,t,n,r){let i=function(e,t,n){let r=new Map;if(e.urlParameters?.length)for(let i of e.urlParameters){let o=oH(t,i,n),s=oQ(i);o=e.serializer.serialize(i.mapper,o,s),i.skipEncoding||(o=encodeURIComponent(o)),r.set(`{${i.mapper.serializedName||s}}`,o)}return r}(t,n,r),o=!1,s=o0(e,i);if(t.path){let e=o0(t.path,i);"/{nextLink}"===t.path&&e.startsWith("/")&&(e=e.substring(1)),e.includes("://")?(s=e,o=!0):s=function(e,t){if(!t)return e;let n=new URL(e),r=n.pathname;r.endsWith("/")||(r=`${r}/`),t.startsWith("/")&&(t=t.substring(1));let i=t.indexOf("?");if(-1!==i){let e=t.substring(0,i),o=t.substring(i+1);r+=e,o&&(n.search=n.search?`${n.search}&${o}`:o)}else r+=t;return n.pathname=r,n.toString()}(s,e)}let{queryParams:a,sequenceParams:l}=function(e,t,n){let r=new Map,i=new Set;if(e.queryParameters?.length)for(let o of e.queryParameters){"Sequence"===o.mapper.type.name&&o.mapper.serializedName&&i.add(o.mapper.serializedName);let s=oH(t,o,n);if(null!=s||o.mapper.required){s=e.serializer.serialize(o.mapper,s,oQ(o));let t=o.collectionFormat?oJ[o.collectionFormat]:"";if(Array.isArray(s)&&(s=s.map(e=>null==e?"":e)),"Multi"===o.collectionFormat&&0===s.length)continue;Array.isArray(s)&&("SSV"===o.collectionFormat||"TSV"===o.collectionFormat)&&(s=s.join(t)),o.skipEncoding||(s=Array.isArray(s)?s.map(e=>encodeURIComponent(e)):encodeURIComponent(s)),Array.isArray(s)&&("CSV"===o.collectionFormat||"Pipes"===o.collectionFormat)&&(s=s.join(t)),r.set(o.mapper.serializedName||oQ(o),s)}}return{queryParams:r,sequenceParams:i}}(t,n,r);return function(e,t,n,r=!1){if(0===t.size)return e;let i=new URL(e),o=function(e){let t=new Map;if(!e||"?"!==e[0])return t;for(let n of(e=e.slice(1)).split("&")){let[e,r]=n.split("=",2),i=t.get(e);i?Array.isArray(i)?i.push(r):t.set(e,[i,r]):t.set(e,r)}return t}(i.search);for(let[e,i]of t){let t=o.get(e);if(Array.isArray(t)){if(Array.isArray(i)){t.push(...i);let n=new Set(t);o.set(e,Array.from(n))}else t.push(i)}else t?(Array.isArray(i)?i.unshift(t):n.has(e)&&o.set(e,[t,i]),r||o.set(e,i)):o.set(e,i)}let s=[];for(let[e,t]of o)if("string"==typeof t)s.push(`${e}=${t}`);else if(Array.isArray(t))for(let n of t)s.push(`${e}=${n}`);else s.push(`${e}=${t}`);return i.search=s.length?`?${s.join("&")}`:"",i.toString()}(s,a,l,o)}(n,t,e,this)});r.method=t.httpMethod;let i=oz(r);i.operationSpec=t,i.operationArguments=e;let o=t.contentType||this._requestContentType;o&&t.requestBody&&r.headers.set("Content-Type",o);let s=e.options;if(s){let e=s.requestOptions;e&&(e.timeout&&(r.timeout=e.timeout),e.onUploadProgress&&(r.onUploadProgress=e.onUploadProgress),e.onDownloadProgress&&(r.onDownloadProgress=e.onDownloadProgress),void 0!==e.shouldDeserialize&&(i.shouldDeserialize=e.shouldDeserialize),e.allowInsecureConnection&&(r.allowInsecureConnection=!0)),s.abortSignal&&(r.abortSignal=s.abortSignal),s.tracingOptions&&(r.tracingOptions=s.tracingOptions)}this._allowInsecureConnection&&(r.allowInsecureConnection=!0),void 0===r.streamResponseStatusCodes&&(r.streamResponseStatusCodes=function(e){let t=new Set;for(let n in e.responses){let r=e.responses[n];r.bodyMapper&&r.bodyMapper.type.name===ix.Stream&&t.add(Number(n))}return t}(t));try{let e=await this.sendRequest(r),n=oX(e,t.responses[e.status]);return s?.onResponse&&s.onResponse(e,n),n}catch(e){if("object"==typeof e&&e?.response){let n=e.response,r=oX(n,t.responses[e.statusCode]||t.responses.default);e.details=r,s?.onResponse&&s.onResponse(n,r,e)}throw e}}}let o4=oD({namespace:"Microsoft.AAD",packageName:"@azure/identity",packageVersion:ie}),o8="/.default",o5="http://169.254.169.254";function o6(e){let t="";if(Array.isArray(e)){if(1!==e.length)return;t=e[0]}else"string"==typeof e&&(t=e);return t.endsWith(o8)?t.substr(0,t.lastIndexOf(o8)):t}let o3="noCorrelationId";class o9 extends o2{constructor(e){var t,n;let r=`azsdk-js-identity/${ie}`,i=(null===(t=null==e?void 0:e.userAgentOptions)||void 0===t?void 0:t.userAgentPrefix)?`${e.userAgentOptions.userAgentPrefix} ${r}`:`${r}`,o=function(e){let t=null==e?void 0:e.authorityHost;return iS&&(t=null!=t?t:process.env.AZURE_AUTHORITY_HOST),null!=t?t:ir}(e);if(!o.startsWith("https:"))throw Error("The authorityHost address must use the 'https' protocol.");super(Object.assign(Object.assign({requestContentType:"application/json; charset=utf-8",retryOptions:{maxRetries:3}},e),{userAgentOptions:{userAgentPrefix:i},baseUri:o})),this.authorityHost=o,this.abortControllers=new Map,this.allowLoggingAccountIdentifiers=null===(n=null==e?void 0:e.loggingOptions)||void 0===n?void 0:n.allowLoggingAccountIdentifiers,this.tokenCredentialOptions=Object.assign({},e)}async sendTokenRequest(e){r8.info(`IdentityClient: sending token request to [${e.url}]`);let t=await this.sendRequest(e);if(t.bodyAsText&&(200===t.status||201===t.status)){let n=JSON.parse(t.bodyAsText);if(!n.access_token)return null;this.logIdentifiers(t);let r={accessToken:{token:n.access_token,expiresOnTimestamp:function(e){if("number"==typeof e.expires_on)return 1e3*e.expires_on;if("string"==typeof e.expires_on){let t=+e.expires_on;if(!isNaN(t))return 1e3*t;let n=Date.parse(e.expires_on);if(!isNaN(n))return n}if("number"==typeof e.expires_in)return Date.now()+1e3*e.expires_in;throw Error(`Failed to parse token expiration from body. expires_in="${e.expires_in}", expires_on="${e.expires_on}"`)}(n)},refreshToken:n.refresh_token};return r8.info(`IdentityClient: [${e.url}] token acquired, expires on ${r.accessToken.expiresOnTimestamp}`),r}{let e=new rJ(t.status,t.bodyAsText);throw r8.warning(`IdentityClient: authentication error. HTTP status: ${t.status}, ${e.errorResponse.errorDescription}`),e}}async refreshAccessToken(e,t,n,r,i,o={}){if(void 0===r)return null;r8.info(`IdentityClient: refreshing access token with client ID: ${t}, scopes: ${n} started`);let s={grant_type:"refresh_token",client_id:t,refresh_token:r,scope:n};void 0!==i&&(s.client_secret=i);let a=new URLSearchParams(s);return o4.withSpan("IdentityClient.refreshAccessToken",o,async n=>{try{var r;let i=oM({url:`${this.authorityHost}/${e}/${"adfs"===e?"oauth2/token":"oauth2/v2.0/token"}`,method:"POST",body:a.toString(),abortSignal:o.abortSignal,headers:(r={Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},iY(r)),tracingOptions:n.tracingOptions}),s=await this.sendTokenRequest(i);return r8.info(`IdentityClient: refreshed token for client ID: ${t}`),s}catch(e){if(e.name===rX&&"interaction_required"===e.errorResponse.error)return r8.info(`IdentityClient: interaction required for client ID: ${t}`),null;throw r8.warning(`IdentityClient: failed refreshing token for client ID: ${t}: ${e}`),e}})}generateAbortSignal(e){let t=new iu,n=this.abortControllers.get(e)||[];n.push(t),this.abortControllers.set(e,n);let r=t.signal.onabort;return t.signal.onabort=(...t)=>{this.abortControllers.set(e,void 0),r&&r(...t)},t.signal}abortRequests(e){let t=e||o3,n=[...this.abortControllers.get(t)||[],...this.abortControllers.get(o3)||[]];if(n.length){for(let e of n)e.abort();this.abortControllers.set(t,void 0)}}getCorrelationId(e){var t;let n=null===(t=null==e?void 0:e.body)||void 0===t?void 0:t.split("&").map(e=>e.split("=")).find(([e])=>"client-request-id"===e);return n&&n.length&&n[1]||o3}async sendGetRequestAsync(e,t){let n=oM({url:e,method:"GET",body:null==t?void 0:t.body,headers:iY(null==t?void 0:t.headers),abortSignal:this.generateAbortSignal(o3)}),r=await this.sendRequest(n);return this.logIdentifiers(r),{body:r.bodyAsText?JSON.parse(r.bodyAsText):void 0,headers:r.headers.toJSON(),status:r.status}}async sendPostRequestAsync(e,t){let n=oM({url:e,method:"POST",body:null==t?void 0:t.body,headers:iY(null==t?void 0:t.headers),abortSignal:this.generateAbortSignal(this.getCorrelationId(t))}),r=await this.sendRequest(n);return this.logIdentifiers(r),{body:r.bodyAsText?JSON.parse(r.bodyAsText):void 0,headers:r.headers.toJSON(),status:r.status}}getTokenCredentialOptions(){return this.tokenCredentialOptions}logIdentifiers(e){if(this.allowLoggingAccountIdentifiers&&e.bodyAsText)try{let t=(e.parsedBody||JSON.parse(e.bodyAsText)).access_token;if(!t)return;let n=t.split(".")[1],{appid:r,upn:i,tid:o,oid:s}=JSON.parse(Buffer.from(n,"base64").toString("utf8"));r8.info(`[Authenticated account] Client ID: ${r}. Tenant ID: ${o}. User Principal Name: ${i||"No User Principal Name available"}. Object ID (user): ${s}`)}catch(e){r8.warning("allowLoggingAccountIdentifiers was set, but we couldn't log the account information. Error:",e.message)}}}!function(e){e.AutoDiscoverRegion="AutoDiscoverRegion",e.USWest="westus",e.USWest2="westus2",e.USCentral="centralus",e.USEast="eastus",e.USEast2="eastus2",e.USNorthCentral="northcentralus",e.USSouthCentral="southcentralus",e.USWestCentral="westcentralus",e.CanadaCentral="canadacentral",e.CanadaEast="canadaeast",e.BrazilSouth="brazilsouth",e.EuropeNorth="northeurope",e.EuropeWest="westeurope",e.UKSouth="uksouth",e.UKWest="ukwest",e.FranceCentral="francecentral",e.FranceSouth="francesouth",e.SwitzerlandNorth="switzerlandnorth",e.SwitzerlandWest="switzerlandwest",e.GermanyNorth="germanynorth",e.GermanyWestCentral="germanywestcentral",e.NorwayWest="norwaywest",e.NorwayEast="norwayeast",e.AsiaEast="eastasia",e.AsiaSouthEast="southeastasia",e.JapanEast="japaneast",e.JapanWest="japanwest",e.AustraliaEast="australiaeast",e.AustraliaSouthEast="australiasoutheast",e.AustraliaCentral="australiacentral",e.AustraliaCentral2="australiacentral2",e.IndiaCentral="centralindia",e.IndiaSouth="southindia",e.IndiaWest="westindia",e.KoreaSouth="koreasouth",e.KoreaCentral="koreacentral",e.UAECentral="uaecentral",e.UAENorth="uaenorth",e.SouthAfricaNorth="southafricanorth",e.SouthAfricaWest="southafricawest",e.ChinaNorth="chinanorth",e.ChinaEast="chinaeast",e.ChinaNorth2="chinanorth2",e.ChinaEast2="chinaeast2",e.GermanyCentral="germanycentral",e.GermanyNorthEast="germanynortheast",e.GovernmentUSVirginia="usgovvirginia",e.GovernmentUSIowa="usgoviowa",e.GovernmentUSArizona="usgovarizona",e.GovernmentUSTexas="usgovtexas",e.GovernmentUSDodEast="usdodeast",e.GovernmentUSDodCentral="usdodcentral"}(nL||(nL={}));class o7 extends iO{constructor(e){var t,n,r,i;if(super(e),this.app={},this.caeApp={},this.requiresConfidential=!1,this.msalConfig=this.defaultNodeMsalConfig(e),this.tenantId=iP(e.logger,e.tenantId,e.clientId),this.additionallyAllowedTenantIds=iM(null===(t=null==e?void 0:e.tokenCredentialOptions)||void 0===t?void 0:t.additionallyAllowedTenants),this.clientId=this.msalConfig.auth.clientId,(null==e?void 0:e.getAssertion)&&(this.getAssertion=e.getAssertion),void 0!==o&&(null===(n=e.tokenCachePersistenceOptions)||void 0===n?void 0:n.enabled)){let t=Object.assign({name:`${e.tokenCachePersistenceOptions.name}..nocae`},e.tokenCachePersistenceOptions),n=Object.assign({name:`${e.tokenCachePersistenceOptions.name}..cae`},e.tokenCachePersistenceOptions);this.createCachePlugin=()=>o(t),this.createCachePluginCae=()=>o(n)}else if(null===(r=e.tokenCachePersistenceOptions)||void 0===r?void 0:r.enabled)throw Error("Persistent token caching was requested, but no persistence provider was configured. You must install the identity-cache-persistence plugin package (`npm install --save @azure/identity-cache-persistence`) and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling `useIdentityPlugin(cachePersistencePlugin)` before using `tokenCachePersistenceOptions`.");this.azureRegion=null!==(i=e.regionalAuthority)&&void 0!==i?i:process.env.AZURE_REGIONAL_AUTHORITY_NAME,this.azureRegion===nL.AutoDiscoverRegion&&(this.azureRegion="AUTO_DISCOVER")}defaultNodeMsalConfig(e){var t,n;let r=e.clientId||it,i=iP(e.logger,e.tenantId,e.clientId);this.authorityHost=e.authorityHost||process.env.AZURE_AUTHORITY_HOST;let o=iA(i,this.authorityHost);return this.identityClient=new o9(Object.assign(Object.assign({},e.tokenCredentialOptions),{authorityHost:o,loggingOptions:e.loggingOptions})),{auth:{clientId:r,authority:o,knownAuthorities:(n=e.disableInstanceDiscovery,"adfs"===i&&o||n?[o]:[]),clientCapabilities:[]},system:{networkClient:this.identityClient,loggerOptions:{loggerCallback:iI(e.logger),logLevel:iC(rG()),piiLoggingEnabled:null===(t=e.loggingOptions)||void 0===t?void 0:t.enableUnsafeSupportLogging}}}}getApp(e,t){let n=t?this.caeApp:this.app;return"publicFirst"===e?n.public||n.confidential:"confidentialFirst"===e?n.confidential||n.public:"confidential"===e?n.confidential:n.public}async init(e){(null==e?void 0:e.abortSignal)&&e.abortSignal.addEventListener("abort",()=>{this.identityClient.abortRequests(e.correlationId)});let t=(null==e?void 0:e.enableCae)?this.caeApp:this.app;if((null==e?void 0:e.enableCae)&&(this.msalConfig.auth.clientCapabilities=["cp1"]),!t.public&&!t.confidential){if((null==e?void 0:e.enableCae)&&void 0!==this.createCachePluginCae&&(this.msalConfig.cache={cachePlugin:await this.createCachePluginCae()}),void 0!==this.createCachePlugin&&(this.msalConfig.cache={cachePlugin:await this.createCachePlugin()}),(null==e?void 0:e.enableCae)?this.caeApp.public=new rg(this.msalConfig):this.app.public=new rg(this.msalConfig),this.getAssertion&&(this.msalConfig.auth.clientAssertion=await this.getAssertion()),this.msalConfig.auth.clientSecret||this.msalConfig.auth.clientAssertion||this.msalConfig.auth.clientCertificate)(null==e?void 0:e.enableCae)?this.caeApp.confidential=new rE(this.msalConfig):this.app.confidential=new rE(this.msalConfig);else if(this.requiresConfidential)throw Error("Unable to generate the MSAL confidential client. Missing either the client's secret, certificate or assertion.")}}withCancellation(e,t,n){return new Promise((r,i)=>{e.then(e=>r(e)).catch(i),t&&t.addEventListener("abort",()=>{null==n||n()})})}async getActiveAccount(e=!1){if(this.account)return this.account;let t=this.getApp("confidentialFirst",e).getTokenCache(),n=await (null==t?void 0:t.getAllAccounts());if(n){if(1===n.length)this.account=iN(this.clientId,n[0]);else{this.logger.info(`More than one account was found authenticated for this Client ID and Tenant ID.
However, no "authenticationRecord" has been provided for this credential,
therefore we're unable to pick between these accounts.
A new login attempt will be requested, to ensure the correct account is picked.
To work with multiple accounts for the same Client ID and Tenant ID, please provide an "authenticationRecord" when initializing a credential to prevent this from happening.`);return}return this.account}}async getTokenSilent(e,t){var n,r,i;if(await this.getActiveAccount(null==t?void 0:t.enableCae),!this.account)throw new r4({scopes:e,getTokenOptions:t,message:"Silent authentication failed. We couldn't retrieve an active account from the cache."});let o={account:function(e){let[t]=e.authority.match(/([a-z]*\.[a-z]*\.[a-z]*)/)||[""];return Object.assign(Object.assign({},e),{localAccountId:e.homeAccountId,environment:t})}(this.account),correlationId:null==t?void 0:t.correlationId,scopes:e,authority:null==t?void 0:t.authority,claims:null==t?void 0:t.claims};try{this.logger.info("Attempting to acquire token silently"),await (null===(n=this.getApp("publicFirst",null==t?void 0:t.enableCae))||void 0===n?void 0:n.getTokenCache().getAllAccounts());let s=null!==(i=await (null===(r=this.getApp("confidential",null==t?void 0:t.enableCae))||void 0===r?void 0:r.acquireTokenSilent(o)))&&void 0!==i?i:await this.getApp("public",null==t?void 0:t.enableCae).acquireTokenSilent(o);return this.handleResult(e,this.clientId,s||void 0)}catch(n){throw this.handleError(e,n,t)}}async getToken(e,t={}){let n=iL(this.tenantId,t,this.additionallyAllowedTenantIds)||this.tenantId;t.authority=iA(n,this.authorityHost),t.correlationId=(null==t?void 0:t.correlationId)||this.generateUuid(),await this.init(t);try{let n=t.claims;return n&&(this.cachedClaims=n),this.cachedClaims&&!n&&(t.claims=this.cachedClaims),await this.getTokenSilent(e,t)}catch(n){if("AuthenticationRequiredError"!==n.name)throw n;if(null==t?void 0:t.disableAutomaticAuthentication)throw new r4({scopes:e,getTokenOptions:t,message:"Automatic authentication has been disabled. You may call the authentication() method."});return this.logger.info("Silent authentication failed, falling back to interactive method."),this.doGetToken(e,t)}}}var se=n(19801),st=n.n(se);let sn=r7("VisualStudioCodeCredential"),sr={adfs:"The VisualStudioCodeCredential does not support authentication with ADFS tenants."};function si(e){let t=sr[e];if(t)throw new rQ(t)}let so={AzureCloud:nM.AzurePublicCloud,AzureChina:nM.AzureChina,AzureGermanCloud:nM.AzureGermany,AzureUSGovernment:nM.AzureGovernment};function ss(e){let t=["User","settings.json"],n=st().homedir();function r(...n){let i=rA().join(...n,"Code",...t);return JSON.parse(rv().readFileSync(i,{encoding:"utf8"}))[e]}try{let e;switch(process.platform){case"win32":return(e=process.env.APPDATA)?r(e):void 0;case"darwin":return r(n,"Library","Application Support");case"linux":return r(n,".config");default:return}}catch(e){sn.info(`Failed to load the Visual Studio Code configuration file. Error: ${e.message}`);return}}class sa{constructor(e){this.cloudName=ss("azure.cloud")||"AzureCloud";let t=so[this.cloudName];this.identityClient=new o9(Object.assign({authorityHost:t},e)),e&&e.tenantId?(ik(sn,e.tenantId),this.tenantId=e.tenantId):this.tenantId="common",this.additionallyAllowedTenantIds=iM(null==e?void 0:e.additionallyAllowedTenants),si(this.tenantId)}async prepare(){let e=ss("azure.tenant");e&&(this.tenantId=e),si(this.tenantId)}prepareOnce(){return this.preparePromise||(this.preparePromise=this.prepare()),this.preparePromise}async getToken(e,t){var n,r;await this.prepareOnce();let i=iL(this.tenantId,t,this.additionallyAllowedTenantIds,sn)||this.tenantId;if(void 0===s)throw new rQ("No implementation of `VisualStudioCodeCredential` is available. You must install the identity-vscode plugin package (`npm install --save-dev @azure/identity-vscode`) and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling `useIdentityPlugin(vsCodePlugin)` before creating a `VisualStudioCodeCredential`. To troubleshoot, visit https://aka.ms/azsdk/js/identity/vscodecredential/troubleshoot.");let o="string"==typeof e?e:e.join(" ");if(!o.match(/^[0-9a-zA-Z-.:/]+$/)){let t=Error("Invalid scope was specified by the user or calling client");throw sn.getToken.info(r3(e,t)),t}0>o.indexOf("offline_access")&&(o+=" offline_access");let a=await s(),{password:l}=null!==(r=null!==(n=a.find(({account:e})=>e===this.cloudName))&&void 0!==n?n:a[0])&&void 0!==r?r:{};if(l){let t=await this.identityClient.refreshAccessToken(i,"aebc6443-996d-45c2-90f0-388ff96faa56",o,l,void 0);if(t)return sn.getToken.info(r6(e)),t.accessToken;{let t=new rQ("Could not retrieve the token associated with Visual Studio Code. Have you connected using the 'Azure Account' extension recently? To troubleshoot, visit https://aka.ms/azsdk/js/identity/vscodecredential/troubleshoot.");throw sn.getToken.info(r3(e,t)),t}}{let t=new rQ("Could not retrieve the token associated with Visual Studio Code. Did you connect using the 'Azure Account' extension? To troubleshoot, visit https://aka.ms/azsdk/js/identity/vscodecredential/troubleshoot.");throw sn.getToken.info(r3(e,t)),t}}}let sl={cachePluginControl:{setPersistence(e){o=e}},vsCodeCredentialControl:{setVsCodeCredentialFinder(e){s=e}}};function sc(e){e(sl)}let su="ManagedIdentityCredential - AppServiceMSI 2017",sh=r7(su),sd={name:"appServiceMsi2017",async isAvailable({scopes:e}){if(!o6(e))return sh.info(`${su}: Unavailable. Multiple scopes are not supported.`),!1;let t=process.env,n=!!(t.MSI_ENDPOINT&&t.MSI_SECRET);return n||sh.info(`${su}: Unavailable. The environment variables needed are: MSI_ENDPOINT and MSI_SECRET.`),n},async getToken(e,t={}){let{identityClient:n,scopes:r,clientId:i,resourceId:o}=e;o&&sh.warning(`${su}: managed Identity by resource Id is not supported. Argument resourceId might be ignored by the service.`),sh.info(`${su}: Using the endpoint and the secret coming form the environment variables: MSI_ENDPOINT=${process.env.MSI_ENDPOINT} and MSI_SECRET=[REDACTED].`);let s=oM(Object.assign(Object.assign({abortSignal:t.abortSignal},function(e,t){let n=o6(e);if(!n)throw Error(`${su}: Multiple scopes are not supported.`);let r={resource:n,"api-version":"2017-09-01"};t&&(r.clientid=t);let i=new URLSearchParams(r);if(!process.env.MSI_ENDPOINT)throw Error(`${su}: Missing environment variable: MSI_ENDPOINT`);if(!process.env.MSI_SECRET)throw Error(`${su}: Missing environment variable: MSI_SECRET`);return{url:`${process.env.MSI_ENDPOINT}?${i.toString()}`,method:"GET",headers:iY({Accept:"application/json",secret:process.env.MSI_SECRET})}}(r,i)),{allowInsecureConnection:!0})),a=await n.sendTokenRequest(s);return a&&a.accessToken||null}},sf="ManagedIdentityCredential - CloudShellMSI",sp=r7(sf),sm={name:"cloudShellMsi",async isAvailable({scopes:e}){if(!o6(e))return sp.info(`${sf}: Unavailable. Multiple scopes are not supported.`),!1;let t=!!process.env.MSI_ENDPOINT;return t||sp.info(`${sf}: Unavailable. The environment variable MSI_ENDPOINT is needed.`),t},async getToken(e,t={}){let{identityClient:n,scopes:r,clientId:i,resourceId:o}=e;i&&sp.warning(`${sf}: user-assigned identities not supported. The argument clientId might be ignored by the service.`),o&&sp.warning(`${sf}: user defined managed Identity by resource Id not supported. The argument resourceId might be ignored by the service.`),sp.info(`${sf}: Using the endpoint coming form the environment variable MSI_ENDPOINT = ${process.env.MSI_ENDPOINT}.`);let s=oM(Object.assign(Object.assign({abortSignal:t.abortSignal},function(e,t,n){let r=o6(e);if(!r)throw Error(`${sf}: Multiple scopes are not supported.`);let i={resource:r};if(t&&(i.client_id=t),n&&(i.msi_res_id=n),!process.env.MSI_ENDPOINT)throw Error(`${sf}: Missing environment variable: MSI_ENDPOINT`);let o=new URLSearchParams(i);return{url:process.env.MSI_ENDPOINT,method:"POST",body:o.toString(),headers:iY({Accept:"application/json",Metadata:"true","Content-Type":"application/x-www-form-urlencoded"})}}(r,i,o)),{allowInsecureConnection:!0})),a=await n.sendTokenRequest(s);return a&&a.accessToken||null}},sg="ManagedIdentityCredential - IMDS",sy=r7(sg);function s_(e,t,n,r){var i;let o=o6(e);if(!o)throw Error(`${sg}: Multiple scopes are not supported.`);let{skipQuery:s,skipMetadataHeader:a}=r||{},l="";if(!s){let e={resource:o,"api-version":"2018-02-01"};t&&(e.client_id=t),n&&(e.msi_res_id=n);let r=new URLSearchParams(e);l=`?${r.toString()}`}let c=new URL("/metadata/identity/oauth2/token",null!==(i=process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST)&&void 0!==i?i:o5),u={Accept:"application/json",Metadata:"true"};return a&&delete u.Metadata,{url:`${c}${l}`,method:"GET",headers:iY(u)}}let sE={maxRetries:3,startDelayInMs:800,intervalIncrement:2},sT={name:"imdsMsi",async isAvailable({scopes:e,identityClient:t,clientId:n,resourceId:r,getTokenOptions:i={}}){let o=o6(e);if(!o)return sy.info(`${sg}: Unavailable. Multiple scopes are not supported.`),!1;if(process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST)return!0;if(!t)throw Error("Missing IdentityClient");let s=s_(o,n,r,{skipMetadataHeader:!0,skipQuery:!0});return o4.withSpan("ManagedIdentityCredential-pingImdsEndpoint",i,async e=>{var n,r;let i;s.tracingOptions=e.tracingOptions;let o=oM(s);o.timeout=(null===(n=e.requestOptions)||void 0===n?void 0:n.timeout)||1e3,o.allowInsecureConnection=!0;try{sy.info(`${sg}: Pinging the Azure IMDS endpoint`),i=await t.sendRequest(o)}catch(e){return id(e)&&sy.verbose(`${sg}: Caught error ${e.name}: ${e.message}`),sy.info(`${sg}: The Azure IMDS endpoint is unavailable`),!1}return 403===i.status&&(null===(r=i.bodyAsText)||void 0===r?void 0:r.includes("A socket operation was attempted to an unreachable network"))?(sy.info(`${sg}: The Azure IMDS endpoint is unavailable`),sy.info(`${sg}: ${i.bodyAsText}`),!1):(sy.info(`${sg}: The Azure IMDS endpoint is available`),!0)})},async getToken(e,t={}){let{identityClient:n,scopes:r,clientId:i,resourceId:o}=e;process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST?sy.info(`${sg}: Using the Azure IMDS endpoint coming from the environment variable AZURE_POD_IDENTITY_AUTHORITY_HOST=${process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST}.`):sy.info(`${sg}: Using the default Azure IMDS endpoint ${o5}.`);let s=sE.startDelayInMs;for(let e=0;e<sE.maxRetries;e++)try{let e=oM(Object.assign(Object.assign({abortSignal:t.abortSignal},s_(r,i,o)),{allowInsecureConnection:!0})),s=await n.sendTokenRequest(e);return s&&s.accessToken||null}catch(e){if(404===e.statusCode){await ib(s),s*=sE.intervalIncrement;continue}throw e}throw new rJ(404,`${sg}: Failed to retrieve IMDS token after ${sE.maxRetries} retries.`)}},sw="ManagedIdentityCredential - Azure Arc MSI",sb=r7(sw);async function sv(e,t){let n=await e.sendRequest(oM(t));if(401!==n.status){let e="";throw n.bodyAsText&&(e=` Response: ${n.bodyAsText}`),new rJ(n.status,`${sw}: To authenticate with Azure Arc MSI, status code 401 is expected on the first request. ${e}`)}let r=n.headers.get("www-authenticate")||"";try{return r.split("=").slice(1)[0]}catch(e){throw Error(`Invalid www-authenticate header format: ${r}`)}}let sS={name:"arc",async isAvailable({scopes:e}){if(!o6(e))return sb.info(`${sw}: Unavailable. Multiple scopes are not supported.`),!1;let t=!!(process.env.IMDS_ENDPOINT&&process.env.IDENTITY_ENDPOINT);return t||sb.info(`${sw}: The environment variables needed are: IMDS_ENDPOINT and IDENTITY_ENDPOINT`),t},async getToken(e,t={}){var n,r;let{identityClient:i,scopes:o,clientId:s,resourceId:a}=e;s&&sb.warning(`${sw}: user-assigned identities not supported. The argument clientId might be ignored by the service.`),a&&sb.warning(`${sw}: user defined managed Identity by resource Id is not supported. Argument resourceId will be ignored.`),sb.info(`${sw}: Authenticating.`);let l=Object.assign(Object.assign({disableJsonStringifyOnBody:!0,deserializationMapper:void 0,abortSignal:t.abortSignal},function(e,t,n){let r=o6(e);if(!r)throw Error(`${sw}: Multiple scopes are not supported.`);let i={resource:r,"api-version":"2019-11-01"};if(t&&(i.client_id=t),n&&(i.msi_res_id=n),!process.env.IDENTITY_ENDPOINT)throw Error(`${sw}: Missing environment variable: IDENTITY_ENDPOINT`);let o=new URLSearchParams(i);return oM({url:`${process.env.IDENTITY_ENDPOINT}?${o.toString()}`,method:"GET",headers:iY({Accept:"application/json",Metadata:"true"})})}(o,s,a)),{allowInsecureConnection:!0}),c=await sv(i,l);if(!c)throw Error(`${sw}: Failed to find the token file.`);let u=await (r={encoding:"utf-8"},new Promise((e,t)=>(0,rb.readFile)(c,r,(n,r)=>{n&&t(n),e(r)})));null===(n=l.headers)||void 0===n||n.set("Authorization",`Basic ${u}`);let h=oM(Object.assign(Object.assign({},l),{allowInsecureConnection:!0})),d=await i.sendTokenRequest(h);return d&&d.accessToken||null}};class sA extends o7{constructor(e){super(e),this.requiresConfidential=!0,this.getAssertion=e.getAssertion}async doGetToken(e,t={}){try{let n=await this.getAssertion(),r=await this.getApp("confidential",t.enableCae).acquireTokenByClientCredential({scopes:e,correlationId:t.correlationId,azureRegion:this.azureRegion,authority:t.authority,claims:t.claims,clientAssertion:n});return this.handleResult(e,this.clientId,r||void 0)}catch(r){let n=r;throw n=null==r?Error(JSON.stringify(r)):id(r)?r:Error(String(r)),this.handleError(e,n,t)}}}let sI=r7("ClientAssertionCredential");class sC{constructor(e,t,n,r={}){if(!e||!t||!n)throw Error("ClientAssertionCredential: tenantId, clientId, and clientAssertion are required parameters.");this.tenantId=e,this.additionallyAllowedTenantIds=iM(null==r?void 0:r.additionallyAllowedTenants),this.clientId=t,this.options=r,this.msalFlow=new sA(Object.assign(Object.assign({},r),{logger:sI,clientId:this.clientId,tenantId:this.tenantId,tokenCredentialOptions:this.options,getAssertion:n}))}async getToken(e,t={}){return o4.withSpan(`${this.constructor.name}.getToken`,t,async t=>{t.tenantId=iL(this.tenantId,t,this.additionallyAllowedTenantIds,sI);let n=Array.isArray(e)?e:[e];return this.msalFlow.getToken(n,t)})}}var sO=n(20629);let sN="WorkloadIdentityCredential",sR=["AZURE_TENANT_ID","AZURE_CLIENT_ID","AZURE_FEDERATED_TOKEN_FILE"],sD=r7(sN);class sk{constructor(e){this.azureFederatedTokenFileContent=void 0,this.cacheDate=void 0;let t=r5(sR).assigned.join(", ");sD.info(`Found the following environment variables: ${t}`);let n=null!=e?e:{},r=n.tenantId||process.env.AZURE_TENANT_ID,i=n.clientId||process.env.AZURE_CLIENT_ID;this.federatedTokenFilePath=n.tokenFilePath||process.env.AZURE_FEDERATED_TOKEN_FILE,r&&ik(sD,r),i&&r&&this.federatedTokenFilePath&&(sD.info(`Invoking ClientAssertionCredential with tenant ID: ${r}, clientId: ${n.clientId} and federated token path: [REDACTED]`),this.client=new sC(r,i,this.readFileContents.bind(this),e))}async getToken(e,t){if(!this.client){let e=`${sN}: is unavailable. tenantId, clientId, and federatedTokenFilePath are required parameters. 
      In DefaultAzureCredential and ManagedIdentityCredential, these can be provided as environment variables - 
      "AZURE_TENANT_ID",
      "AZURE_CLIENT_ID",
      "AZURE_FEDERATED_TOKEN_FILE". See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot  `;throw sD.info(e),new rQ(e)}return sD.info("Invoking getToken() of Client Assertion Credential"),this.client.getToken(e,t)}async readFileContents(){if(void 0!==this.cacheDate&&Date.now()-this.cacheDate>=3e5&&(this.azureFederatedTokenFileContent=void 0),!this.federatedTokenFilePath)throw new rQ(`${sN}: is unavailable. Invalid file path provided ${this.federatedTokenFilePath}.`);if(!this.azureFederatedTokenFileContent){let e=(await (0,sO.readFile)(this.federatedTokenFilePath,"utf8")).trim();if(e)this.azureFederatedTokenFileContent=e,this.cacheDate=Date.now();else throw new rQ(`${sN}: is unavailable. No content on the file ${this.federatedTokenFilePath}.`)}return this.azureFederatedTokenFileContent}}let sP="ManagedIdentityCredential - Token Exchange",sM=r7(sP),sL="ManagedIdentityCredential - Fabric MSI",sU=r7(sL),sx={name:"fabricMsi",async isAvailable({scopes:e}){if(!o6(e))return sU.info(`${sL}: Unavailable. Multiple scopes are not supported.`),!1;let t=process.env,n=!!(t.IDENTITY_ENDPOINT&&t.IDENTITY_HEADER&&t.IDENTITY_SERVER_THUMBPRINT);return n||sU.info(`${sL}: Unavailable. The environment variables needed are: IDENTITY_ENDPOINT, IDENTITY_HEADER and IDENTITY_SERVER_THUMBPRINT`),n},async getToken(e,t={}){let{scopes:n,identityClient:r,clientId:i,resourceId:o}=e;o&&sU.warning(`${sL}: user defined managed Identity by resource Id is not supported. Argument resourceId might be ignored by the service.`),sU.info(`${sL}: Using the endpoint and the secret coming from the environment variables: IDENTITY_ENDPOINT=${process.env.IDENTITY_ENDPOINT}, IDENTITY_HEADER=[REDACTED] and IDENTITY_SERVER_THUMBPRINT=[REDACTED].`);let s=oM(Object.assign({abortSignal:t.abortSignal},function(e,t,n){let r=o6(e);if(!r)throw Error(`${sL}: Multiple scopes are not supported.`);let i={resource:r,"api-version":"2019-07-01-preview"};t&&(i.client_id=t),n&&(i.msi_res_id=n);let o=new URLSearchParams(i);if(!process.env.IDENTITY_ENDPOINT)throw Error("Missing environment variable: IDENTITY_ENDPOINT");if(!process.env.IDENTITY_HEADER)throw Error("Missing environment variable: IDENTITY_HEADER");return{url:`${process.env.IDENTITY_ENDPOINT}?${o.toString()}`,method:"GET",headers:iY({Accept:"application/json",secret:process.env.IDENTITY_HEADER})}}(n,i,o)));s.agent=new(nB()).Agent({rejectUnauthorized:!1});let a=await r.sendTokenRequest(s);return a&&a.accessToken||null}},sF="ManagedIdentityCredential - AppServiceMSI 2019",sB=r7(sF),sq={name:"appServiceMsi2019",async isAvailable({scopes:e}){if(!o6(e))return sB.info(`${sF}: Unavailable. Multiple scopes are not supported.`),!1;let t=process.env,n=!!(t.IDENTITY_ENDPOINT&&t.IDENTITY_HEADER);return n||sB.info(`${sF}: Unavailable. The environment variables needed are: IDENTITY_ENDPOINT and IDENTITY_HEADER.`),n},async getToken(e,t={}){let{identityClient:n,scopes:r,clientId:i,resourceId:o}=e;sB.info(`${sF}: Using the endpoint and the secret coming form the environment variables: IDENTITY_ENDPOINT=${process.env.IDENTITY_ENDPOINT} and IDENTITY_HEADER=[REDACTED].`);let s=oM(Object.assign(Object.assign({abortSignal:t.abortSignal},function(e,t,n){let r=o6(e);if(!r)throw Error(`${sF}: Multiple scopes are not supported.`);let i={resource:r,"api-version":"2019-08-01"};t&&(i.client_id=t),n&&(i.mi_res_id=n);let o=new URLSearchParams(i);if(!process.env.IDENTITY_ENDPOINT)throw Error(`${sF}: Missing environment variable: IDENTITY_ENDPOINT`);if(!process.env.IDENTITY_HEADER)throw Error(`${sF}: Missing environment variable: IDENTITY_HEADER`);return{url:`${process.env.IDENTITY_ENDPOINT}?${o.toString()}`,method:"GET",headers:iY({Accept:"application/json","X-IDENTITY-HEADER":process.env.IDENTITY_HEADER})}}(r,i,o)),{allowInsecureConnection:!0})),a=await n.sendTokenRequest(s);return a&&a.accessToken||null}},sY=r7("ManagedIdentityCredential");class sj{constructor(e,t){var n;let r;if(this.isEndpointUnavailable=null,this.isAppTokenProviderInitialized=!1,"string"==typeof e?(this.clientId=e,r=t):(this.clientId=null==e?void 0:e.clientId,r=e),this.resourceId=null==r?void 0:r.resourceId,this.clientId&&this.resourceId)throw Error(`${sj.name} - Client Id and Resource Id can't be provided at the same time.`);this.identityClient=new o9(r),this.isAvailableIdentityClient=new o9(Object.assign(Object.assign({},r),{retryOptions:{maxRetries:0}})),this.confidentialApp=new rE({auth:{authority:"https://login.microsoftonline.com/managed_identity",clientId:null!==(n=this.clientId)&&void 0!==n?n:it,clientSecret:"dummy-secret",cloudDiscoveryMetadata:'{"tenant_discovery_endpoint":"https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration","api-version":"1.1","metadata":[{"preferred_network":"login.microsoftonline.com","preferred_cache":"login.windows.net","aliases":["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{"preferred_network":"login.partner.microsoftonline.cn","preferred_cache":"login.partner.microsoftonline.cn","aliases":["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{"preferred_network":"login.microsoftonline.de","preferred_cache":"login.microsoftonline.de","aliases":["login.microsoftonline.de"]},{"preferred_network":"login.microsoftonline.us","preferred_cache":"login.microsoftonline.us","aliases":["login.microsoftonline.us","login.usgovcloudapi.net"]},{"preferred_network":"login-us.microsoftonline.com","preferred_cache":"login-us.microsoftonline.com","aliases":["login-us.microsoftonline.com"]}]}',authorityMetadata:'{"token_endpoint":"https://login.microsoftonline.com/common/oauth2/v2.0/token","token_endpoint_auth_methods_supported":["client_secret_post","private_key_jwt","client_secret_basic"],"jwks_uri":"https://login.microsoftonline.com/common/discovery/v2.0/keys","response_modes_supported":["query","fragment","form_post"],"subject_types_supported":["pairwise"],"id_token_signing_alg_values_supported":["RS256"],"response_types_supported":["code","id_token","code id_token","id_token token"],"scopes_supported":["openid","profile","email","offline_access"],"issuer":"https://login.microsoftonline.com/{tenantid}/v2.0","request_uri_parameter_supported":false,"userinfo_endpoint":"https://graph.microsoft.com/oidc/userinfo","authorization_endpoint":"https://login.microsoftonline.com/common/oauth2/v2.0/authorize","device_authorization_endpoint":"https://login.microsoftonline.com/common/oauth2/v2.0/devicecode","http_logout_supported":true,"frontchannel_logout_supported":true,"end_session_endpoint":"https://login.microsoftonline.com/common/oauth2/v2.0/logout","claims_supported":["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],"kerberos_endpoint":"https://login.microsoftonline.com/common/kerberos","tenant_region_scope":null,"cloud_instance_name":"microsoftonline.com","cloud_graph_host_name":"graph.windows.net","msgraph_host":"graph.microsoft.com","rbac_url":"https://pas.windows.net"}',clientCapabilities:[]},system:{loggerOptions:{logLevel:iC(rG())}}})}async cachedAvailableMSI(e,t){if(this.cachedMSI)return this.cachedMSI;for(let n of[sS,sx,sq,sd,sm,{name:"tokenExchangeMsi",async isAvailable({clientId:e}){let t=process.env,n=!!((e||t.AZURE_CLIENT_ID)&&t.AZURE_TENANT_ID&&process.env.AZURE_FEDERATED_TOKEN_FILE);return n||sM.info(`${sP}: Unavailable. The environment variables needed are: AZURE_CLIENT_ID (or the client ID sent through the parameters), AZURE_TENANT_ID and AZURE_FEDERATED_TOKEN_FILE`),n},async getToken(e,t={}){let{scopes:n,clientId:r}=e,i=new sk(Object.assign(Object.assign({clientId:r,tenantId:process.env.AZURE_TENANT_ID,tokenFilePath:process.env.AZURE_FEDERATED_TOKEN_FILE},{}),{disableInstanceDiscovery:!0}));return await i.getToken(n,t)}},sT])if(await n.isAvailable({scopes:e,identityClient:this.isAvailableIdentityClient,clientId:this.clientId,resourceId:this.resourceId,getTokenOptions:t}))return this.cachedMSI=n,n;throw new rQ(`${sj.name} - No MSI credential available`)}async authenticateManagedIdentity(e,t){let{span:n,updatedOptions:r}=o4.startSpan(`${sj.name}.authenticateManagedIdentity`,t);try{return(await this.cachedAvailableMSI(e,r)).getToken({identityClient:this.identityClient,scopes:e,clientId:this.clientId,resourceId:this.resourceId},r)}catch(e){throw n.setStatus({status:"error",error:e}),e}finally{n.end()}}async getToken(e,t){let n=null,{span:r,updatedOptions:i}=o4.startSpan(`${sj.name}.getToken`,t);try{if(!0!==this.isEndpointUnavailable){let r=await this.cachedAvailableMSI(e,i);if("tokenExchangeMsi"===r.name)n=await this.authenticateManagedIdentity(e,i);else{let r={correlationId:this.identityClient.getCorrelationId(),tenantId:(null==t?void 0:t.tenantId)||"managed_identity",scopes:Array.isArray(e)?e:[e],claims:null==t?void 0:t.claims};this.initializeSetAppTokenProvider();let i=await this.confidentialApp.acquireTokenByClientCredential(Object.assign({},r));n=this.handleResult(e,i||void 0)}if(null===n){this.isEndpointUnavailable=!0;let t=new rQ("The managed identity endpoint was reached, yet no tokens were received.");throw sY.getToken.info(r3(e,t)),t}this.isEndpointUnavailable=!1}else{let t=new rQ("The managed identity endpoint is not currently available");throw sY.getToken.info(r3(e,t)),t}return sY.getToken.info(r6(e)),n}catch(t){if("AuthenticationRequiredError"===t.name)throw t;if(r.setStatus({status:"error",error:t}),"ENETUNREACH"===t.code){let n=new rQ(`${sj.name}: Unavailable. Network unreachable. Message: ${t.message}`);throw sY.getToken.info(r3(e,n)),n}if("EHOSTUNREACH"===t.code){let n=new rQ(`${sj.name}: Unavailable. No managed identity endpoint found. Message: ${t.message}`);throw sY.getToken.info(r3(e,n)),n}if(400===t.statusCode)throw new rQ(`${sj.name}: The managed identity endpoint is indicating there's no available identity. Message: ${t.message}`);if((403===t.statusCode||403===t.code)&&t.message.includes("A socket operation was attempted to an unreachable network")){let n=new rQ(`${sj.name}: Unavailable. Network unreachable. Message: ${t.message}`);throw sY.getToken.info(r3(e,n)),n}if(void 0===t.statusCode)throw new rQ(`${sj.name}: Authentication failed. Message ${t.message}`);throw new rJ(t.statusCode,{error:`${sj.name} authentication failed.`,error_description:t.message})}finally{r.end()}}handleResult(e,t,n){return this.ensureValidMsalToken(e,t,n),sY.getToken.info(r6(e)),{token:t.accessToken,expiresOnTimestamp:t.expiresOn.getTime()}}ensureValidMsalToken(e,t,n){let r=t=>(sY.getToken.info(t),new r4({scopes:Array.isArray(e)?e:[e],getTokenOptions:n,message:t}));if(!t)throw r("No response");if(!t.expiresOn)throw r('Response had no "expiresOn" property.');if(!t.accessToken)throw r('Response had no "accessToken" property.')}initializeSetAppTokenProvider(){this.isAppTokenProviderInitialized||(this.confidentialApp.SetAppTokenProvider(async e=>{sY.info(`SetAppTokenProvider invoked with parameters- ${JSON.stringify(e)}`);let t=Object.assign({},e);sY.info(`authenticateManagedIdentity invoked with scopes- ${JSON.stringify(e.scopes)} and getTokenOptions - ${JSON.stringify(t)}`);let n=await this.authenticateManagedIdentity(e.scopes,t);if(!n)return sY.info('SetAppTokenProvider token has "no_access_token_returned" as the saved token'),{accessToken:"no_access_token_returned",expiresInSeconds:0};{sY.info("SetAppTokenProvider will save the token in cache");let e=(null==n?void 0:n.expiresOnTimestamp)?Math.floor((n.expiresOnTimestamp-Date.now())/1e3):0;return{accessToken:null==n?void 0:n.token,expiresInSeconds:e}}}),this.isAppTokenProviderInitialized=!0)}}function sH(e){return Array.isArray(e)?e:[e]}function sV(e,t){if(!e.match(/^[0-9a-zA-Z-_.:/]+$/)){let n=Error("Invalid scope was specified by the user or calling client");throw t.getToken.info(r3(e,n)),n}}function s$(e){return e.replace(/\/.default$/,"")}var sz=n(61282),sW=n.n(sz);let sG={getSafeWorkingDir(){if("win32"!==process.platform)return"/bin";if(!process.env.SystemRoot)throw Error("Azure CLI credential expects a 'SystemRoot' environment variable");return process.env.SystemRoot},async getAzureCliAccessToken(e,t,n){let r=[];return t&&(r=["--tenant",t]),new Promise((t,i)=>{try{sW().execFile("az",["account","get-access-token","--output","json","--resource",e,...r],{cwd:sG.getSafeWorkingDir(),shell:!0,timeout:n},(e,n,r)=>{t({stdout:n,stderr:r,error:e})})}catch(e){i(e)}})}},sK=r7("AzureCliCredential");class sZ{constructor(e){(null==e?void 0:e.tenantId)&&(ik(sK,null==e?void 0:e.tenantId),this.tenantId=null==e?void 0:e.tenantId),this.additionallyAllowedTenantIds=iM(null==e?void 0:e.additionallyAllowedTenants),this.timeout=null==e?void 0:e.processTimeoutInMs}async getToken(e,t={}){let n=iL(this.tenantId,t,this.additionallyAllowedTenantIds);n&&ik(sK,n);let r="string"==typeof e?e:e[0];return sK.getToken.info(`Using the scope ${r}`),o4.withSpan(`${this.constructor.name}.getToken`,t,async()=>{var t,i,o,s;try{sV(r,sK);let a=s$(r),l=await sG.getAzureCliAccessToken(a,n,this.timeout),c=null===(t=l.stderr)||void 0===t?void 0:t.match("(.*)az login --scope(.*)"),u=(null===(i=l.stderr)||void 0===i?void 0:i.match("(.*)az login(.*)"))&&!c;if((null===(o=l.stderr)||void 0===o?void 0:o.match("az:(.*)not found"))||(null===(s=l.stderr)||void 0===s?void 0:s.startsWith("'az' is not recognized"))){let t=new rQ("Azure CLI could not be found. Please visit https://aka.ms/azure-cli for installation instructions and then, once installed, authenticate to your Azure account using 'az login'.");throw sK.getToken.info(r3(e,t)),t}if(u){let t=new rQ("Please run 'az login' from a command prompt to authenticate before using this credential.");throw sK.getToken.info(r3(e,t)),t}try{let t=l.stdout,n=JSON.parse(t);return sK.getToken.info(r6(e)),{token:n.accessToken,expiresOnTimestamp:new Date(n.expiresOn).getTime()}}catch(e){if(l.stderr)throw new rQ(l.stderr);throw e}}catch(n){let t="CredentialUnavailableError"===n.name?n:new rQ(n.message||"Unknown error while trying to retrieve the access token");throw sK.getToken.info(r3(e,t)),t}})}}let sQ={execFile:(e,t,n)=>new Promise((r,i)=>{sz.execFile(e,t,n,(e,t,n)=>{Buffer.isBuffer(t)&&(t=t.toString("utf8")),Buffer.isBuffer(n)&&(n=n.toString("utf8")),n||e?i(n?Error(n):e):r(t)})})},sX=r7("AzurePowerShellCredential"),sJ="win32"===process.platform;function s0(e){return sJ?`${e}.exe`:e}async function s1(e,t){let n=[];for(let r of e){let[e,...i]=r,o=await sQ.execFile(e,i,{encoding:"utf8",timeout:t});n.push(o)}return n}let s2={login:"Run Connect-AzAccount to login",installed:"The specified module 'Az.Accounts' with version '2.2.0' was not loaded because no valid module file was found in any module directory"},s4={login:"Please run 'Connect-AzAccount' from PowerShell to authenticate before using this credential.",installed:"The 'Az.Account' module >= 2.2.0 is not installed. Install the Azure Az PowerShell module with: \"Install-Module -Name Az -Scope CurrentUser -Repository PSGallery -Force\".",troubleshoot:"To troubleshoot, visit https://aka.ms/azsdk/js/identity/powershellcredential/troubleshoot."},s8=e=>e.message.match(`(.*)${s2.login}(.*)`),s5=e=>e.message.match(s2.installed),s6=[s0("pwsh")];sJ&&s6.push(s0("powershell"));class s3{constructor(e){(null==e?void 0:e.tenantId)&&(ik(sX,null==e?void 0:e.tenantId),this.tenantId=null==e?void 0:e.tenantId),this.additionallyAllowedTenantIds=iM(null==e?void 0:e.additionallyAllowedTenants),this.timeout=null==e?void 0:e.processTimeoutInMs}async getAzurePowerShellAccessToken(e,t,n){for(let r of[...s6]){try{await s1([[r,"/?"]],n)}catch(e){s6.shift();continue}let i="";t&&(i=`-TenantId "${t}"`);let o=(await s1([[r,"-NoProfile","-NonInteractive","-Command","Import-Module Az.Accounts -MinimumVersion 2.2.0 -PassThru"],[r,"-NoProfile","-NonInteractive","-Command",`Get-AzAccessToken ${i} -ResourceUrl "${e}" | ConvertTo-Json`]]))[1];try{return JSON.parse(o)}catch(e){throw Error(`Unable to parse the output of PowerShell. Received output: ${o}`)}}throw Error("Unable to execute PowerShell. Ensure that it is installed in your system")}async getToken(e,t={}){return o4.withSpan(`${this.constructor.name}.getToken`,t,async()=>{let n=iL(this.tenantId,t,this.additionallyAllowedTenantIds),r="string"==typeof e?e:e[0];n&&ik(sX,n);try{sV(r,sX),sX.getToken.info(`Using the scope ${r}`);let t=s$(r),i=await this.getAzurePowerShellAccessToken(t,n,this.timeout);return sX.getToken.info(r6(e)),{token:i.Token,expiresOnTimestamp:new Date(i.ExpiresOn).getTime()}}catch(t){if(s5(t)){let e=new rQ(s4.installed);throw sX.getToken.info(r3(r,e)),e}if(s8(t)){let e=new rQ(s4.login);throw sX.getToken.info(r3(r,e)),e}let e=new rQ(`${t}. ${s4.troubleshoot}`);throw sX.getToken.info(r3(r,e)),e}})}}let s9=r7("ChainedTokenCredential");class s7{constructor(...e){this._sources=[],this._sources=e}async getToken(e,t={}){let{token:n}=await this.getTokenInternal(e,t);return n}async getTokenInternal(e,t={}){let n,r=null,i=[];return o4.withSpan("ChainedTokenCredential.getToken",t,async t=>{for(let o=0;o<this._sources.length&&null===r;o++)try{r=await this._sources[o].getToken(e,t),n=this._sources[o]}catch(t){if("CredentialUnavailableError"===t.name||"AuthenticationRequiredError"===t.name)i.push(t);else throw s9.getToken.info(r3(e,t)),t}if(!r&&i.length>0){let t=new r1(i,"ChainedTokenCredential authentication failed.");throw s9.getToken.info(r3(e,t)),t}if(s9.getToken.info(`Result for ${n.constructor.name}: ${r6(e)}`),null===r)throw new rQ("Failed to retrieve a valid token");return{token:r,successfulCredential:n}})}}let ae=(0,n(21764).promisify)(rb.readFile);async function at(e,t){let n;let r={},i=e.certificate,o=e.certificatePath;r.certificateContents=i||await ae(o,"utf8"),t&&(r.x5c=r.certificateContents);let s=/(-+BEGIN CERTIFICATE-+)(\n\r?|\r\n?)([A-Za-z0-9+/\n\r]+=*)(\n\r?|\r\n?)(-+END CERTIFICATE-+)/g,a=[];do(n=s.exec(r.certificateContents))&&a.push(n[3]);while(n);if(0===a.length)throw Error("The file at the specified path does not contain a PEM-encoded certificate.");return r.thumbprint=(0,n1.createHash)("sha1").update(Buffer.from(a[0],"base64")).digest("hex").toUpperCase(),r}class an extends o7{constructor(e){super(e),this.requiresConfidential=!0,this.configuration=e.configuration,this.sendCertificateChain=e.sendCertificateChain}async init(e){try{let e;let t=await at(this.configuration,this.sendCertificateChain);e=void 0!==this.configuration.certificatePassword?(0,n1.createPrivateKey)({key:t.certificateContents,passphrase:this.configuration.certificatePassword,format:"pem"}).export({format:"pem",type:"pkcs8"}).toString():t.certificateContents,this.msalConfig.auth.clientCertificate={thumbprint:t.thumbprint,privateKey:e,x5c:t.x5c}}catch(e){throw this.logger.info(r3("",e)),e}return super.init(e)}async doGetToken(e,t={}){try{let n={scopes:e,correlationId:t.correlationId,azureRegion:this.azureRegion,authority:t.authority,claims:t.claims},r=await this.getApp("confidential",t.enableCae).acquireTokenByClientCredential(n);return this.handleResult(e,this.clientId,r||void 0)}catch(n){throw this.handleError(e,n,t)}}}let ar="ClientCertificateCredential",ai=r7(ar);class ao{constructor(e,t,n,r={}){if(!e||!t)throw Error(`${ar}: tenantId and clientId are required parameters.`);this.tenantId=e,this.additionallyAllowedTenantIds=iM(null==r?void 0:r.additionallyAllowedTenants);let i=Object.assign({},"string"==typeof n?{certificatePath:n}:n),o=i.certificate,s=i.certificatePath;if(!i||!(o||s))throw Error(`${ar}: Provide either a PEM certificate in string form, or the path to that certificate in the filesystem. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);if(o&&s)throw Error(`${ar}: To avoid unexpected behaviors, providing both the contents of a PEM certificate and the path to a PEM certificate is forbidden. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);this.msalFlow=new an(Object.assign(Object.assign({},r),{configuration:i,logger:ai,clientId:t,tenantId:e,sendCertificateChain:r.sendCertificateChain,tokenCredentialOptions:r}))}async getToken(e,t={}){return o4.withSpan(`${ar}.getToken`,t,async t=>{t.tenantId=iL(this.tenantId,t,this.additionallyAllowedTenantIds,ai);let n=Array.isArray(e)?e:[e];return this.msalFlow.getToken(n,t)})}}class as extends o7{constructor(e){super(e),this.requiresConfidential=!0,this.msalConfig.auth.clientSecret=e.clientSecret}async doGetToken(e,t={}){try{let n=await this.getApp("confidential",t.enableCae).acquireTokenByClientCredential({scopes:e,correlationId:t.correlationId,azureRegion:this.azureRegion,authority:t.authority,claims:t.claims});return this.handleResult(e,this.clientId,n||void 0)}catch(n){throw this.handleError(e,n,t)}}}let aa=r7("ClientSecretCredential");class al{constructor(e,t,n,r={}){if(!e||!t||!n)throw Error("ClientSecretCredential: tenantId, clientId, and clientSecret are required parameters. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.");this.tenantId=e,this.additionallyAllowedTenantIds=iM(null==r?void 0:r.additionallyAllowedTenants),this.msalFlow=new as(Object.assign(Object.assign({},r),{logger:aa,clientId:t,tenantId:e,clientSecret:n,tokenCredentialOptions:r}))}async getToken(e,t={}){return o4.withSpan(`${this.constructor.name}.getToken`,t,async t=>{t.tenantId=iL(this.tenantId,t,this.additionallyAllowedTenantIds,aa);let n=sH(e);return this.msalFlow.getToken(n,t)})}}class ac extends o7{constructor(e){super(e),this.username=e.username,this.password=e.password}async doGetToken(e,t){try{let n={scopes:e,username:this.username,password:this.password,correlationId:null==t?void 0:t.correlationId,authority:null==t?void 0:t.authority,claims:null==t?void 0:t.claims},r=await this.getApp("public",null==t?void 0:t.enableCae).acquireTokenByUsernamePassword(n);return this.handleResult(e,this.clientId,r||void 0)}catch(n){throw this.handleError(e,n,t)}}}let au=r7("UsernamePasswordCredential");class ah{constructor(e,t,n,r,i={}){if(!e||!t||!n||!r)throw Error("UsernamePasswordCredential: tenantId, clientId, username and password are required parameters. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");this.tenantId=e,this.additionallyAllowedTenantIds=iM(null==i?void 0:i.additionallyAllowedTenants),this.msalFlow=new ac(Object.assign(Object.assign({},i),{logger:au,clientId:t,tenantId:e,username:n,password:r,tokenCredentialOptions:i||{}}))}async getToken(e,t={}){return o4.withSpan(`${this.constructor.name}.getToken`,t,async t=>{t.tenantId=iL(this.tenantId,t,this.additionallyAllowedTenantIds,au);let n=sH(e);return this.msalFlow.getToken(n,t)})}}let ad=["AZURE_TENANT_ID","AZURE_CLIENT_ID","AZURE_CLIENT_SECRET","AZURE_CLIENT_CERTIFICATE_PATH","AZURE_CLIENT_CERTIFICATE_PASSWORD","AZURE_USERNAME","AZURE_PASSWORD","AZURE_ADDITIONALLY_ALLOWED_TENANTS"],af="EnvironmentCredential",ap=r7(af);class am{constructor(e){this._credential=void 0;let t=r5(ad).assigned.join(", ");ap.info(`Found the following environment variables: ${t}`);let n=process.env.AZURE_TENANT_ID,r=process.env.AZURE_CLIENT_ID,i=process.env.AZURE_CLIENT_SECRET,o=function(){var e;return(null!==(e=process.env.AZURE_ADDITIONALLY_ALLOWED_TENANTS)&&void 0!==e?e:"").split(";")}(),s=Object.assign(Object.assign({},e),{additionallyAllowedTenantIds:o});if(n&&ik(ap,n),n&&r&&i){ap.info(`Invoking ClientSecretCredential with tenant ID: ${n}, clientId: ${r} and clientSecret: [REDACTED]`),this._credential=new al(n,r,i,s);return}let a=process.env.AZURE_CLIENT_CERTIFICATE_PATH,l=process.env.AZURE_CLIENT_CERTIFICATE_PASSWORD;if(n&&r&&a){ap.info(`Invoking ClientCertificateCredential with tenant ID: ${n}, clientId: ${r} and certificatePath: ${a}`),this._credential=new ao(n,r,{certificatePath:a,certificatePassword:l},s);return}let c=process.env.AZURE_USERNAME,u=process.env.AZURE_PASSWORD;n&&r&&c&&u&&(ap.info(`Invoking UsernamePasswordCredential with tenant ID: ${n}, clientId: ${r} and username: ${c}`),this._credential=new ah(n,r,c,u,s))}async getToken(e,t={}){return o4.withSpan(`${af}.getToken`,t,async t=>{if(this._credential)try{let n=await this._credential.getToken(e,t);return ap.getToken.info(r6(e)),n}catch(n){let t=new rJ(400,{error:`${af} authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`,error_description:n.message.toString().split("More details:").join("")});throw ap.getToken.info(r3(e,t)),t}throw new rQ(`${af} is unavailable. No underlying credential could be used. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`)})}}let ag={getSafeWorkingDir(){if("win32"!==process.platform)return"/bin";if(!process.env.SystemRoot)throw Error("Azure Developer CLI credential expects a 'SystemRoot' environment variable");return process.env.SystemRoot},async getAzdAccessToken(e,t,n){let r=[];return t&&(r=["--tenant-id",t]),new Promise((t,i)=>{try{sW().execFile("azd",["auth","token","--output","json",...e.reduce((e,t)=>e.concat("--scope",t),[]),...r],{cwd:ag.getSafeWorkingDir(),timeout:n},(e,n,r)=>{t({stdout:n,stderr:r,error:e})})}catch(e){i(e)}})}},ay=r7("AzureDeveloperCliCredential");class a_{constructor(e){(null==e?void 0:e.tenantId)&&(ik(ay,null==e?void 0:e.tenantId),this.tenantId=null==e?void 0:e.tenantId),this.additionallyAllowedTenantIds=iM(null==e?void 0:e.additionallyAllowedTenants),this.timeout=null==e?void 0:e.processTimeoutInMs}async getToken(e,t={}){let n;let r=iL(this.tenantId,t,this.additionallyAllowedTenantIds);return r&&ik(ay,r),n="string"==typeof e?[e]:e,ay.getToken.info(`Using the scopes ${e}`),o4.withSpan(`${this.constructor.name}.getToken`,t,async()=>{var t,i,o,s;try{n.forEach(e=>{sV(e,ay)});let a=await ag.getAzdAccessToken(n,r,this.timeout),l=(null===(t=a.stderr)||void 0===t?void 0:t.match("not logged in, run `azd login` to login"))||(null===(i=a.stderr)||void 0===i?void 0:i.match("not logged in, run `azd auth login` to login"));if((null===(o=a.stderr)||void 0===o?void 0:o.match("azd:(.*)not found"))||(null===(s=a.stderr)||void 0===s?void 0:s.startsWith("'azd' is not recognized"))||a.error&&"ENOENT"===a.error.code){let t=new rQ("Azure Developer CLI couldn't be found. To mitigate this issue, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot.");throw ay.getToken.info(r3(e,t)),t}if(l){let t=new rQ("Please run 'azd auth login' from a command prompt to authenticate before using this credential. For more information, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot.");throw ay.getToken.info(r3(e,t)),t}try{let t=JSON.parse(a.stdout);return ay.getToken.info(r6(e)),{token:t.token,expiresOnTimestamp:new Date(t.expiresOn).getTime()}}catch(e){if(a.stderr)throw new rQ(a.stderr);throw e}}catch(n){let t="CredentialUnavailableError"===n.name?n:new rQ(n.message||"Unknown error while trying to retrieve the access token");throw ay.getToken.info(r3(e,t)),t}})}}class aE extends sj{constructor(e){var t,n,r;let i=null!==(t=null==e?void 0:e.managedIdentityClientId)&&void 0!==t?t:process.env.AZURE_CLIENT_ID,o=null!==(n=null==e?void 0:e.workloadIdentityClientId)&&void 0!==n?n:i,s=null==e?void 0:e.managedIdentityResourceId,a=process.env.AZURE_FEDERATED_TOKEN_FILE,l=null!==(r=null==e?void 0:e.tenantId)&&void 0!==r?r:process.env.AZURE_TENANT_ID;s?super(Object.assign(Object.assign({},e),{resourceId:s})):a&&o?super(o,Object.assign(Object.assign({},e),{tenantId:l})):i?super(Object.assign(Object.assign({},e),{clientId:i})):super(e)}}class aT extends sk{constructor(e){var t,n,r;let i=null!==(t=null==e?void 0:e.managedIdentityClientId)&&void 0!==t?t:process.env.AZURE_CLIENT_ID,o=null!==(n=null==e?void 0:e.workloadIdentityClientId)&&void 0!==n?n:i,s=process.env.AZURE_FEDERATED_TOKEN_FILE,a=null!==(r=null==e?void 0:e.tenantId)&&void 0!==r?r:process.env.AZURE_TENANT_ID;s&&o?super(Object.assign(Object.assign({},e),{tenantId:a,clientId:o,tokenFilePath:s})):a?super(Object.assign(Object.assign({},e),{tenantId:a})):super(e)}}class aw extends a_{constructor(e){super(Object.assign({processTimeoutInMs:null==e?void 0:e.processTimeoutInMs},e))}}class ab extends sZ{constructor(e){super(Object.assign({processTimeoutInMs:null==e?void 0:e.processTimeoutInMs},e))}}class av extends s3{constructor(e){super(Object.assign({processTimeoutInMs:null==e?void 0:e.processTimeoutInMs},e))}}let aS=[am,aT,aE,ab,av,aw];class aA extends s7{constructor(e){super(...aS.map(t=>new t(e)))}}var aI=n(21437),aC=n.n(aI),aO=n(49880),aN=n.n(aO);let aR={open:aC()};class aD extends o7{constructor(e){super(e),this.logger=r7("Node.js MSAL Open Browser"),this.redirectUri=e.redirectUri,this.loginHint=e.loginHint;let t=new URL(this.redirectUri);this.port=parseInt(t.port),isNaN(this.port)&&(this.port=80),this.hostname=t.hostname}async acquireTokenByCode(e,t){return this.getApp("public",t).acquireTokenByCode(e)}doGetToken(e,t){return new Promise((n,r)=>{let i=[],o=nx().createServer((i,o)=>{var s;let a;if(!i.url){r(Error('Interactive Browser Authentication Error "Did not receive token with a valid expiration"'));return}try{a=new URL(i.url,this.redirectUri)}catch(e){r(Error('Interactive Browser Authentication Error "Did not receive token with a valid expiration"'));return}let c={code:a.searchParams.get("code"),redirectUri:this.redirectUri,scopes:e,authority:null==t?void 0:t.authority,codeVerifier:null===(s=this.pkceCodes)||void 0===s?void 0:s.verifier};this.acquireTokenByCode(c,null==t?void 0:t.enableCae).then(t=>{if((null==t?void 0:t.account)&&(this.account=iN(this.clientId,t.account)),t&&t.expiresOn){let r=null==t?void 0:t.expiresOn.valueOf();o.writeHead(200),o.end("Authentication Complete. You can close the browser and return to the application."),this.logger.getToken.info(r6(e)),n({expiresOnTimestamp:r,token:t.accessToken})}else{let t=r3(e,`${a.searchParams.get("error")}. ${a.searchParams.get("error_description")}`);o.writeHead(500),o.end(t),this.logger.getToken.info(t),r(Error('Interactive Browser Authentication Error "Did not receive token with a valid expiration"'))}l()}).catch(()=>{let t=r3(e,`${a.searchParams.get("error")}. ${a.searchParams.get("error_description")}`);o.writeHead(500),o.end(t),this.logger.getToken.info(t),r(Error('Interactive Browser Authentication Error "Did not receive token with a valid expiration"')),l()})}),s=aN()(o),a=o.listen(this.port,this.hostname,()=>this.logger.info(`InteractiveBrowserCredential listening on port ${this.port}!`));function l(){for(let e of(a&&a.close(),i))e.destroy();s&&(s.close(),s.stop())}o.on("connection",e=>i.push(e)),o.on("error",e=>{l();let t=e.code;"EACCES"===t||"EADDRINUSE"===t?r(new rQ(`InteractiveBrowserCredential: Access denied to port ${this.port}. Try sending a redirect URI with a different port, as follows: \`new InteractiveBrowserCredential({ redirectUri: "http://localhost:1337" })\``)):r(new rQ(`InteractiveBrowserCredential: Failed to start the necessary web server. Error: ${e.message}`))}),o.on("listening",()=>{let n=this.openAuthCodeUrl(e,t),i=null==t?void 0:t.abortSignal;i&&i.addEventListener("abort",()=>{l(),r(Error("Aborted"))}),n.catch(e=>{l(),r(e)})})})}async openAuthCodeUrl(e,t){let n=new rr;this.pkceCodes=await n.generatePkceCodes();let r={scopes:e,correlationId:null==t?void 0:t.correlationId,redirectUri:this.redirectUri,authority:null==t?void 0:t.authority,claims:null==t?void 0:t.claims,loginHint:this.loginHint,codeChallenge:this.pkceCodes.challenge,codeChallengeMethod:"S256"},i=await this.getApp("public",null==t?void 0:t.enableCae).getAuthCodeUrl(r);try{await aR.open(i,{wait:!0,newInstance:!0})}catch(e){throw new rQ(`InteractiveBrowserCredential: Could not open a browser window. Error: ${e.message}`)}}}let ak=r7("InteractiveBrowserCredential");class aP{constructor(e={}){let t="function"==typeof e.redirectUri?e.redirectUri():e.redirectUri||"http://localhost";this.tenantId=null==e?void 0:e.tenantId,this.additionallyAllowedTenantIds=iM(null==e?void 0:e.additionallyAllowedTenants),this.msalFlow=new aD(Object.assign(Object.assign({},e),{tokenCredentialOptions:e,logger:ak,redirectUri:t})),this.disableAutomaticAuthentication=null==e?void 0:e.disableAutomaticAuthentication}async getToken(e,t={}){return o4.withSpan(`${this.constructor.name}.getToken`,t,async t=>{t.tenantId=iL(this.tenantId,t,this.additionallyAllowedTenantIds,ak);let n=sH(e);return this.msalFlow.getToken(n,Object.assign(Object.assign({},t),{disableAutomaticAuthentication:this.disableAutomaticAuthentication}))})}async authenticate(e,t={}){return o4.withSpan(`${this.constructor.name}.authenticate`,t,async t=>{let n=sH(e);return await this.msalFlow.getToken(n,t),this.msalFlow.getActiveAccount()})}}class aM extends o7{constructor(e){super(e),this.userPromptCallback=e.userPromptCallback}async doGetToken(e,t){try{let n={deviceCodeCallback:this.userPromptCallback,scopes:e,cancel:!1,correlationId:null==t?void 0:t.correlationId,authority:null==t?void 0:t.authority,claims:null==t?void 0:t.claims},r=this.getApp("public",null==t?void 0:t.enableCae).acquireTokenByDeviceCode(n),i=await this.withCancellation(r,null==t?void 0:t.abortSignal,()=>{n.cancel=!0});return this.handleResult(e,this.clientId,i||void 0)}catch(n){throw this.handleError(e,n,t)}}}let aL=r7("DeviceCodeCredential");function aU(e){console.log(e.message)}class ax{constructor(e){this.tenantId=null==e?void 0:e.tenantId,this.additionallyAllowedTenantIds=iM(null==e?void 0:e.additionallyAllowedTenants),this.msalFlow=new aM(Object.assign(Object.assign({},e),{logger:aL,userPromptCallback:(null==e?void 0:e.userPromptCallback)||aU,tokenCredentialOptions:e||{}})),this.disableAutomaticAuthentication=null==e?void 0:e.disableAutomaticAuthentication}async getToken(e,t={}){return o4.withSpan(`${this.constructor.name}.getToken`,t,async t=>{t.tenantId=iL(this.tenantId,t,this.additionallyAllowedTenantIds,aL);let n=sH(e);return this.msalFlow.getToken(n,Object.assign(Object.assign({},t),{disableAutomaticAuthentication:this.disableAutomaticAuthentication}))})}async authenticate(e,t={}){return o4.withSpan(`${this.constructor.name}.authenticate`,t,async t=>{let n=Array.isArray(e)?e:[e];return await this.msalFlow.getToken(n,t),this.msalFlow.getActiveAccount()})}}class aF extends o7{constructor(e){super(e),this.logger=r7("Node.js MSAL Authorization Code"),this.redirectUri=e.redirectUri,this.authorizationCode=e.authorizationCode,e.clientSecret&&(this.msalConfig.auth.clientSecret=e.clientSecret)}async getAuthCodeUrl(e){return await this.init(),this.getApp("confidentialFirst",e.enableCae).getAuthCodeUrl({scopes:e.scopes,redirectUri:e.redirectUri})}async doGetToken(e,t){try{let n=await this.getApp("confidentialFirst",null==t?void 0:t.enableCae).acquireTokenByCode({scopes:e,redirectUri:this.redirectUri,code:this.authorizationCode,correlationId:null==t?void 0:t.correlationId,authority:null==t?void 0:t.authority,claims:null==t?void 0:t.claims});return this.handleResult(e,this.clientId,n||void 0)}catch(n){throw this.handleError(e,n,t)}}}let aB=r7("AuthorizationCodeCredential");class aq{constructor(e,t,n,r,i,o){ik(aB,e);let s=n;"string"==typeof i?(this.authorizationCode=r,this.redirectUri=i):(this.authorizationCode=n,this.redirectUri=r,s=void 0,o=i),this.tenantId=e,this.additionallyAllowedTenantIds=iM(null==o?void 0:o.additionallyAllowedTenants),this.msalFlow=new aF(Object.assign(Object.assign({},o),{clientSecret:s,clientId:t,tenantId:e,tokenCredentialOptions:o||{},logger:aB,redirectUri:this.redirectUri,authorizationCode:this.authorizationCode}))}async getToken(e,t={}){return o4.withSpan(`${this.constructor.name}.getToken`,t,async t=>{let n=iL(this.tenantId,t,this.additionallyAllowedTenantIds);t.tenantId=n;let r=sH(e);return this.msalFlow.getToken(r,Object.assign(Object.assign({},t),{disableAutomaticAuthentication:this.disableAutomaticAuthentication}))})}}class aY extends o7{constructor(e){super(e),this.logger.info("Initialized MSAL's On-Behalf-Of flow"),this.requiresConfidential=!0,this.userAssertionToken=e.userAssertionToken,this.certificatePath=e.certificatePath,this.sendCertificateChain=e.sendCertificateChain,this.clientSecret=e.clientSecret}async init(e){if(this.certificatePath)try{let e=await at({certificatePath:this.certificatePath},this.sendCertificateChain);this.msalConfig.auth.clientCertificate={thumbprint:e.thumbprint,privateKey:e.certificateContents,x5c:e.x5c}}catch(e){throw this.logger.info(r3("",e)),e}else this.msalConfig.auth.clientSecret=this.clientSecret;return super.init(e)}async doGetToken(e,t={}){try{let n=await this.getApp("confidential",t.enableCae).acquireTokenOnBehalfOf({scopes:e,correlationId:t.correlationId,authority:t.authority,claims:t.claims,oboAssertion:this.userAssertionToken});return this.handleResult(e,this.clientId,n||void 0)}catch(n){throw this.handleError(e,n,t)}}}let aj="OnBehalfOfCredential",aH=r7(aj);class aV{constructor(e){this.options=e;let{clientSecret:t}=e,{certificatePath:n}=e,{tenantId:r,clientId:i,userAssertionToken:o,additionallyAllowedTenants:s}=e;if(!r||!i||!(t||n)||!o)throw Error(`${aj}: tenantId, clientId, clientSecret (or certificatePath) and userAssertionToken are required parameters.`);this.tenantId=r,this.additionallyAllowedTenantIds=iM(s),this.msalFlow=new aY(Object.assign(Object.assign({},this.options),{logger:aH,tokenCredentialOptions:this.options}))}async getToken(e,t={}){return o4.withSpan(`${aj}.getToken`,t,async t=>{t.tenantId=iL(this.tenantId,t,this.additionallyAllowedTenantIds,aH);let n=sH(e);return this.msalFlow.getToken(n,t)})}}function a$(){return new aA}},3842:(e,t,n)=>{"use strict";function r(e,t,n){function r(e){Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,t&&t.apply(this,arguments),this.toString=function(){return this.name+": "+this.message}}return void 0===n&&(n=Error),r.prototype=Object.create(n.prototype),r.prototype.name=e,r.prototype.constructor=r,r}n.r(t),n.d(t,{ArithmeticException:()=>d,ChronoField:()=>P,ChronoLocalDate:()=>z,ChronoLocalDateTime:()=>e4,ChronoUnit:()=>R,ChronoZonedDateTime:()=>eJ,Clock:()=>e3,DateTimeException:()=>c,DateTimeFormatter:()=>ej,DateTimeFormatterBuilder:()=>eF,DateTimeParseException:()=>u,DayOfWeek:()=>F,DecimalStyle:()=>e_,Duration:()=>O,IllegalArgumentException:()=>f,IllegalStateException:()=>p,Instant:()=>e6,IsoChronology:()=>eQ,IsoFields:()=>ei,LocalDate:()=>e2,LocalDateTime:()=>e8,LocalTime:()=>e5,Month:()=>B,MonthDay:()=>eH,NullPointerException:()=>m,OffsetDateTime:()=>e1,OffsetTime:()=>eX,ParsePosition:()=>j,Period:()=>Y,ResolverStyle:()=>V,SignStyle:()=>eE,Temporal:()=>$,TemporalAccessor:()=>L,TemporalAdjuster:()=>ez,TemporalAdjusters:()=>eW,TemporalAmount:()=>I,TemporalField:()=>D,TemporalQueries:()=>M,TemporalQuery:()=>U,TemporalUnit:()=>C,TextStyle:()=>eT,UnsupportedTemporalTypeException:()=>h,ValueRange:()=>k,Year:()=>e$,YearConstants:()=>N,YearMonth:()=>eV,ZoneId:()=>G,ZoneOffset:()=>J,ZoneOffsetTransition:()=>tt,ZoneRegion:()=>eP,ZoneRules:()=>K,ZoneRulesProvider:()=>ek,ZonedDateTime:()=>e0,_:()=>tu,convert:()=>tl,nativeJs:()=>tc,use:()=>td});var i,o,s,a,l,c=r("DateTimeException",function(e,t){void 0===t&&(t=null);var n=e||this.name;null!==t&&t instanceof Error&&(n+="\n-------\nCaused by: "+t.stack+"\n-------\n"),this.message=n}),u=r("DateTimeParseException",function(e,t,n,r){void 0===t&&(t=""),void 0===n&&(n=0),void 0===r&&(r=null);var i=e||this.name;i+=": "+t+", at index: "+n,null!==r&&r instanceof Error&&(i+="\n-------\nCaused by: "+r.stack+"\n-------\n"),this.message=i,this.parsedString=function(){return t},this.errorIndex=function(){return n}}),h=r("UnsupportedTemporalTypeException",null,c),d=r("ArithmeticException"),f=r("IllegalArgumentException"),p=r("IllegalStateException"),m=r("NullPointerException");function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,y(e,t)}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t,n){if(!e){if(n)throw new n(t);throw Error(t)}}function T(e,t){if(null==e)throw new m(t+" must not be null");return e}function w(e,t,n){if(!(e instanceof t))throw new f(n+" must be an instance of "+(t.name?t.name:t)+(e&&e.constructor&&e.constructor.name?", but is "+e.constructor.name:""));return e}function b(e){throw TypeError('abstract method "'+e+'" is not implemented')}var v=Object.freeze({__proto__:null,abstractMethodFail:b,assert:E,requireInstance:w,requireNonNull:T}),S=function(){function e(){}return e.intDiv=function(t,n){var r=t/n;return r=e.roundDown(r),e.safeZero(r)},e.intMod=function(t,n){var r=t-e.intDiv(t,n)*n;return r=e.roundDown(r),e.safeZero(r)},e.roundDown=function(e){return e<0?Math.ceil(e):Math.floor(e)},e.floorDiv=function(t,n){return e.safeZero(Math.floor(t/n))},e.floorMod=function(t,n){var r=t-e.floorDiv(t,n)*n;return e.safeZero(r)},e.safeAdd=function(t,n){if(e.verifyInt(t),e.verifyInt(n),0===t)return e.safeZero(n);if(0===n)return e.safeZero(t);var r=e.safeToInt(t+n);if(r===t||r===n)throw new d("Invalid addition beyond MAX_SAFE_INTEGER!");return r},e.safeSubtract=function(t,n){return(e.verifyInt(t),e.verifyInt(n),0===t&&0===n)?0:0===t?e.safeZero(-1*n):0===n?e.safeZero(t):e.safeToInt(t-n)},e.safeMultiply=function(t,n){if(e.verifyInt(t),e.verifyInt(n),1===t)return e.safeZero(n);if(1===n)return e.safeZero(t);if(0===t||0===n)return 0;var r=e.safeToInt(t*n);if(r/n!==t||-9007199254740991===t&&-1===n||-9007199254740991===n&&-1===t)throw new d("Multiplication overflows: "+t+" * "+n);return r},e.parseInt=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){var n=parseInt(t);return e.safeToInt(n)}),e.safeToInt=function(t){return e.verifyInt(t),e.safeZero(t)},e.verifyInt=function(e){if(null==e)throw new d("Invalid value: '"+e+"', using null or undefined as argument");if(isNaN(e))throw new d("Invalid int value, using NaN as argument");if(Number.isInteger){if(!Number.isInteger(Number(e)))throw new d("Invalid value: '"+e+"' is a float")}else if(e%1!=0)throw new d("Invalid value: '"+e+"' is a float");if(e>9007199254740991||e<-9007199254740991)throw new d("Calculation overflows an int: "+e)},e.safeZero=function(e){return 0===e?0:+e},e.compareNumbers=function(e,t){return e<t?-1:e>t?1:0},e.smi=function(e){return e>>>1&1073741824|3221225471&e},e.hash=function(t){if(t!=t||t===1/0)return 0;for(var n=t;t>4294967295;)t/=4294967295,n^=t;return e.smi(n)},e.hashCode=function(){for(var t=17,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var o=0;o<r.length;o++){var s=r[o];t=(t<<5)-t+e.hash(s)}return e.hash(t)},e}();S.MAX_SAFE_INTEGER=9007199254740991,S.MIN_SAFE_INTEGER=-9007199254740991;var A=function(){function e(e){this._name=e}var t=e.prototype;return t.equals=function(e){return this===e},t.toString=function(){return this._name},t.toJSON=function(){return this.toString()},e}(),I=function(){function e(){}var t=e.prototype;return t.get=function(e){b("get")},t.units=function(){b("units")},t.addTo=function(e){b("addTo")},t.subtractFrom=function(e){b("subtractFrom")},e}();"undefined"!=typeof Symbol&&Symbol.toPrimitive&&(I.prototype[Symbol.toPrimitive]=function(e){if("number"!==e)return this.toString();throw TypeError("A conversion from TemporalAmount to a number is not allowed. To compare use the methods .equals(), .compareTo(), .isBefore() or one that is more suitable to your use case.")});var C=function(){function e(){}var t=e.prototype;return t.duration=function(){b("duration")},t.isDurationEstimated=function(){b("isDurationEstimated")},t.isDateBased=function(){b("isDateBased")},t.isTimeBased=function(){b("isTimeBased")},t.isSupportedBy=function(e){b("isSupportedBy")},t.addTo=function(e,t){b("addTo")},t.between=function(e,t){b("between")},e}(),O=function(e){function t(t,n){var r;return(r=e.call(this)||this)._seconds=S.safeToInt(t),r._nanos=S.safeToInt(n),r}g(t,e),t.ofDays=function(e){return t._create(S.safeMultiply(e,e5.SECONDS_PER_DAY),0)},t.ofHours=function(e){return t._create(S.safeMultiply(e,e5.SECONDS_PER_HOUR),0)},t.ofMinutes=function(e){return t._create(S.safeMultiply(e,e5.SECONDS_PER_MINUTE),0)},t.ofSeconds=function(e,n){void 0===n&&(n=0);var r=S.safeAdd(e,S.floorDiv(n,e5.NANOS_PER_SECOND)),i=S.floorMod(n,e5.NANOS_PER_SECOND);return t._create(r,i)},t.ofMillis=function(e){var n=S.intDiv(e,1e3),r=S.intMod(e,1e3);return r<0&&(r+=1e3,n--),t._create(n,1e6*r)},t.ofNanos=function(e){var t=S.intDiv(e,e5.NANOS_PER_SECOND),n=S.intMod(e,e5.NANOS_PER_SECOND);return n<0&&(n+=e5.NANOS_PER_SECOND,t--),this._create(t,n)},t.of=function(e,n){return t.ZERO.plus(e,n)},t.from=function(e){T(e,"amount"),w(e,I);var n=t.ZERO;return e.units().forEach(function(t){n=n.plus(e.get(t),t)}),n},t.between=function(e,t){T(e,"startInclusive"),T(t,"endExclusive");var n=e.until(t,R.SECONDS),r=0;if(e.isSupported(P.NANO_OF_SECOND)&&t.isSupported(P.NANO_OF_SECOND))try{var i=e.getLong(P.NANO_OF_SECOND);if(r=t.getLong(P.NANO_OF_SECOND)-i,n>0&&r<0)r+=e5.NANOS_PER_SECOND;else if(n<0&&r>0)r-=e5.NANOS_PER_SECOND;else if(0===n&&0!==r){var o=t.with(P.NANO_OF_SECOND,i);n=e.until(o,R.SECONDS)}}catch(e){}return this.ofSeconds(n,r)},t.parse=function(e){T(e,"text");var n=RegExp("([-+]?)P(?:([-+]?[0-9]+)D)?(T(?:([-+]?[0-9]+)H)?(?:([-+]?[0-9]+)M)?(?:([-+]?[0-9]+)(?:[.,]([0-9]{0,9}))?S)?)?","i").exec(e);if(null!==n&&"T"===n[3]==!1){var r="-"===n[1],i=n[2],o=n[4],s=n[5],a=n[6],l=n[7];if(null!=i||null!=o||null!=s||null!=a){var c=t._parseNumber(e,i,e5.SECONDS_PER_DAY,"days"),h=t._parseNumber(e,o,e5.SECONDS_PER_HOUR,"hours"),d=t._parseNumber(e,s,e5.SECONDS_PER_MINUTE,"minutes"),f=t._parseNumber(e,a,1,"seconds"),p=null!=a&&"-"===a.charAt(0),m=t._parseFraction(e,l,p?-1:1);try{return t._create(r,c,h,d,f,m)}catch(t){throw new u("Text cannot be parsed to a Duration: overflow",e,0,t)}}}throw new u("Text cannot be parsed to a Duration",e,0)},t._parseNumber=function(e,t,n,r){if(null==t)return 0;try{return"+"===t[0]&&(t=t.substring(1)),S.safeMultiply(parseFloat(t),n)}catch(t){throw new u("Text cannot be parsed to a Duration: "+r,e,0,t)}},t._parseFraction=function(e,t,n){return null==t||0===t.length?0:parseFloat(t=(t+"000000000").substring(0,9))*n},t._create=function(){return arguments.length<=2?t._createSecondsNanos(arguments[0],arguments[1]):t._createNegateDaysHoursMinutesSecondsNanos(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},t._createNegateDaysHoursMinutesSecondsNanos=function(e,n,r,i,o,s){var a=S.safeAdd(n,S.safeAdd(r,S.safeAdd(i,o)));return e?t.ofSeconds(a,s).negated():t.ofSeconds(a,s)},t._createSecondsNanos=function(e,n){return(void 0===e&&(e=0),void 0===n&&(n=0),0===e&&0===n)?t.ZERO:new t(e,n)};var n=t.prototype;return n.get=function(e){if(e===R.SECONDS)return this._seconds;if(e===R.NANOS)return this._nanos;throw new h("Unsupported unit: "+e)},n.units=function(){return[R.SECONDS,R.NANOS]},n.isZero=function(){return 0===this._seconds&&0===this._nanos},n.isNegative=function(){return this._seconds<0},n.seconds=function(){return this._seconds},n.nano=function(){return this._nanos},n.withSeconds=function(e){return t._create(e,this._nanos)},n.withNanos=function(e){return P.NANO_OF_SECOND.checkValidIntValue(e),t._create(this._seconds,e)},n.plusDuration=function(e){return T(e,"duration"),this.plus(e.seconds(),e.nano())},n.plus=function(e,t){return 1==arguments.length?this.plusDuration(e):2==arguments.length&&t instanceof C?this.plusAmountUnit(e,t):this.plusSecondsNanos(e,t)},n.plusAmountUnit=function(e,t){if(T(e,"amountToAdd"),T(t,"unit"),t===R.DAYS)return this.plusSecondsNanos(S.safeMultiply(e,e5.SECONDS_PER_DAY),0);if(t.isDurationEstimated())throw new h("Unit must not have an estimated duration");if(0===e)return this;if(t instanceof R){switch(t){case R.NANOS:return this.plusNanos(e);case R.MICROS:return this.plusSecondsNanos(1e3*S.intDiv(e,1e9),1e3*S.intMod(e,1e9));case R.MILLIS:return this.plusMillis(e);case R.SECONDS:return this.plusSeconds(e)}return this.plusSecondsNanos(S.safeMultiply(t.duration().seconds(),e),0)}var n=t.duration().multipliedBy(e);return this.plusSecondsNanos(n.seconds(),n.nano())},n.plusDays=function(e){return this.plusSecondsNanos(S.safeMultiply(e,e5.SECONDS_PER_DAY),0)},n.plusHours=function(e){return this.plusSecondsNanos(S.safeMultiply(e,e5.SECONDS_PER_HOUR),0)},n.plusMinutes=function(e){return this.plusSecondsNanos(S.safeMultiply(e,e5.SECONDS_PER_MINUTE),0)},n.plusSeconds=function(e){return this.plusSecondsNanos(e,0)},n.plusMillis=function(e){return this.plusSecondsNanos(S.intDiv(e,1e3),1e6*S.intMod(e,1e3))},n.plusNanos=function(e){return this.plusSecondsNanos(0,e)},n.plusSecondsNanos=function(e,n){if(T(e,"secondsToAdd"),T(n,"nanosToAdd"),0===e&&0===n)return this;var r=S.safeAdd(this._seconds,e);r=S.safeAdd(r,S.intDiv(n,e5.NANOS_PER_SECOND)),n=S.intMod(n,e5.NANOS_PER_SECOND);var i=S.safeAdd(this._nanos,n);return t.ofSeconds(r,i)},n.minus=function(e,t){return 1==arguments.length?this.minusDuration(e):this.minusAmountUnit(e,t)},n.minusDuration=function(e){T(e,"duration");var t=e.seconds(),n=e.nano();return -9007199254740991===t?this.plus(9007199254740991,-n):this.plus(-t,-n)},n.minusAmountUnit=function(e,t){return T(e,"amountToSubtract"),T(t,"unit"),-9007199254740991===e?this.plusAmountUnit(9007199254740991,t):this.plusAmountUnit(-e,t)},n.minusDays=function(e){return -9007199254740991===e?this.plusDays(9007199254740991):this.plusDays(-e)},n.minusHours=function(e){return -9007199254740991===e?this.plusHours(9007199254740991):this.plusHours(-e)},n.minusMinutes=function(e){return -9007199254740991===e?this.plusMinutes(9007199254740991):this.plusMinutes(-e)},n.minusSeconds=function(e){return -9007199254740991===e?this.plusSeconds(9007199254740991):this.plusSeconds(-e)},n.minusMillis=function(e){return -9007199254740991===e?this.plusMillis(9007199254740991):this.plusMillis(-e)},n.minusNanos=function(e){return -9007199254740991===e?this.plusNanos(9007199254740991):this.plusNanos(-e)},n.multipliedBy=function(e){if(0===e)return t.ZERO;if(1===e)return this;var n=S.safeMultiply(this._seconds,e),r=S.safeMultiply(this._nanos,e);return n+=S.intDiv(r,e5.NANOS_PER_SECOND),r=S.intMod(r,e5.NANOS_PER_SECOND),t.ofSeconds(n,r)},n.dividedBy=function(e){if(0===e)throw new d("Cannot divide by zero");if(1===e)return this;var n=S.intDiv(this._seconds,e),r=S.roundDown((this._seconds/e-n)*e5.NANOS_PER_SECOND),i=S.intDiv(this._nanos,e);return i=r+i,t.ofSeconds(n,i)},n.negated=function(){return this.multipliedBy(-1)},n.abs=function(){return this.isNegative()?this.negated():this},n.addTo=function(e){return T(e,"temporal"),0!==this._seconds&&(e=e.plus(this._seconds,R.SECONDS)),0!==this._nanos&&(e=e.plus(this._nanos,R.NANOS)),e},n.subtractFrom=function(e){return T(e,"temporal"),0!==this._seconds&&(e=e.minus(this._seconds,R.SECONDS)),0!==this._nanos&&(e=e.minus(this._nanos,R.NANOS)),e},n.toDays=function(){return S.intDiv(this._seconds,e5.SECONDS_PER_DAY)},n.toHours=function(){return S.intDiv(this._seconds,e5.SECONDS_PER_HOUR)},n.toMinutes=function(){return S.intDiv(this._seconds,e5.SECONDS_PER_MINUTE)},n.toMillis=function(){var e=Math.round(S.safeMultiply(this._seconds,1e3));return S.safeAdd(e,S.intDiv(this._nanos,1e6))},n.toNanos=function(){var e=S.safeMultiply(this._seconds,e5.NANOS_PER_SECOND);return S.safeAdd(e,this._nanos)},n.compareTo=function(e){T(e,"otherDuration"),w(e,t,"otherDuration");var n=S.compareNumbers(this._seconds,e.seconds());return 0!==n?n:this._nanos-e.nano()},n.equals=function(e){return this===e||e instanceof t&&this.seconds()===e.seconds()&&this.nano()===e.nano()},n.toString=function(){if(this===t.ZERO)return"PT0S";var e,n=S.intDiv(this._seconds,e5.SECONDS_PER_HOUR),r=S.intDiv(S.intMod(this._seconds,e5.SECONDS_PER_HOUR),e5.SECONDS_PER_MINUTE),i=S.intMod(this._seconds,e5.SECONDS_PER_MINUTE),o="PT";if(0!==n&&(o+=n+"H"),0!==r&&(o+=r+"M"),0===i&&0===this._nanos&&o.length>2)return o;if(i<0&&this._nanos>0?-1===i?o+="-0":o+=i+1:o+=i,this._nanos>0)for(o+="."+(e=(e=i<0?""+(2*e5.NANOS_PER_SECOND-this._nanos):""+(e5.NANOS_PER_SECOND+this._nanos)).slice(1,e.length));"0"===o.charAt(o.length-1);)o=o.slice(0,o.length-1);return o+"S"},n.toJSON=function(){return this.toString()},t}(I),N=function(){},R=function(e){function t(t,n){var r;return(r=e.call(this)||this)._name=t,r._duration=n,r}g(t,e);var n=t.prototype;return n.duration=function(){return this._duration},n.isDurationEstimated=function(){return this.isDateBased()||this===t.FOREVER},n.isDateBased=function(){return this.compareTo(t.DAYS)>=0&&this!==t.FOREVER},n.isTimeBased=function(){return 0>this.compareTo(t.DAYS)},n.isSupportedBy=function(e){if(this===t.FOREVER)return!1;try{return e.plus(1,this),!0}catch(t){try{return e.plus(-1,this),!0}catch(e){return!1}}},n.addTo=function(e,t){return e.plus(t,this)},n.between=function(e,t){return e.until(t,this)},n.toString=function(){return this._name},n.compareTo=function(e){return this.duration().compareTo(e.duration())},t}(C),D=function(){function e(){}var t=e.prototype;return t.isDateBased=function(){b("isDateBased")},t.isTimeBased=function(){b("isTimeBased")},t.baseUnit=function(){b("baseUnit")},t.rangeUnit=function(){b("rangeUnit")},t.range=function(){b("range")},t.rangeRefinedBy=function(e){b("rangeRefinedBy")},t.getFrom=function(e){b("getFrom")},t.adjustInto=function(e,t){b("adjustInto")},t.isSupportedBy=function(e){b("isSupportedBy")},t.displayName=function(){b("displayName")},t.equals=function(e){b("equals")},t.name=function(){b("name")},e}(),k=function(){function e(e,t,n,r){E(!(e>t),"Smallest minimum value '"+e+"' must be less than largest minimum value '"+t+"'",f),E(!(n>r),"Smallest maximum value '"+n+"' must be less than largest maximum value '"+r+"'",f),E(!(t>r),"Minimum value '"+t+"' must be less than maximum value '"+r+"'",f),this._minSmallest=e,this._minLargest=t,this._maxLargest=r,this._maxSmallest=n}var t=e.prototype;return t.isFixed=function(){return this._minSmallest===this._minLargest&&this._maxSmallest===this._maxLargest},t.minimum=function(){return this._minSmallest},t.largestMinimum=function(){return this._minLargest},t.maximum=function(){return this._maxLargest},t.smallestMaximum=function(){return this._maxSmallest},t.isValidValue=function(e){return this.minimum()<=e&&e<=this.maximum()},t.checkValidValue=function(e,t){return this.isValidValue(e)?e:E(!1,null!=t?"Invalid value for "+t+" (valid values "+this.toString()+"): "+e:"Invalid value (valid values "+this.toString()+"): "+e,c)},t.checkValidIntValue=function(e,t){if(!1===this.isValidIntValue(e))throw new c("Invalid int value for "+t+": "+e);return e},t.isValidIntValue=function(e){return this.isIntValue()&&this.isValidValue(e)},t.isIntValue=function(){return this.minimum()>=S.MIN_SAFE_INTEGER&&this.maximum()<=S.MAX_SAFE_INTEGER},t.equals=function(t){return t===this||t instanceof e&&this._minSmallest===t._minSmallest&&this._minLargest===t._minLargest&&this._maxSmallest===t._maxSmallest&&this._maxLargest===t._maxLargest},t.hashCode=function(){return S.hashCode(this._minSmallest,this._minLargest,this._maxSmallest,this._maxLargest)},t.toString=function(){return this.minimum()+(this.minimum()!==this.largestMinimum()?"/"+this.largestMinimum():"")+(" - "+this.smallestMaximum())+(this.smallestMaximum()!==this.maximum()?"/"+this.maximum():"")},e.of=function(){return 2==arguments.length?new e(arguments[0],arguments[0],arguments[1],arguments[1]):3==arguments.length?new e(arguments[0],arguments[0],arguments[1],arguments[2]):4==arguments.length?new e(arguments[0],arguments[1],arguments[2],arguments[3]):E(!1,"Invalid number of arguments "+arguments.length,f)},e}(),P=function(e){function t(t,n,r,i){var o;return(o=e.call(this)||this)._name=t,o._baseUnit=n,o._rangeUnit=r,o._range=i,o}g(t,e),t.byName=function(e){for(var n in t)if(t[n]&&t[n]instanceof t&&t[n].name()===e)return t[n]};var n=t.prototype;return n.name=function(){return this._name},n.baseUnit=function(){return this._baseUnit},n.rangeUnit=function(){return this._rangeUnit},n.range=function(){return this._range},n.displayName=function(){return this.toString()},n.checkValidValue=function(e){return this.range().checkValidValue(e,this)},n.checkValidIntValue=function(e){return this.range().checkValidIntValue(e,this)},n.isDateBased=function(){return this===t.DAY_OF_WEEK||this===t.ALIGNED_DAY_OF_WEEK_IN_MONTH||this===t.ALIGNED_DAY_OF_WEEK_IN_YEAR||this===t.DAY_OF_MONTH||this===t.DAY_OF_YEAR||this===t.EPOCH_DAY||this===t.ALIGNED_WEEK_OF_MONTH||this===t.ALIGNED_WEEK_OF_YEAR||this===t.MONTH_OF_YEAR||this===t.PROLEPTIC_MONTH||this===t.YEAR_OF_ERA||this===t.YEAR||this===t.ERA},n.isTimeBased=function(){return this===t.NANO_OF_SECOND||this===t.NANO_OF_DAY||this===t.MICRO_OF_SECOND||this===t.MICRO_OF_DAY||this===t.MILLI_OF_SECOND||this===t.MILLI_OF_DAY||this===t.SECOND_OF_MINUTE||this===t.SECOND_OF_DAY||this===t.MINUTE_OF_HOUR||this===t.MINUTE_OF_DAY||this===t.HOUR_OF_AMPM||this===t.CLOCK_HOUR_OF_AMPM||this===t.HOUR_OF_DAY||this===t.CLOCK_HOUR_OF_DAY||this===t.AMPM_OF_DAY},n.rangeRefinedBy=function(e){return e.range(this)},n.getFrom=function(e){return e.getLong(this)},n.toString=function(){return this.name()},n.equals=function(e){return this===e},n.adjustInto=function(e,t){return e.with(this,t)},n.isSupportedBy=function(e){return e.isSupported(this)},t}(D),M=function(){function e(){}return e.zoneId=function(){return e.ZONE_ID},e.chronology=function(){return e.CHRONO},e.precision=function(){return e.PRECISION},e.zone=function(){return e.ZONE},e.offset=function(){return e.OFFSET},e.localDate=function(){return e.LOCAL_DATE},e.localTime=function(){return e.LOCAL_TIME},e}(),L=function(){function e(){}var t=e.prototype;return t.query=function(e){return e===M.zoneId()||e===M.chronology()||e===M.precision()?null:e.queryFrom(this)},t.get=function(e){return this.range(e).checkValidIntValue(this.getLong(e),e)},t.getLong=function(e){b("getLong")},t.range=function(e){if(e instanceof P){if(this.isSupported(e))return e.range();throw new h("Unsupported field: "+e)}return e.rangeRefinedBy(this)},t.isSupported=function(e){b("isSupported")},e}(),U=function(e){function t(){return e.apply(this,arguments)||this}return g(t,e),t.prototype.queryFrom=function(e){b("queryFrom")},t}(A);function x(e,t){var n=function(e){function t(){return e.apply(this,arguments)||this}return g(t,e),t}(U);return n.prototype.queryFrom=t,new n(e)}var F=function(e){function t(t,n){var r;return(r=e.call(this)||this)._ordinal=t,r._name=n,r}g(t,e);var n=t.prototype;return n.ordinal=function(){return this._ordinal},n.name=function(){return this._name},t.values=function(){return i.slice()},t.valueOf=function(e){for(var n=0;n<i.length&&i[n].name()!==e;n++);return t.of(n+1)},t.of=function(e){if(e<1||e>7)throw new c("Invalid value for DayOfWeek: "+e);return i[e-1]},t.from=function(e){if(E(null!=e,"temporal",m),e instanceof t)return e;try{return t.of(e.get(P.DAY_OF_WEEK))}catch(t){if(t instanceof c)throw new c("Unable to obtain DayOfWeek from TemporalAccessor: "+e+", type "+(null!=e.constructor?e.constructor.name:""),t);throw t}},n.value=function(){return this._ordinal+1},n.displayName=function(e,t){throw new f("Pattern using (localized) text not implemented yet!")},n.isSupported=function(e){return e instanceof P?e===P.DAY_OF_WEEK:null!=e&&e.isSupportedBy(this)},n.range=function(e){if(e===P.DAY_OF_WEEK)return e.range();if(e instanceof P)throw new h("Unsupported field: "+e);return e.rangeRefinedBy(this)},n.get=function(e){return e===P.DAY_OF_WEEK?this.value():this.range(e).checkValidIntValue(this.getLong(e),e)},n.getLong=function(e){if(e===P.DAY_OF_WEEK)return this.value();if(e instanceof P)throw new h("Unsupported field: "+e);return e.getFrom(this)},n.plus=function(e){var t=S.floorMod(e,7);return i[S.floorMod(this._ordinal+(t+7),7)]},n.minus=function(e){return this.plus(-1*S.floorMod(e,7))},n.query=function(e){return e===M.precision()?R.DAYS:e===M.localDate()||e===M.localTime()||e===M.chronology()||e===M.zone()||e===M.zoneId()||e===M.offset()?null:(E(null!=e,"query",m),e.queryFrom(this))},n.adjustInto=function(e){return T(e,"temporal"),e.with(P.DAY_OF_WEEK,this.value())},n.equals=function(e){return this===e},n.toString=function(){return this._name},n.compareTo=function(e){return T(e,"other"),w(e,t,"other"),this._ordinal-e._ordinal},n.toJSON=function(){return this.toString()},t}(L),B=function(e){function t(t,n){var r;return(r=e.call(this)||this)._value=S.safeToInt(t),r._name=n,r}g(t,e);var n=t.prototype;return n.value=function(){return this._value},n.ordinal=function(){return this._value-1},n.name=function(){return this._name},n.displayName=function(e,t){throw new f("Pattern using (localized) text not implemented yet!")},n.isSupported=function(e){return null!==e&&(e instanceof P?e===P.MONTH_OF_YEAR:null!=e&&e.isSupportedBy(this))},n.get=function(e){return e===P.MONTH_OF_YEAR?this.value():this.range(e).checkValidIntValue(this.getLong(e),e)},n.getLong=function(e){if(e===P.MONTH_OF_YEAR)return this.value();if(e instanceof P)throw new h("Unsupported field: "+e);return e.getFrom(this)},n.plus=function(e){var n=S.intMod(e,12)+12,r=S.intMod(this.value()+n,12);return r=0===r?12:r,t.of(r)},n.minus=function(e){return this.plus(-1*S.intMod(e,12))},n.length=function(e){switch(this){case t.FEBRUARY:return e?29:28;case t.APRIL:case t.JUNE:case t.SEPTEMBER:case t.NOVEMBER:return 30;default:return 31}},n.minLength=function(){switch(this){case t.FEBRUARY:return 28;case t.APRIL:case t.JUNE:case t.SEPTEMBER:case t.NOVEMBER:return 30;default:return 31}},n.maxLength=function(){switch(this){case t.FEBRUARY:return 29;case t.APRIL:case t.JUNE:case t.SEPTEMBER:case t.NOVEMBER:return 30;default:return 31}},n.firstDayOfYear=function(e){var n=e?1:0;switch(this){case t.JANUARY:return 1;case t.FEBRUARY:return 32;case t.MARCH:return 60+n;case t.APRIL:return 91+n;case t.MAY:return 121+n;case t.JUNE:return 152+n;case t.JULY:return 182+n;case t.AUGUST:return 213+n;case t.SEPTEMBER:return 244+n;case t.OCTOBER:return 274+n;case t.NOVEMBER:return 305+n;case t.DECEMBER:default:return 335+n}},n.firstMonthOfQuarter=function(){switch(this){case t.JANUARY:case t.FEBRUARY:case t.MARCH:return t.JANUARY;case t.APRIL:case t.MAY:case t.JUNE:return t.APRIL;case t.JULY:case t.AUGUST:case t.SEPTEMBER:return t.JULY;case t.OCTOBER:case t.NOVEMBER:case t.DECEMBER:default:return t.OCTOBER}},n.query=function(t){return(E(null!=t,"query() parameter must not be null",c),t===M.chronology())?eQ.INSTANCE:t===M.precision()?R.MONTHS:e.prototype.query.call(this,t)},n.toString=function(){switch(this){case t.JANUARY:return"JANUARY";case t.FEBRUARY:return"FEBRUARY";case t.MARCH:return"MARCH";case t.APRIL:return"APRIL";case t.MAY:return"MAY";case t.JUNE:return"JUNE";case t.JULY:return"JULY";case t.AUGUST:return"AUGUST";case t.SEPTEMBER:return"SEPTEMBER";case t.OCTOBER:return"OCTOBER";case t.NOVEMBER:return"NOVEMBER";case t.DECEMBER:return"DECEMBER";default:return"unknown Month, value: "+this.value()}},n.toJSON=function(){return this.toString()},n.adjustInto=function(e){return e.with(P.MONTH_OF_YEAR,this.value())},n.compareTo=function(e){return T(e,"other"),w(e,t,"other"),this._value-e._value},n.equals=function(e){return this===e},t.valueOf=function(e){for(var n=0;n<o.length&&o[n].name()!==e;n++);return t.of(n+1)},t.values=function(){return o.slice()},t.of=function(e){return(e<1||e>12)&&E(!1,"Invalid value for MonthOfYear: "+e,c),o[e-1]},t.from=function(e){if(e instanceof t)return e;try{return t.of(e.get(P.MONTH_OF_YEAR))}catch(t){throw new c("Unable to obtain Month from TemporalAccessor: "+e+" of type "+(e&&null!=e.constructor?e.constructor.name:""),t)}},t}(L),q=/([-+]?)P(?:([-+]?[0-9]+)Y)?(?:([-+]?[0-9]+)M)?(?:([-+]?[0-9]+)W)?(?:([-+]?[0-9]+)D)?/,Y=function(e){function t(n,r,i){o=e.call(this)||this;var o,s=S.safeToInt(n),a=S.safeToInt(r),l=S.safeToInt(i);return 0===s&&0===a&&0===l?(t.ZERO||(o._years=s,o._months=a,o._days=l,t.ZERO=_(o)),t.ZERO||_(o)):(o._years=s,o._months=a,o._days=l,o)}g(t,e),t.ofYears=function(e){return t.create(e,0,0)},t.ofMonths=function(e){return t.create(0,e,0)},t.ofWeeks=function(e){return t.create(0,0,S.safeMultiply(e,7))},t.ofDays=function(e){return t.create(0,0,e)},t.of=function(e,n,r){return t.create(e,n,r)},t.from=function(e){if(e instanceof t)return e;T(e,"amount");for(var n=0,r=0,i=0,o=e.units(),s=0;s<o.length;s++){var a=o[s],l=e.get(a);if(a===R.YEARS)n=S.safeToInt(l);else if(a===R.MONTHS)r=S.safeToInt(l);else if(a===R.DAYS)i=S.safeToInt(l);else throw new c("Unit must be Years, Months or Days, but was "+a)}return t.create(n,r,i)},t.between=function(e,t){return T(e,"startDate"),T(t,"endDate"),w(e,e2,"startDate"),w(t,e2,"endDate"),e.until(t)},t.parse=function(e){T(e,"text");try{return t._parse(e)}catch(t){if(t instanceof d)throw new u("Text cannot be parsed to a Period",e,0,t);throw t}},t._parse=function(e){var n=q.exec(e);if(null!=n){var r="-"===n[1]?-1:1,i=n[2],o=n[3],s=n[4],a=n[5];if(null!=i||null!=o||null!=s||null!=a){var l=t._parseNumber(e,i,r),c=t._parseNumber(e,o,r),h=t._parseNumber(e,s,r),d=t._parseNumber(e,a,r);return d=S.safeAdd(d,S.safeMultiply(h,7)),t.create(l,c,d)}}throw new u("Text cannot be parsed to a Period",e,0)},t._parseNumber=function(e,t,n){if(null==t)return 0;var r=S.parseInt(t);return S.safeMultiply(r,n)},t.create=function(e,n,r){return new t(e,n,r)};var n=t.prototype;return n.units=function(){return[R.YEARS,R.MONTHS,R.DAYS]},n.chronology=function(){return eQ.INSTANCE},n.get=function(e){if(e===R.YEARS)return this._years;if(e===R.MONTHS)return this._months;if(e===R.DAYS)return this._days;throw new h("Unsupported unit: "+e)},n.isZero=function(){return this===t.ZERO},n.isNegative=function(){return this._years<0||this._months<0||this._days<0},n.years=function(){return this._years},n.months=function(){return this._months},n.days=function(){return this._days},n.withYears=function(e){return e===this._years?this:t.create(e,this._months,this._days)},n.withMonths=function(e){return e===this._months?this:t.create(this._years,e,this._days)},n.withDays=function(e){return e===this._days?this:t.create(this._years,this._months,e)},n.plus=function(e){var n=t.from(e);return t.create(S.safeAdd(this._years,n._years),S.safeAdd(this._months,n._months),S.safeAdd(this._days,n._days))},n.plusYears=function(e){return 0===e?this:t.create(S.safeToInt(S.safeAdd(this._years,e)),this._months,this._days)},n.plusMonths=function(e){return 0===e?this:t.create(this._years,S.safeToInt(S.safeAdd(this._months,e)),this._days)},n.plusDays=function(e){return 0===e?this:t.create(this._years,this._months,S.safeToInt(S.safeAdd(this._days,e)))},n.minus=function(e){var n=t.from(e);return t.create(S.safeSubtract(this._years,n._years),S.safeSubtract(this._months,n._months),S.safeSubtract(this._days,n._days))},n.minusYears=function(e){return this.plusYears(-1*e)},n.minusMonths=function(e){return this.plusMonths(-1*e)},n.minusDays=function(e){return this.plusDays(-1*e)},n.multipliedBy=function(e){return this===t.ZERO||1===e?this:t.create(S.safeMultiply(this._years,e),S.safeMultiply(this._months,e),S.safeMultiply(this._days,e))},n.negated=function(){return this.multipliedBy(-1)},n.normalized=function(){var e=this.toTotalMonths(),n=S.intDiv(e,12),r=S.intMod(e,12);return n===this._years&&r===this._months?this:t.create(S.safeToInt(n),r,this._days)},n.toTotalMonths=function(){return 12*this._years+this._months},n.addTo=function(e){return T(e,"temporal"),0!==this._years?e=0!==this._months?e.plus(this.toTotalMonths(),R.MONTHS):e.plus(this._years,R.YEARS):0!==this._months&&(e=e.plus(this._months,R.MONTHS)),0!==this._days&&(e=e.plus(this._days,R.DAYS)),e},n.subtractFrom=function(e){return T(e,"temporal"),0!==this._years?e=0!==this._months?e.minus(this.toTotalMonths(),R.MONTHS):e.minus(this._years,R.YEARS):0!==this._months&&(e=e.minus(this._months,R.MONTHS)),0!==this._days&&(e=e.minus(this._days,R.DAYS)),e},n.equals=function(e){return this===e||e instanceof t&&this._years===e._years&&this._months===e._months&&this._days===e._days},n.hashCode=function(){return S.hashCode(this._years,this._months,this._days)},n.toString=function(){if(this===t.ZERO)return"P0D";var e="P";return 0!==this._years&&(e+=this._years+"Y"),0!==this._months&&(e+=this._months+"M"),0!==this._days&&(e+=this._days+"D"),e},n.toJSON=function(){return this.toString()},t}(I),j=function(){function e(e){this._index=e,this._errorIndex=-1}var t=e.prototype;return t.getIndex=function(){return this._index},t.setIndex=function(e){this._index=e},t.getErrorIndex=function(){return this._errorIndex},t.setErrorIndex=function(e){this._errorIndex=e},e}(),H=function(){function e(){this._map={}}var t=e.prototype;return t.putAll=function(e){for(var t in e._map)this._map[t]=e._map[t];return this},t.containsKey=function(e){return this._map.hasOwnProperty(e.name())&&void 0!==this.get(e)},t.get=function(e){return this._map[e.name()]},t.put=function(e,t){return this.set(e,t)},t.set=function(e,t){return this._map[e.name()]=t,this},t.retainAll=function(e){for(var t={},n=0;n<e.length;n++){var r=e[n].name();t[r]=this._map[r]}return this._map=t,this},t.remove=function(e){var t=e.name(),n=this._map[t];return this._map[t]=void 0,n},t.keySet=function(){return this._map},t.clear=function(){this._map={}},e}(),V=function(e){function t(){return e.apply(this,arguments)||this}return g(t,e),t}(A);V.STRICT=new V("STRICT"),V.SMART=new V("SMART"),V.LENIENT=new V("LENIENT");var $=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var n=t.prototype;return n.isSupported=function(e){b("isSupported")},n.minus=function(e,t){return arguments.length<2?this._minusAmount(e):this._minusUnit(e,t)},n._minusAmount=function(e){return T(e,"amount"),w(e,I,"amount"),e.subtractFrom(this)},n._minusUnit=function(e,t){return T(e,"amountToSubtract"),T(t,"unit"),w(t,C,"unit"),this._plusUnit(-e,t)},n.plus=function(e,t){return arguments.length<2?this._plusAmount(e):this._plusUnit(e,t)},n._plusAmount=function(e){return T(e,"amount"),w(e,I,"amount"),e.addTo(this)},n._plusUnit=function(e,t){b("_plusUnit")},n.until=function(e,t){b("until")},n.with=function(e,t){return arguments.length<2?this._withAdjuster(e):this._withField(e,t)},n._withAdjuster=function(e){return T(e,"adjuster"),E("function"==typeof e.adjustInto,"adjuster must be a TemporalAdjuster",f),e.adjustInto(this)},n._withField=function(e,t){b("_withField")},t}(L);"undefined"!=typeof Symbol&&Symbol.toPrimitive&&($.prototype[Symbol.toPrimitive]=function(e){if("number"!==e)return this.toString();throw TypeError("A conversion from Temporal to a number is not allowed. To compare use the methods .equals(), .compareTo(), .isBefore() or one that is more suitable to your use case.")});var z=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var n=t.prototype;return n.isSupported=function(e){return e instanceof P?e.isDateBased():e instanceof R?e.isDateBased():null!=e&&e.isSupportedBy(this)},n.query=function(t){return t===M.chronology()?this.chronology():t===M.precision()?R.DAYS:t===M.localDate()?e2.ofEpochDay(this.toEpochDay()):t===M.localTime()||t===M.zone()||t===M.zoneId()||t===M.offset()?null:e.prototype.query.call(this,t)},n.adjustInto=function(e){return e.with(P.EPOCH_DAY,this.toEpochDay())},n.format=function(e){return T(e,"formatter"),w(e,ej,"formatter"),e.format(this)},t}($),W=function(){function e(){}return e.startsWith=function(e,t){return 0===e.indexOf(t)},e.hashCode=function(e){var t=e.length;if(0===t)return 0;for(var n=0,r=0;r<t;r++)n=(n<<5)-n+e.charCodeAt(r)|0;return S.smi(n)},e}(),G=function(){function e(){}e.systemDefault=function(){throw new c("not supported operation")},e.getAvailableZoneIds=function(){throw new c("not supported operation")},e.of=function(e){throw new c("not supported operation"+e)},e.ofOffset=function(e,t){throw new c("not supported operation"+e+t)},e.from=function(e){throw new c("not supported operation"+e)};var t=e.prototype;return t.id=function(){b("ZoneId.id")},t.rules=function(){b("ZoneId.rules")},t.normalized=function(){var e=this.rules();return e.isFixedOffset()?e.offset(e6.EPOCH):this},t.equals=function(t){return this===t||t instanceof e&&this.id()===t.id()},t.hashCode=function(){return W.hashCode(this.id())},t.toString=function(){return this.id()},t.toJSON=function(){return this.toString()},e}(),K=function(){function e(){}e.of=function(e){return T(e,"offset"),new Z(e)};var t=e.prototype;return t.isFixedOffset=function(){b("ZoneRules.isFixedOffset")},t.offset=function(e){return e instanceof e6?this.offsetOfInstant(e):this.offsetOfLocalDateTime(e)},t.offsetOfInstant=function(e){b("ZoneRules.offsetInstant")},t.offsetOfEpochMilli=function(e){b("ZoneRules.offsetOfEpochMilli")},t.offsetOfLocalDateTime=function(e){b("ZoneRules.offsetLocalDateTime")},t.validOffsets=function(e){b("ZoneRules.validOffsets")},t.transition=function(e){b("ZoneRules.transition")},t.standardOffset=function(e){b("ZoneRules.standardOffset")},t.daylightSavings=function(e){b("ZoneRules.daylightSavings")},t.isDaylightSavings=function(e){b("ZoneRules.isDaylightSavings")},t.isValidOffset=function(e,t){b("ZoneRules.isValidOffset")},t.nextTransition=function(e){b("ZoneRules.nextTransition")},t.previousTransition=function(e){b("ZoneRules.previousTransition")},t.transitions=function(){b("ZoneRules.transitions")},t.transitionRules=function(){b("ZoneRules.transitionRules")},t.toString=function(){b("ZoneRules.toString")},t.toJSON=function(){return this.toString()},e}(),Z=function(e){function t(t){var n;return(n=e.call(this)||this)._offset=t,n}g(t,e);var n=t.prototype;return n.isFixedOffset=function(){return!0},n.offsetOfInstant=function(){return this._offset},n.offsetOfEpochMilli=function(){return this._offset},n.offsetOfLocalDateTime=function(){return this._offset},n.validOffsets=function(){return[this._offset]},n.transition=function(){return null},n.standardOffset=function(){return this._offset},n.daylightSavings=function(){return O.ZERO},n.isDaylightSavings=function(){return!1},n.isValidOffset=function(e,t){return this._offset.equals(t)},n.nextTransition=function(){return null},n.previousTransition=function(){return null},n.transitions=function(){return[]},n.transitionRules=function(){return[]},n.equals=function(e){return this===e||e instanceof t&&this._offset.equals(e._offset)},n.toString=function(){return"FixedRules:"+this._offset.toString()},t}(K),Q={},X={},J=function(e){function t(n){var r;return r=e.call(this)||this,t._validateTotalSeconds(n),r._totalSeconds=S.safeToInt(n),r._rules=K.of(_(r)),r._id=t._buildId(n),r}g(t,e);var n=t.prototype;return n.totalSeconds=function(){return this._totalSeconds},n.id=function(){return this._id},t._buildId=function(e){if(0===e)return"Z";var t=Math.abs(e),n=S.intDiv(t,e5.SECONDS_PER_HOUR),r=S.intMod(S.intDiv(t,e5.SECONDS_PER_MINUTE),e5.MINUTES_PER_HOUR),i=(e<0?"-":"+")+(n<10?"0":"")+n+(r<10?":0":":")+r,o=S.intMod(t,e5.SECONDS_PER_MINUTE);return 0!==o&&(i+=(o<10?":0":":")+o),i},t._validateTotalSeconds=function(e){if(Math.abs(e)>t.MAX_SECONDS)throw new c("Zone offset not in valid range: -18:00 to +18:00")},t._validate=function(e,t,n){if(e<-18||e>18)throw new c("Zone offset hours not in valid range: value "+e+" is not in the range -18 to 18");if(e>0){if(t<0||n<0)throw new c("Zone offset minutes and seconds must be positive because hours is positive")}else if(e<0){if(t>0||n>0)throw new c("Zone offset minutes and seconds must be negative because hours is negative")}else if(t>0&&n<0||t<0&&n>0)throw new c("Zone offset minutes and seconds must have the same sign");if(Math.abs(t)>59)throw new c("Zone offset minutes not in valid range: abs(value) "+Math.abs(t)+" is not in the range 0 to 59");if(Math.abs(n)>59)throw new c("Zone offset seconds not in valid range: abs(value) "+Math.abs(n)+" is not in the range 0 to 59");if(18===Math.abs(e)&&(Math.abs(t)>0||Math.abs(n)>0))throw new c("Zone offset not in valid range: -18:00 to +18:00")},t.of=function(e){T(e,"offsetId");var n,r,i,o=X[e];if(null!=o)return o;switch(e.length){case 2:e=e[0]+"0"+e[1];case 3:n=t._parseNumber(e,1,!1),r=0,i=0;break;case 5:n=t._parseNumber(e,1,!1),r=t._parseNumber(e,3,!1),i=0;break;case 6:n=t._parseNumber(e,1,!1),r=t._parseNumber(e,4,!0),i=0;break;case 7:n=t._parseNumber(e,1,!1),r=t._parseNumber(e,3,!1),i=t._parseNumber(e,5,!1);break;case 9:n=t._parseNumber(e,1,!1),r=t._parseNumber(e,4,!0),i=t._parseNumber(e,7,!0);break;default:throw new c("Invalid ID for ZoneOffset, invalid format: "+e)}var s=e[0];if("+"!==s&&"-"!==s)throw new c("Invalid ID for ZoneOffset, plus/minus not found when expected: "+e);return"-"===s?t.ofHoursMinutesSeconds(-n,-r,-i):t.ofHoursMinutesSeconds(n,r,i)},t._parseNumber=function(e,t,n){if(n&&":"!==e[t-1])throw new c("Invalid ID for ZoneOffset, colon not found when expected: "+e);var r=e[t],i=e[t+1];if(r<"0"||r>"9"||i<"0"||i>"9")throw new c("Invalid ID for ZoneOffset, non numeric characters found: "+e);return(r.charCodeAt(0)-48)*10+(i.charCodeAt(0)-48)},t.ofHours=function(e){return t.ofHoursMinutesSeconds(e,0,0)},t.ofHoursMinutes=function(e,n){return t.ofHoursMinutesSeconds(e,n,0)},t.ofHoursMinutesSeconds=function(e,n,r){t._validate(e,n,r);var i=e*e5.SECONDS_PER_HOUR+n*e5.SECONDS_PER_MINUTE+r;return t.ofTotalSeconds(i)},t.ofTotalMinutes=function(e){var n=e*e5.SECONDS_PER_MINUTE;return t.ofTotalSeconds(n)},t.ofTotalSeconds=function(e){if(e%(15*e5.SECONDS_PER_MINUTE)!=0)return new t(e);var n=Q[e];return null==n&&(n=new t(e),Q[e]=n,X[n.id()]=n),n},n.rules=function(){return this._rules},n.get=function(e){return this.getLong(e)},n.getLong=function(e){if(e===P.OFFSET_SECONDS)return this._totalSeconds;if(e instanceof P)throw new c("Unsupported field: "+e);return e.getFrom(this)},n.query=function(e){return(T(e,"query"),e===M.offset()||e===M.zone())?this:e===M.localDate()||e===M.localTime()||e===M.precision()||e===M.chronology()||e===M.zoneId()?null:e.queryFrom(this)},n.adjustInto=function(e){return e.with(P.OFFSET_SECONDS,this._totalSeconds)},n.compareTo=function(e){return T(e,"other"),e._totalSeconds-this._totalSeconds},n.equals=function(e){return this===e||e instanceof t&&this._totalSeconds===e._totalSeconds},n.hashCode=function(){return this._totalSeconds},n.toString=function(){return this._id},t}(G),ee=function(e){function t(){var t;return(t=e.call(this)||this).fieldValues=new H,t.chrono=null,t.zone=null,t.date=null,t.time=null,t.leapSecond=!1,t.excessDays=null,t}g(t,e),t.create=function(e,n){var r=new t;return r._addFieldValue(e,n),r};var n=t.prototype;return n.getFieldValue0=function(e){return this.fieldValues.get(e)},n._addFieldValue=function(e,t){T(e,"field");var n=this.getFieldValue0(e);if(null!=n&&n!==t)throw new c("Conflict found: "+e+" "+n+" differs from "+e+" "+t+": "+this);return this._putFieldValue0(e,t)},n._putFieldValue0=function(e,t){return this.fieldValues.put(e,t),this},n.resolve=function(e,t){return null!=t&&this.fieldValues.retainAll(t),this._mergeDate(e),this._mergeTime(e),this._resolveTimeInferZeroes(e),null!=this.excessDays&&!1===this.excessDays.isZero()&&null!=this.date&&null!=this.time&&(this.date=this.date.plus(this.excessDays),this.excessDays=Y.ZERO),this._resolveInstant(),this},n._mergeDate=function(e){this._checkDate(eQ.INSTANCE.resolveDate(this.fieldValues,e))},n._checkDate=function(e){if(null!=e)for(var t in this._addObject(e),this.fieldValues.keySet()){var n=P.byName(t);if(n&&void 0!==this.fieldValues.get(n)&&n.isDateBased()){var r=void 0;try{r=e.getLong(n)}catch(e){if(e instanceof c)continue;throw e}var i=this.fieldValues.get(n);if(r!==i)throw new c("Conflict found: Field "+n+" "+r+" differs from "+n+" "+i+" derived from "+e)}}},n._mergeTime=function(e){if(this.fieldValues.containsKey(P.CLOCK_HOUR_OF_DAY)){var t=this.fieldValues.remove(P.CLOCK_HOUR_OF_DAY);e!==V.LENIENT&&(e===V.SMART&&0===t||P.CLOCK_HOUR_OF_DAY.checkValidValue(t)),this._addFieldValue(P.HOUR_OF_DAY,24===t?0:t)}if(this.fieldValues.containsKey(P.CLOCK_HOUR_OF_AMPM)){var n=this.fieldValues.remove(P.CLOCK_HOUR_OF_AMPM);e!==V.LENIENT&&(e===V.SMART&&0===n||P.CLOCK_HOUR_OF_AMPM.checkValidValue(n)),this._addFieldValue(P.HOUR_OF_AMPM,12===n?0:n)}if(e!==V.LENIENT&&(this.fieldValues.containsKey(P.AMPM_OF_DAY)&&P.AMPM_OF_DAY.checkValidValue(this.fieldValues.get(P.AMPM_OF_DAY)),this.fieldValues.containsKey(P.HOUR_OF_AMPM)&&P.HOUR_OF_AMPM.checkValidValue(this.fieldValues.get(P.HOUR_OF_AMPM))),this.fieldValues.containsKey(P.AMPM_OF_DAY)&&this.fieldValues.containsKey(P.HOUR_OF_AMPM)){var r=this.fieldValues.remove(P.AMPM_OF_DAY),i=this.fieldValues.remove(P.HOUR_OF_AMPM);this._addFieldValue(P.HOUR_OF_DAY,12*r+i)}if(this.fieldValues.containsKey(P.NANO_OF_DAY)){var o=this.fieldValues.remove(P.NANO_OF_DAY);e!==V.LENIENT&&P.NANO_OF_DAY.checkValidValue(o),this._addFieldValue(P.SECOND_OF_DAY,S.intDiv(o,1e9)),this._addFieldValue(P.NANO_OF_SECOND,S.intMod(o,1e9))}if(this.fieldValues.containsKey(P.MICRO_OF_DAY)){var s=this.fieldValues.remove(P.MICRO_OF_DAY);e!==V.LENIENT&&P.MICRO_OF_DAY.checkValidValue(s),this._addFieldValue(P.SECOND_OF_DAY,S.intDiv(s,1e6)),this._addFieldValue(P.MICRO_OF_SECOND,S.intMod(s,1e6))}if(this.fieldValues.containsKey(P.MILLI_OF_DAY)){var a=this.fieldValues.remove(P.MILLI_OF_DAY);e!==V.LENIENT&&P.MILLI_OF_DAY.checkValidValue(a),this._addFieldValue(P.SECOND_OF_DAY,S.intDiv(a,1e3)),this._addFieldValue(P.MILLI_OF_SECOND,S.intMod(a,1e3))}if(this.fieldValues.containsKey(P.SECOND_OF_DAY)){var l=this.fieldValues.remove(P.SECOND_OF_DAY);e!==V.LENIENT&&P.SECOND_OF_DAY.checkValidValue(l),this._addFieldValue(P.HOUR_OF_DAY,S.intDiv(l,3600)),this._addFieldValue(P.MINUTE_OF_HOUR,S.intMod(S.intDiv(l,60),60)),this._addFieldValue(P.SECOND_OF_MINUTE,S.intMod(l,60))}if(this.fieldValues.containsKey(P.MINUTE_OF_DAY)){var c=this.fieldValues.remove(P.MINUTE_OF_DAY);e!==V.LENIENT&&P.MINUTE_OF_DAY.checkValidValue(c),this._addFieldValue(P.HOUR_OF_DAY,S.intDiv(c,60)),this._addFieldValue(P.MINUTE_OF_HOUR,S.intMod(c,60))}if(e!==V.LENIENT&&(this.fieldValues.containsKey(P.MILLI_OF_SECOND)&&P.MILLI_OF_SECOND.checkValidValue(this.fieldValues.get(P.MILLI_OF_SECOND)),this.fieldValues.containsKey(P.MICRO_OF_SECOND)&&P.MICRO_OF_SECOND.checkValidValue(this.fieldValues.get(P.MICRO_OF_SECOND))),this.fieldValues.containsKey(P.MILLI_OF_SECOND)&&this.fieldValues.containsKey(P.MICRO_OF_SECOND)){var u=this.fieldValues.remove(P.MILLI_OF_SECOND),h=this.fieldValues.get(P.MICRO_OF_SECOND);this._putFieldValue0(P.MICRO_OF_SECOND,1e3*u+S.intMod(h,1e3))}if(this.fieldValues.containsKey(P.MICRO_OF_SECOND)&&this.fieldValues.containsKey(P.NANO_OF_SECOND)){var d=this.fieldValues.get(P.NANO_OF_SECOND);this._putFieldValue0(P.MICRO_OF_SECOND,S.intDiv(d,1e3)),this.fieldValues.remove(P.MICRO_OF_SECOND)}if(this.fieldValues.containsKey(P.MILLI_OF_SECOND)&&this.fieldValues.containsKey(P.NANO_OF_SECOND)){var f=this.fieldValues.get(P.NANO_OF_SECOND);this._putFieldValue0(P.MILLI_OF_SECOND,S.intDiv(f,1e6)),this.fieldValues.remove(P.MILLI_OF_SECOND)}if(this.fieldValues.containsKey(P.MICRO_OF_SECOND)){var p=this.fieldValues.remove(P.MICRO_OF_SECOND);this._putFieldValue0(P.NANO_OF_SECOND,1e3*p)}else if(this.fieldValues.containsKey(P.MILLI_OF_SECOND)){var m=this.fieldValues.remove(P.MILLI_OF_SECOND);this._putFieldValue0(P.NANO_OF_SECOND,1e6*m)}},n._resolveTimeInferZeroes=function(e){var t=this.fieldValues.get(P.HOUR_OF_DAY),n=this.fieldValues.get(P.MINUTE_OF_HOUR),r=this.fieldValues.get(P.SECOND_OF_MINUTE),i=this.fieldValues.get(P.NANO_OF_SECOND);if(null!=t&&(null!=n||null==r&&null==i)&&(null==n||null!=r||null==i)){if(e!==V.LENIENT){if(null!=t){e===V.SMART&&24===t&&(null==n||0===n)&&(null==r||0===r)&&(null==i||0===i)&&(t=0,this.excessDays=Y.ofDays(1));var o=P.HOUR_OF_DAY.checkValidIntValue(t);if(null!=n){var s=P.MINUTE_OF_HOUR.checkValidIntValue(n);if(null!=r){var a=P.SECOND_OF_MINUTE.checkValidIntValue(r);if(null!=i){var l=P.NANO_OF_SECOND.checkValidIntValue(i);this._addObject(e5.of(o,s,a,l))}else this._addObject(e5.of(o,s,a))}else null==i&&this._addObject(e5.of(o,s))}else null==r&&null==i&&this._addObject(e5.of(o,0))}}else if(null!=t){var c=t;if(null!=n){if(null!=r){null==i&&(i=0);var u=S.safeMultiply(c,36e11);u=S.safeAdd(u,S.safeMultiply(n,6e10)),u=S.safeAdd(u,S.safeMultiply(r,1e9)),u=S.safeAdd(u,i);var h=S.floorDiv(u,864e11),d=S.floorMod(u,864e11);this._addObject(e5.ofNanoOfDay(d)),this.excessDays=Y.ofDays(h)}else{var f=S.safeMultiply(c,3600);f=S.safeAdd(f,S.safeMultiply(n,60));var p=S.floorDiv(f,86400),m=S.floorMod(f,86400);this._addObject(e5.ofSecondOfDay(m)),this.excessDays=Y.ofDays(p)}}else{var g=S.safeToInt(S.floorDiv(c,24));c=S.floorMod(c,24),this._addObject(e5.of(c,0)),this.excessDays=Y.ofDays(g)}}this.fieldValues.remove(P.HOUR_OF_DAY),this.fieldValues.remove(P.MINUTE_OF_HOUR),this.fieldValues.remove(P.SECOND_OF_MINUTE),this.fieldValues.remove(P.NANO_OF_SECOND)}},n._addObject=function(e){e instanceof z?this.date=e:e instanceof e5&&(this.time=e)},n._resolveInstant=function(){if(null!=this.date&&null!=this.time){var e=this.fieldValues.get(P.OFFSET_SECONDS);if(null!=e){var t=J.ofTotalSeconds(e),n=this.date.atTime(this.time).atZone(t).getLong(P.INSTANT_SECONDS);this.fieldValues.put(P.INSTANT_SECONDS,n)}else if(null!=this.zone){var r=this.date.atTime(this.time).atZone(this.zone).getLong(P.INSTANT_SECONDS);this.fieldValues.put(P.INSTANT_SECONDS,r)}}},n.build=function(e){return e.queryFrom(this)},n.isSupported=function(e){return null!=e&&(this.fieldValues.containsKey(e)&&void 0!==this.fieldValues.get(e)||null!=this.date&&this.date.isSupported(e)||null!=this.time&&this.time.isSupported(e))},n.getLong=function(e){T(e,"field");var t=this.getFieldValue0(e);if(null==t){if(null!=this.date&&this.date.isSupported(e))return this.date.getLong(e);if(null!=this.time&&this.time.isSupported(e))return this.time.getLong(e);throw new c("Field not found: "+e)}return t},n.query=function(e){if(e===M.zoneId())return this.zone;if(e===M.chronology())return this.chrono;if(e===M.localDate())return null!=this.date?e2.from(this.date):null;if(e===M.localTime())return this.time;if(e===M.zone()||e===M.offset());else if(e===M.precision())return null;return e.queryFrom(this)},t}(L),et=function(){function e(){if(1==arguments.length){if(arguments[0]instanceof e){this._constructorSelf.apply(this,arguments);return}this._constructorFormatter.apply(this,arguments)}else this._constructorParam.apply(this,arguments);this._caseSensitive=!0,this._strict=!0,this._parsed=[new en(this)]}var t=e.prototype;return t._constructorParam=function(e,t,n){this._locale=e,this._symbols=t,this._overrideChronology=n},t._constructorFormatter=function(e){this._locale=e.locale(),this._symbols=e.decimalStyle(),this._overrideChronology=e.chronology()},t._constructorSelf=function(e){this._locale=e._locale,this._symbols=e._symbols,this._overrideChronology=e._overrideChronology,this._overrideZone=e._overrideZone,this._caseSensitive=e._caseSensitive,this._strict=e._strict,this._parsed=[new en(this)]},t.copy=function(){return new e(this)},t.symbols=function(){return this._symbols},t.isStrict=function(){return this._strict},t.setStrict=function(e){this._strict=e},t.locale=function(){return this._locale},t.setLocale=function(e){this._locale=e},t.startOptional=function(){this._parsed.push(this.currentParsed().copy())},t.endOptional=function(e){e?this._parsed.splice(this._parsed.length-2,1):this._parsed.splice(this._parsed.length-1,1)},t.isCaseSensitive=function(){return this._caseSensitive},t.setCaseSensitive=function(e){this._caseSensitive=e},t.subSequenceEquals=function(e,t,n,r,i){if(t+i>e.length||r+i>n.length)return!1;this.isCaseSensitive()||(e=e.toLowerCase(),n=n.toLowerCase());for(var o=0;o<i;o++)if(e[t+o]!==n[r+o])return!1;return!0},t.charEquals=function(e,t){return this.isCaseSensitive()?e===t:this.charEqualsIgnoreCase(e,t)},t.charEqualsIgnoreCase=function(e,t){return e===t||e.toLowerCase()===t.toLowerCase()},t.setParsedField=function(e,t,n,r){var i=this.currentParsed().fieldValues,o=i.get(e);return i.set(e,t),null!=o&&o!==t?~n:r},t.setParsedZone=function(e){T(e,"zone"),this.currentParsed().zone=e},t.getParsed=function(e){return this.currentParsed().fieldValues.get(e)},t.toParsed=function(){return this.currentParsed()},t.currentParsed=function(){return this._parsed[this._parsed.length-1]},t.setParsedLeapSecond=function(){this.currentParsed().leapSecond=!0},t.getEffectiveChronology=function(){var e=this.currentParsed().chrono;return null==e&&null==(e=this._overrideChronology)&&(e=eQ.INSTANCE),e},e}(),en=function(e){function t(t){var n;return(n=e.call(this)||this).chrono=null,n.zone=null,n.fieldValues=new H,n.leapSecond=!1,n.dateTimeParseContext=t,n}g(t,e);var n=t.prototype;return n.copy=function(){var e=new t;return e.chrono=this.chrono,e.zone=this.zone,e.fieldValues.putAll(this.fieldValues),e.leapSecond=this.leapSecond,e.dateTimeParseContext=this.dateTimeParseContext,e},n.toString=function(){return this.fieldValues+", "+this.chrono+", "+this.zone},n.isSupported=function(e){return this.fieldValues.containsKey(e)},n.get=function(e){var t=this.fieldValues.get(e);return E(null!=t),t},n.query=function(t){return t===M.chronology()?this.chrono:t===M.zoneId()||t===M.zone()?this.zone:e.prototype.query.call(this,t)},n.toBuilder=function(){var e=new ee;return e.fieldValues.putAll(this.fieldValues),e.chrono=this.dateTimeParseContext.getEffectiveChronology(),null!=this.zone?e.zone=this.zone:e.zone=this.overrideZone,e.leapSecond=this.leapSecond,e.excessDays=this.excessDays,e},t}($),er=function(){function e(t,n,r){2==arguments.length&&arguments[1]instanceof ej?(this._temporal=e.adjust(t,n),this._locale=n.locale(),this._symbols=n.decimalStyle()):(this._temporal=t,this._locale=n,this._symbols=r),this._optional=0}e.adjust=function(e,t){return e};var t=e.prototype;return t.symbols=function(){return this._symbols},t.startOptional=function(){this._optional++},t.endOptional=function(){this._optional--},t.getValueQuery=function(e){var t=this._temporal.query(e);if(null==t&&0===this._optional)throw new c("Unable to extract value: "+this._temporal);return t},t.getValue=function(e){try{return this._temporal.getLong(e)}catch(e){if(e instanceof c&&this._optional>0)return null;throw e}},t.temporal=function(){return this._temporal},t.locale=function(){return this._locale},t.setDateTime=function(e){this._temporal=e},t.setLocale=function(e){this._locale=e},e}(),ei={},eo=[0,90,181,273,0,91,182,274],es=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var n=t.prototype;return n.isDateBased=function(){return!0},n.isTimeBased=function(){return!1},n._isIso=function(){return!0},t._getWeekRangeByLocalDate=function(e){var n=t._getWeekBasedYear(e);return k.of(1,t._getWeekRangeByYear(n))},t._getWeekRangeByYear=function(e){var t=e2.of(e,1,1);return t.dayOfWeek()===F.THURSDAY||t.dayOfWeek()===F.WEDNESDAY&&t.isLeapYear()?53:52},t._getWeek=function(e){var n=e.dayOfWeek().ordinal(),r=e.dayOfYear()-1,i=r+(3-n),o=S.intDiv(i,7),s=i-7*o-3;if(s<-3&&(s+=7),r<s)return t._getWeekRangeByLocalDate(e.withDayOfYear(180).minusYears(1)).maximum();var a=S.intDiv(r-s,7)+1;return 53===a&&!1===(-3===s||-2===s&&e.isLeapYear())&&(a=1),a},t._getWeekBasedYear=function(e){var t=e.year(),n=e.dayOfYear();if(n<=3)n-e.dayOfWeek().ordinal()<-2&&t--;else if(n>=363){var r=e.dayOfWeek().ordinal();(n=n-363-(e.isLeapYear()?1:0))-r>=0&&t++}return t},n.displayName=function(){return this.toString()},n.resolve=function(){return null},n.name=function(){return this.toString()},t}(D),ea=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var n=t.prototype;return n.toString=function(){return"DayOfQuarter"},n.baseUnit=function(){return R.DAYS},n.rangeUnit=function(){return ey},n.range=function(){return k.of(1,90,92)},n.isSupportedBy=function(e){return e.isSupported(P.DAY_OF_YEAR)&&e.isSupported(P.MONTH_OF_YEAR)&&e.isSupported(P.YEAR)&&this._isIso(e)},n.rangeRefinedBy=function(e){if(!1===e.isSupported(this))throw new h("Unsupported field: DayOfQuarter");var t=e.getLong(ef);if(1===t){var n=e.getLong(P.YEAR);return eQ.isLeapYear(n)?k.of(1,91):k.of(1,90)}return 2===t?k.of(1,91):3===t||4===t?k.of(1,92):this.range()},n.getFrom=function(e){if(!1===e.isSupported(this))throw new h("Unsupported field: DayOfQuarter");var t=e.get(P.DAY_OF_YEAR),n=e.get(P.MONTH_OF_YEAR),r=e.getLong(P.YEAR);return t-eo[S.intDiv(n-1,3)+(eQ.isLeapYear(r)?4:0)]},n.adjustInto=function(e,t){var n=this.getFrom(e);return this.range().checkValidValue(t,this),e.with(P.DAY_OF_YEAR,e.getLong(P.DAY_OF_YEAR)+(t-n))},n.resolve=function(e,t,n){var r,i=e.get(P.YEAR),o=e.get(ef);if(null==i||null==o)return null;var s=P.YEAR.checkValidIntValue(i),a=e.get(ed);if(n===V.LENIENT)r=(r=(r=e2.of(s,1,1)).plusMonths(S.safeMultiply(S.safeSubtract(o,1),3))).plusDays(S.safeSubtract(a,1));else{var l=ef.range().checkValidIntValue(o,ef);if(n===V.STRICT){var c=92;1===l?c=eQ.isLeapYear(s)?91:90:2===l&&(c=91),k.of(1,c).checkValidValue(a,this)}else this.range().checkValidValue(a,this);r=e2.of(s,(l-1)*3+1,1).plusDays(a-1)}return e.remove(this),e.remove(P.YEAR),e.remove(ef),r},t}(es),el=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var n=t.prototype;return n.toString=function(){return"QuarterOfYear"},n.baseUnit=function(){return ey},n.rangeUnit=function(){return R.YEARS},n.range=function(){return k.of(1,4)},n.isSupportedBy=function(e){return e.isSupported(P.MONTH_OF_YEAR)&&this._isIso(e)},n.rangeRefinedBy=function(e){return this.range()},n.getFrom=function(e){if(!1===e.isSupported(this))throw new h("Unsupported field: QuarterOfYear");var t=e.getLong(P.MONTH_OF_YEAR);return S.intDiv(t+2,3)},n.adjustInto=function(e,t){var n=this.getFrom(e);return this.range().checkValidValue(t,this),e.with(P.MONTH_OF_YEAR,e.getLong(P.MONTH_OF_YEAR)+(t-n)*3)},t}(es),ec=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var n=t.prototype;return n.toString=function(){return"WeekOfWeekBasedYear"},n.baseUnit=function(){return R.WEEKS},n.rangeUnit=function(){return eg},n.range=function(){return k.of(1,52,53)},n.isSupportedBy=function(e){return e.isSupported(P.EPOCH_DAY)&&this._isIso(e)},n.rangeRefinedBy=function(e){if(!1===e.isSupported(this))throw new h("Unsupported field: WeekOfWeekBasedYear");return es._getWeekRangeByLocalDate(e2.from(e))},n.getFrom=function(e){if(!1===e.isSupported(this))throw new h("Unsupported field: WeekOfWeekBasedYear");return es._getWeek(e2.from(e))},n.adjustInto=function(e,t){return this.range().checkValidValue(t,this),e.plus(S.safeSubtract(t,this.getFrom(e)),R.WEEKS)},n.resolve=function(e,t,n){var r,i=e.get(em),o=e.get(P.DAY_OF_WEEK);if(null==i||null==o)return null;var s=em.range().checkValidIntValue(i,em),a=e.get(ep);if(n===V.LENIENT){var l=o,c=0;l>7?(c=S.intDiv(l-1,7),l=S.intMod(l-1,7)+1):l<1&&(c=S.intDiv(l,7)-1,l=S.intMod(l,7)+7),r=e2.of(s,1,4).plusWeeks(a-1).plusWeeks(c).with(P.DAY_OF_WEEK,l)}else{var u=P.DAY_OF_WEEK.checkValidIntValue(o);if(n===V.STRICT){var h=e2.of(s,1,4);es._getWeekRangeByLocalDate(h).checkValidValue(a,this)}else this.range().checkValidValue(a,this);r=e2.of(s,1,4).plusWeeks(a-1).with(P.DAY_OF_WEEK,u)}return e.remove(this),e.remove(em),e.remove(P.DAY_OF_WEEK),r},n.displayName=function(){return"Week"},t}(es),eu=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var n=t.prototype;return n.toString=function(){return"WeekBasedYear"},n.baseUnit=function(){return eg},n.rangeUnit=function(){return R.FOREVER},n.range=function(){return P.YEAR.range()},n.isSupportedBy=function(e){return e.isSupported(P.EPOCH_DAY)&&this._isIso(e)},n.rangeRefinedBy=function(e){return P.YEAR.range()},n.getFrom=function(e){if(!1===e.isSupported(this))throw new h("Unsupported field: WeekBasedYear");return es._getWeekBasedYear(e2.from(e))},n.adjustInto=function(e,t){if(!1===this.isSupportedBy(e))throw new h("Unsupported field: WeekBasedYear");var n=this.range().checkValidIntValue(t,em),r=e2.from(e),i=r.get(P.DAY_OF_WEEK),o=es._getWeek(r);53===o&&52===es._getWeekRangeByYear(n)&&(o=52);var s=e2.of(n,1,4),a=i-s.get(P.DAY_OF_WEEK)+(o-1)*7;return s=s.plusDays(a),e.with(s)},t}(es),eh=function(e){function t(t,n){var r;return(r=e.call(this)||this)._name=t,r._duration=n,r}g(t,e);var n=t.prototype;return n.duration=function(){return this._duration},n.isDurationEstimated=function(){return!0},n.isDateBased=function(){return!0},n.isTimeBased=function(){return!1},n.isSupportedBy=function(e){return e.isSupported(P.EPOCH_DAY)},n.addTo=function(e,t){switch(this){case eg:var n=S.safeAdd(e.get(em),t);return e.with(em,n);case ey:return e.plus(S.intDiv(t,256),R.YEARS).plus(3*S.intMod(t,256),R.MONTHS);default:throw new p("Unreachable")}},n.between=function(e,t){switch(this){case eg:return S.safeSubtract(t.getLong(em),e.getLong(em));case ey:return S.intDiv(e.until(t,R.MONTHS),3);default:throw new p("Unreachable")}},n.toString=function(){return this._name},t}(C),ed=null,ef=null,ep=null,em=null,eg=null,ey=null,e_=function(){function e(e,t,n,r){this._zeroDigit=e,this._zeroDigitCharCode=e.charCodeAt(0),this._positiveSign=t,this._negativeSign=n,this._decimalSeparator=r}var t=e.prototype;return t.positiveSign=function(){return this._positiveSign},t.withPositiveSign=function(t){return t===this._positiveSign?this:new e(this._zeroDigit,t,this._negativeSign,this._decimalSeparator)},t.negativeSign=function(){return this._negativeSign},t.withNegativeSign=function(t){return t===this._negativeSign?this:new e(this._zeroDigit,this._positiveSign,t,this._decimalSeparator)},t.zeroDigit=function(){return this._zeroDigit},t.withZeroDigit=function(t){return t===this._zeroDigit?this:new e(t,this._positiveSign,this._negativeSign,this._decimalSeparator)},t.decimalSeparator=function(){return this._decimalSeparator},t.withDecimalSeparator=function(t){return t===this._decimalSeparator?this:new e(this._zeroDigit,this._positiveSign,this._negativeSign,t)},t.convertToDigit=function(e){var t=e.charCodeAt(0)-this._zeroDigitCharCode;return t>=0&&t<=9?t:-1},t.convertNumberToI18N=function(e){if("0"===this._zeroDigit)return e;for(var t=this._zeroDigitCharCode-48,n="",r=0;r<e.length;r++)n+=String.fromCharCode(e.charCodeAt(r)+t);return n},t.equals=function(t){return this===t||t instanceof e&&this._zeroDigit===t._zeroDigit&&this._positiveSign===t._positiveSign&&this._negativeSign===t._negativeSign&&this._decimalSeparator===t._decimalSeparator},t.hashCode=function(){return this._zeroDigit+this._positiveSign+this._negativeSign+this._decimalSeparator},t.toString=function(){return"DecimalStyle["+this._zeroDigit+this._positiveSign+this._negativeSign+this._decimalSeparator+"]"},e.of=function(){throw Error("not yet supported")},e.availableLocales=function(){throw Error("not yet supported")},e}();e_.STANDARD=new e_("0","+","-",".");var eE=function(e){function t(){return e.apply(this,arguments)||this}return g(t,e),t.prototype.parse=function(e,n,r){switch(this){case t.NORMAL:return!e||!n;case t.ALWAYS:case t.EXCEEDS_PAD:return!0;default:return!n&&!r}},t}(A);eE.NORMAL=new eE("NORMAL"),eE.NEVER=new eE("NEVER"),eE.ALWAYS=new eE("ALWAYS"),eE.EXCEEDS_PAD=new eE("EXCEEDS_PAD"),eE.NOT_NEGATIVE=new eE("NOT_NEGATIVE");var eT=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var n=t.prototype;return n.isStandalone=function(){switch(this){case t.FULL_STANDALONE:case t.SHORT_STANDALONE:case t.NARROW_STANDALONE:return!0;default:return!1}},n.asStandalone=function(){switch(this){case t.FULL:return t.FULL_STANDALONE;case t.SHORT:return t.SHORT_STANDALONE;case t.NARROW:return t.NARROW_STANDALONE;default:return this}},n.asNormal=function(){switch(this){case t.FULL_STANDALONE:return t.FULL;case t.SHORT_STANDALONE:return t.SHORT;case t.NARROW_STANDALONE:return t.NARROW;default:return this}},t}(A);eT.FULL=new eT("FULL"),eT.FULL_STANDALONE=new eT("FULL_STANDALONE"),eT.SHORT=new eT("SHORT"),eT.SHORT_STANDALONE=new eT("SHORT_STANDALONE"),eT.NARROW=new eT("NARROW"),eT.NARROW_STANDALONE=new eT("NARROW_STANDALONE");var ew=function(){function e(e){if(e.length>1)throw new f('invalid literal, too long: "'+e+'"');this._literal=e}var t=e.prototype;return t.print=function(e,t){return t.append(this._literal),!0},t.parse=function(e,t,n){if(n===t.length)return~n;var r=t.charAt(n);return!1===e.charEquals(this._literal,r)?~n:n+this._literal.length},t.toString=function(){return"'"===this._literal?"''":"'"+this._literal+"'"},e}(),eb=function(){function e(e,t){this._printerParsers=e,this._optional=t}var t=e.prototype;return t.withOptional=function(t){return t===this._optional?this:new e(this._printerParsers,t)},t.print=function(e,t){var n=t.length();this._optional&&e.startOptional();try{for(var r=0;r<this._printerParsers.length;r++){var i=this._printerParsers[r];if(!1===i.print(e,t))return t.setLength(n),!0}}finally{this._optional&&e.endOptional()}return!0},t.parse=function(e,t,n){if(this._optional){e.startOptional();for(var r=n,i=0;i<this._printerParsers.length;i++)if((r=this._printerParsers[i].parse(e,t,r))<0)return e.endOptional(!1),n;return e.endOptional(!0),r}for(var o=0;o<this._printerParsers.length&&!((n=this._printerParsers[o].parse(e,t,n))<0);o++);return n},t.toString=function(){var e="";if(null!=this._printerParsers){e+=this._optional?"[":"(";for(var t=0;t<this._printerParsers.length;t++)e+=this._printerParsers[t].toString();e+=this._optional?"]":")"}return e},e}(),ev=function(){function e(e,t,n,r){if(T(e,"field"),!1===e.range().isFixed())throw new f("Field must have a fixed set of values: "+e);if(t<0||t>9)throw new f("Minimum width must be from 0 to 9 inclusive but was "+t);if(n<1||n>9)throw new f("Maximum width must be from 1 to 9 inclusive but was "+n);if(n<t)throw new f("Maximum width must exceed or equal the minimum width but "+n+" < "+t);this.field=e,this.minWidth=t,this.maxWidth=n,this.decimalPoint=r}var t=e.prototype;return t.print=function(e,t){var n=e.getValue(this.field);if(null===n)return!1;var r=e.symbols();if(0===n){if(this.minWidth>0){this.decimalPoint&&t.append(r.decimalSeparator());for(var i=0;i<this.minWidth;i++)t.append(r.zeroDigit())}}else{var o=this.convertToFraction(n,r.zeroDigit()),s=Math.min(Math.max(o.length,this.minWidth),this.maxWidth);if(1*(o=o.substr(0,s))>0)for(;o.length>this.minWidth&&"0"===o[o.length-1];)o=o.substr(0,o.length-1);var a=o;a=r.convertNumberToI18N(a),this.decimalPoint&&t.append(r.decimalSeparator()),t.append(a)}return!0},t.parse=function(e,t,n){var r=e.isStrict()?this.minWidth:0,i=e.isStrict()?this.maxWidth:9,o=t.length;if(n===o)return r>0?~n:n;if(this.decimalPoint){if(t[n]!==e.symbols().decimalSeparator())return r>0?~n:n;n++}var s=n+r;if(s>o)return~n;for(var a=Math.min(n+i,o),l=0,c=n;c<a;){var u=t.charAt(c++),h=e.symbols().convertToDigit(u);if(h<0){if(c<s)return~n;c--;break}l=10*l+h}var d=c-n,f=this.convertFromFraction(l,Math.pow(10,d));return e.setParsedField(this.field,f,n,c)},t.convertToFraction=function(e,t){var n=this.field.range();n.checkValidValue(e,this.field);for(var r=n.minimum(),i=n.maximum()-r+1,o=e-r,s=""+S.intDiv(1e9*o,i);s.length<9;)s=t+s;return s},t.convertFromFraction=function(e,t){var n=this.field.range(),r=n.minimum(),i=n.maximum()-r+1;return S.intDiv(e*i,t)},t.toString=function(){var e=this.decimalPoint?",DecimalPoint":"";return"Fraction("+this.field+","+this.minWidth+","+this.maxWidth+e+")"},e}(),eS=[0,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9],eA=function(){function e(e,t,n,r,i){void 0===i&&(i=0),this._field=e,this._minWidth=t,this._maxWidth=n,this._signStyle=r,this._subsequentWidth=i}var t=e.prototype;return t.field=function(){return this._field},t.minWidth=function(){return this._minWidth},t.maxWidth=function(){return this._maxWidth},t.signStyle=function(){return this._signStyle},t.withFixedWidth=function(){return -1===this._subsequentWidth?this:new e(this._field,this._minWidth,this._maxWidth,this._signStyle,-1)},t.withSubsequentWidth=function(t){return new e(this._field,this._minWidth,this._maxWidth,this._signStyle,this._subsequentWidth+t)},t._isFixedWidth=function(){return -1===this._subsequentWidth||this._subsequentWidth>0&&this._minWidth===this._maxWidth&&this._signStyle===eE.NOT_NEGATIVE},t.print=function(e,t){var n=e.getValue(this._field);if(null==n)return!1;var r=this._getValue(e,n),i=e.symbols(),o=""+Math.abs(r);if(o.length>this._maxWidth)throw new c("Field "+this._field+" cannot be printed as the value "+r+" exceeds the maximum print width of "+this._maxWidth);if(o=i.convertNumberToI18N(o),r>=0)switch(this._signStyle){case eE.EXCEEDS_PAD:this._minWidth<15&&r>=eS[this._minWidth]&&t.append(i.positiveSign());break;case eE.ALWAYS:t.append(i.positiveSign())}else switch(this._signStyle){case eE.NORMAL:case eE.EXCEEDS_PAD:case eE.ALWAYS:t.append(i.negativeSign());break;case eE.NOT_NEGATIVE:throw new c("Field "+this._field+" cannot be printed as the value "+r+" cannot be negative according to the SignStyle")}for(var s=0;s<this._minWidth-o.length;s++)t.append(i.zeroDigit());return t.append(o),!0},t.parse=function(e,t,n){var r=t.length;if(n===r)return~n;E(n>=0&&n<r);var i=t.charAt(n),o=!1,s=!1;if(i===e.symbols().positiveSign()){if(!1===this._signStyle.parse(!0,e.isStrict(),this._minWidth===this._maxWidth))return~n;s=!0,n++}else if(i===e.symbols().negativeSign()){if(!1===this._signStyle.parse(!1,e.isStrict(),this._minWidth===this._maxWidth))return~n;o=!0,n++}else if(this._signStyle===eE.ALWAYS&&e.isStrict())return~n;var a=e.isStrict()||this._isFixedWidth()?this._minWidth:1,l=n+a;if(l>r)return~n;for(var c=(e.isStrict()||this._isFixedWidth()?this._maxWidth:9)+Math.max(this._subsequentWidth,0),u=0,h=n,f=0;f<2;f++){for(var p=Math.min(h+c,r);h<p;){var m=t.charAt(h++),g=e.symbols().convertToDigit(m);if(g<0){if(--h<l)return~n;break}if(h-n>15)throw new d("number text exceeds length");u=10*u+g}if(this._subsequentWidth>0&&0===f)c=Math.max(a,h-n-this._subsequentWidth),h=n,u=0;else break}if(o){if(0===u&&e.isStrict())return~(n-1);0!==u&&(u=-u)}else if(this._signStyle===eE.EXCEEDS_PAD&&e.isStrict()){var y=h-n;if(s){if(y<=this._minWidth)return~(n-1)}else if(y>this._minWidth)return~n}return this._setValue(e,u,n,h)},t._getValue=function(e,t){return t},t._setValue=function(e,t,n,r){return e.setParsedField(this._field,t,n,r)},t.toString=function(){return 1===this._minWidth&&15===this._maxWidth&&this._signStyle===eE.NORMAL?"Value("+this._field+")":this._minWidth===this._maxWidth&&this._signStyle===eE.NOT_NEGATIVE?"Value("+this._field+","+this._minWidth+")":"Value("+this._field+","+this._minWidth+","+this._maxWidth+","+this._signStyle+")"},e}(),eI=function(e){function t(t,n,r,i,o){var s;if(s=e.call(this,t,n,r,eE.NOT_NEGATIVE)||this,n<1||n>10)throw new f("The width must be from 1 to 10 inclusive but was "+n);if(r<1||r>10)throw new f("The maxWidth must be from 1 to 10 inclusive but was "+r);if(r<n)throw new f("The maxWidth must be greater than the width");if(null===o){if(!1===t.range().isValidValue(i))throw new f("The base value must be within the range of the field");if(i+eS[n]>S.MAX_SAFE_INTEGER)throw new c("Unable to add printer-parser as the range exceeds the capacity of an int")}return s._baseValue=i,s._baseDate=o,s}g(t,e);var n=t.prototype;return n._getValue=function(e,t){var n=Math.abs(t),r=this._baseValue;return(null!==this._baseDate&&(e.temporal(),r=eQ.INSTANCE.date(this._baseDate).get(this._field)),t>=r&&t<r+eS[this._minWidth])?n%eS[this._minWidth]:n%eS[this._maxWidth]},n._setValue=function(e,t,n,r){var i=this._baseValue;if(null!=this._baseDate&&(i=e.getEffectiveChronology().date(this._baseDate).get(this._field)),r-n===this._minWidth&&t>=0){var o=eS[this._minWidth],s=i%o,a=i-s;(t=i>0?a+t:a-t)<i&&(t+=o)}return e.setParsedField(this._field,t,n,r)},n.withFixedWidth=function(){return -1===this._subsequentWidth?this:new t(this._field,this._minWidth,this._maxWidth,this._baseValue,this._baseDate)},n.withSubsequentWidth=function(e){return new t(this._field,this._minWidth,this._maxWidth,this._baseValue,this._baseDate,this._subsequentWidth+e)},n.isFixedWidth=function(t){return!1!==t.isStrict()&&e.prototype.isFixedWidth.call(this,t)},n.toString=function(){return"ReducedValue("+this._field+","+this._minWidth+","+this._maxWidth+","+(null!=this._baseDate?this._baseDate:this._baseValue)+")"},t}(eA),eC=["+HH","+HHmm","+HH:mm","+HHMM","+HH:MM","+HHMMss","+HH:MM:ss","+HHMMSS","+HH:MM:SS"],eO=function(){function e(e,t){T(e,"noOffsetText"),T(t,"pattern"),this.noOffsetText=e,this.type=this._checkPattern(t)}var t=e.prototype;return t._checkPattern=function(e){for(var t=0;t<eC.length;t++)if(eC[t]===e)return t;throw new f("Invalid zone offset pattern: "+e)},t.print=function(e,t){var n=e.getValue(P.OFFSET_SECONDS);if(null==n)return!1;var r=S.safeToInt(n);if(0===r)t.append(this.noOffsetText);else{var i=Math.abs(S.intMod(S.intDiv(r,3600),100)),o=Math.abs(S.intMod(S.intDiv(r,60),60)),s=Math.abs(S.intMod(r,60)),a=t.length(),l=i;t.append(r<0?"-":"+").appendChar(S.intDiv(i,10)+"0").appendChar(S.intMod(i,10)+"0"),(this.type>=3||this.type>=1&&o>0)&&(t.append(this.type%2==0?":":"").appendChar(S.intDiv(o,10)+"0").appendChar(o%10+"0"),l+=o,(this.type>=7||this.type>=5&&s>0)&&(t.append(this.type%2==0?":":"").appendChar(S.intDiv(s,10)+"0").appendChar(s%10+"0"),l+=s)),0===l&&(t.setLength(a),t.append(this.noOffsetText))}return!0},t.parse=function(e,t,n){var r=t.length,i=this.noOffsetText.length;if(0===i){if(n===r)return e.setParsedField(P.OFFSET_SECONDS,0,n,n)}else{if(n===r)return~n;if(e.subSequenceEquals(t,n,this.noOffsetText,0,i))return e.setParsedField(P.OFFSET_SECONDS,0,n,n+i)}var o=t[n];if("+"===o||"-"===o){var s=[0,0,0,0];if(s[0]=n+1,!1===(this._parseNumber(s,1,t,!0)||this._parseNumber(s,2,t,this.type>=3)||this._parseNumber(s,3,t,!1))){var a=S.safeZero(("-"===o?-1:1)*(3600*s[1]+60*s[2]+s[3]));return e.setParsedField(P.OFFSET_SECONDS,a,n,s[0])}}return 0===i?e.setParsedField(P.OFFSET_SECONDS,0,n,n+i):~n},t._parseNumber=function(e,t,n,r){if((this.type+3)/2<t)return!1;var i=e[0];if(this.type%2==0&&t>1){if(i+1>n.length||":"!==n[i])return r;i++}if(i+2>n.length)return r;var o=n[i++],s=n[i++];if(o<"0"||o>"9"||s<"0"||s>"9")return r;var a=(o.charCodeAt(0)-48)*10+(s.charCodeAt(0)-48);return a<0||a>59?r:(e[t]=a,e[0]=i,!1)},t.toString=function(){var e=this.noOffsetText.replace("'","''");return"Offset("+eC[this.type]+",'"+e+"')"},e}();eO.INSTANCE_ID=new eO("Z","+HH:MM:ss"),eO.PATTERNS=eC;var eN=function(){function e(e,t,n){this._printerParser=e,this._padWidth=t,this._padChar=n}var t=e.prototype;return t.print=function(e,t){var n=t.length();if(!1===this._printerParser.print(e,t))return!1;var r=t.length()-n;if(r>this._padWidth)throw new c("Cannot print as output of "+r+" characters exceeds pad width of "+this._padWidth);for(var i=0;i<this._padWidth-r;i++)t.insert(n,this._padChar);return!0},t.parse=function(e,t,n){var r=e.isStrict(),i=e.isCaseSensitive();if(E(!(n>t.length)),E(n>=0),n===t.length)return~n;var o=n+this._padWidth;if(o>t.length){if(r)return~n;o=t.length}for(var s=n;s<o&&(i?t[s]===this._padChar:e.charEquals(t[s],this._padChar));)s++;t=t.substring(0,o);var a=this._printerParser.parse(e,t,s);return a!==o&&r?~(n+s):a},t.toString=function(){return"Pad("+this._printerParser+","+this._padWidth+(" "===this._padChar?")":",'"+this._padChar+"')")},e}(),eR=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var n=t.prototype;return n.print=function(){return!0},n.parse=function(e,n,r){switch(this){case t.SENSITIVE:e.setCaseSensitive(!0);break;case t.INSENSITIVE:e.setCaseSensitive(!1);break;case t.STRICT:e.setStrict(!0);break;case t.LENIENT:e.setStrict(!1)}return r},n.toString=function(){switch(this){case t.SENSITIVE:return"ParseCaseSensitive(true)";case t.INSENSITIVE:return"ParseCaseSensitive(false)";case t.STRICT:return"ParseStrict(true)";case t.LENIENT:return"ParseStrict(false)"}},t}(A);eR.SENSITIVE=new eR("SENSITIVE"),eR.INSENSITIVE=new eR("INSENSITIVE"),eR.STRICT=new eR("STRICT"),eR.LENIENT=new eR("LENIENT");var eD=function(){function e(e){this._literal=e}var t=e.prototype;return t.print=function(e,t){return t.append(this._literal),!0},t.parse=function(e,t,n){return(E(!(n>t.length||n<0)),!1===e.subSequenceEquals(t,n,this._literal,0,this._literal.length))?~n:n+this._literal.length},t.toString=function(){return"'"+this._literal.replace("'","''")+"'"},e}(),ek=function(){function e(){}return e.getRules=function(e){throw new c("unsupported ZoneId:"+e)},e.getAvailableZoneIds=function(){return[]},e}(),eP=function(e){function t(t,n){var r;return(r=e.call(this)||this)._id=t,r._rules=n,r}g(t,e),t.ofId=function(e){var n=ek.getRules(e);return new t(e,n)};var n=t.prototype;return n.id=function(){return this._id},n.rules=function(){return this._rules},t}(G),eM=function(){function e(e,t){this.query=e,this.description=t}var t=e.prototype;return t.print=function(e,t){var n=e.getValueQuery(this.query);return null!=n&&(t.append(n.id()),!0)},t.parse=function(e,t,n){var r=t.length;if(n>r||n===r)return~n;var i=t.charAt(n);if("+"===i||"-"===i){var o=e.copy(),s=eO.INSTANCE_ID.parse(o,t,n);if(s<0)return s;var a=o.getParsed(P.OFFSET_SECONDS),l=J.ofTotalSeconds(a);return e.setParsedZone(l),s}if(r>=n+2){var c=t.charAt(n+1);if(e.charEquals(i,"U")&&e.charEquals(c,"T"))return r>=n+3&&e.charEquals(t.charAt(n+2),"C")?this._parsePrefixedOffset(e,t,n,n+3):this._parsePrefixedOffset(e,t,n,n+2);if(e.charEquals(i,"G")&&r>=n+3&&e.charEquals(c,"M")&&e.charEquals(t.charAt(n+2),"T"))return this._parsePrefixedOffset(e,t,n,n+3)}if("SYSTEM"===t.substr(n,6))return e.setParsedZone(G.systemDefault()),n+6;if(e.charEquals(i,"Z"))return e.setParsedZone(J.UTC),n+1;var u=ek.getAvailableZoneIds();ex.size!==u.length&&(ex=eL.createTreeMap(u));for(var h=r-n,d=ex.treeMap,f=null,p=0;null!=d;){var m=t.substr(n,Math.min(d.length,h));null!=(d=d.get(m))&&d.isLeaf&&(f=m,p=d.length)}return null!=f?(e.setParsedZone(eP.ofId(f)),n+p):~n},t._parsePrefixedOffset=function(e,t,n,r){var i=t.substring(n,r).toUpperCase(),o=e.copy();if(r<t.length&&e.charEquals(t.charAt(r),"Z"))return e.setParsedZone(G.ofOffset(i,J.UTC)),r;var s=eO.INSTANCE_ID.parse(o,t,r);if(s<0)return e.setParsedZone(G.ofOffset(i,J.UTC)),r;var a=o.getParsed(P.OFFSET_SECONDS),l=J.ofTotalSeconds(a);return e.setParsedZone(G.ofOffset(i,l)),s},t.toString=function(){return this.description},e}(),eL=function(){function e(e,t){this.size=e,this.treeMap=t}return e.createTreeMap=function(t){for(var n=t.sort(function(e,t){return e.length-t.length}),r=new eU(n[0].length,!1),i=0;i<n.length;i++)r.add(n[i]);return new e(n.length,r)},e}(),eU=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=!1),this.length=e,this.isLeaf=t,this._treeMap={}}var t=e.prototype;return t.add=function(t){var n=t.length;if(n===this.length)this._treeMap[t]=new e(n,!0);else if(n>this.length){var r=t.substr(0,this.length),i=this._treeMap[r];null==i&&(i=new e(n,!1),this._treeMap[r]=i),i.add(t)}},t.get=function(e){return this._treeMap[e]},e}(),ex=new eL([]),eF=function(){function e(){this._active=this,this._parent=null,this._printerParsers=[],this._optional=!1,this._padNextWidth=0,this._padNextChar=null,this._valueParserIndex=-1}e._of=function(t,n){T(t,"parent"),T(n,"optional");var r=new e;return r._parent=t,r._optional=n,r};var t=e.prototype;return t.parseCaseSensitive=function(){return this._appendInternalPrinterParser(eR.SENSITIVE),this},t.parseCaseInsensitive=function(){return this._appendInternalPrinterParser(eR.INSENSITIVE),this},t.parseStrict=function(){return this._appendInternalPrinterParser(eR.STRICT),this},t.parseLenient=function(){return this._appendInternalPrinterParser(eR.LENIENT),this},t.parseDefaulting=function(e,t){return T(e),this._appendInternal(new eq(e,t)),this},t.appendValue=function(){return 1==arguments.length?this._appendValue1.apply(this,arguments):2==arguments.length?this._appendValue2.apply(this,arguments):this._appendValue4.apply(this,arguments)},t._appendValue1=function(e){return T(e),this._appendValuePrinterParser(new eA(e,1,15,eE.NORMAL)),this},t._appendValue2=function(e,t){if(T(e),t<1||t>15)throw new f("The width must be from 1 to 15 inclusive but was "+t);var n=new eA(e,t,t,eE.NOT_NEGATIVE);return this._appendValuePrinterParser(n),this},t._appendValue4=function(e,t,n,r){if(T(e),T(r),t===n&&r===eE.NOT_NEGATIVE)return this._appendValue2(e,n);if(t<1||t>15)throw new f("The minimum width must be from 1 to 15 inclusive but was "+t);if(n<1||n>15)throw new f("The minimum width must be from 1 to 15 inclusive but was "+n);if(n<t)throw new f("The maximum width must exceed or equal the minimum width but "+n+" < "+t);var i=new eA(e,t,n,r);return this._appendValuePrinterParser(i),this},t.appendValueReduced=function(){return 4==arguments.length&&arguments[3]instanceof z?this._appendValueReducedFieldWidthMaxWidthBaseDate.apply(this,arguments):this._appendValueReducedFieldWidthMaxWidthBaseValue.apply(this,arguments)},t._appendValueReducedFieldWidthMaxWidthBaseValue=function(e,t,n,r){T(e,"field");var i=new eI(e,t,n,r,null);return this._appendValuePrinterParser(i),this},t._appendValueReducedFieldWidthMaxWidthBaseDate=function(e,t,n,r){T(e,"field"),T(r,"baseDate"),w(r,z,"baseDate");var i=new eI(e,t,n,0,r);return this._appendValuePrinterParser(i),this},t._appendValuePrinterParser=function(e){if(E(null!=e),this._active._valueParserIndex>=0&&this._active._printerParsers[this._active._valueParserIndex]instanceof eA){var t=this._active._valueParserIndex,n=this._active._printerParsers[t];e.minWidth()===e.maxWidth()&&e.signStyle()===eE.NOT_NEGATIVE?(n=n.withSubsequentWidth(e.maxWidth()),this._appendInternal(e.withFixedWidth()),this._active._valueParserIndex=t):(n=n.withFixedWidth(),this._active._valueParserIndex=this._appendInternal(e)),this._active._printerParsers[t]=n}else this._active._valueParserIndex=this._appendInternal(e);return this},t.appendFraction=function(e,t,n,r){return this._appendInternal(new ev(e,t,n,r)),this},t.appendInstant=function(e){if(void 0===e&&(e=-2),e<-2||e>9)throw new f("Invalid fractional digits: "+e);return this._appendInternal(new eB(e)),this},t.appendOffsetId=function(){return this._appendInternal(eO.INSTANCE_ID),this},t.appendOffset=function(e,t){return this._appendInternalPrinterParser(new eO(t,e)),this},t.appendZoneId=function(){return this._appendInternal(new eM(M.zoneId(),"ZoneId()")),this},t.appendPattern=function(e){return T(e,"pattern"),this._parsePattern(e),this},t.appendZoneText=function(){throw new f("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},t.appendText=function(){throw new f("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},t.appendLocalizedOffset=function(){throw new f("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},t.appendWeekField=function(){throw new f("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},t._parsePattern=function(e){for(var t={G:P.ERA,y:P.YEAR_OF_ERA,u:P.YEAR,Q:ei.QUARTER_OF_YEAR,q:ei.QUARTER_OF_YEAR,M:P.MONTH_OF_YEAR,L:P.MONTH_OF_YEAR,D:P.DAY_OF_YEAR,d:P.DAY_OF_MONTH,F:P.ALIGNED_DAY_OF_WEEK_IN_MONTH,E:P.DAY_OF_WEEK,c:P.DAY_OF_WEEK,e:P.DAY_OF_WEEK,a:P.AMPM_OF_DAY,H:P.HOUR_OF_DAY,k:P.CLOCK_HOUR_OF_DAY,K:P.HOUR_OF_AMPM,h:P.CLOCK_HOUR_OF_AMPM,m:P.MINUTE_OF_HOUR,s:P.SECOND_OF_MINUTE,S:P.NANO_OF_SECOND,A:P.MILLI_OF_DAY,n:P.NANO_OF_SECOND,N:P.NANO_OF_DAY},n=0;n<e.length;n++){var r=e.charAt(n);if(r>="A"&&r<="Z"||r>="a"&&r<="z"){for(var i=n++;n<e.length&&e.charAt(n)===r;n++);var o=n-i;if("p"===r){var s=0;if(n<e.length&&((r=e.charAt(n))>="A"&&r<="Z"||r>="a"&&r<="z")){for(s=o,i=n++;n<e.length&&e.charAt(n)===r;n++);o=n-i}if(0===s)throw new f("Pad letter 'p' must be followed by valid pad pattern: "+e);this.padNext(s)}var a=t[r];if(null!=a)this._parseField(r,o,a);else if("z"===r){if(o>4)throw new f("Too many pattern letters: "+r);4===o?this.appendZoneText(eT.FULL):this.appendZoneText(eT.SHORT)}else if("V"===r){if(2!==o)throw new f("Pattern letter count must be 2: "+r);this.appendZoneId()}else if("Z"===r){if(o<4)this.appendOffset("+HHMM","+0000");else if(4===o)this.appendLocalizedOffset(eT.FULL);else if(5===o)this.appendOffset("+HH:MM:ss","Z");else throw new f("Too many pattern letters: "+r)}else if("O"===r){if(1===o)this.appendLocalizedOffset(eT.SHORT);else if(4===o)this.appendLocalizedOffset(eT.FULL);else throw new f("Pattern letter count must be 1 or 4: "+r)}else if("X"===r){if(o>5)throw new f("Too many pattern letters: "+r);this.appendOffset(eO.PATTERNS[o+(1===o?0:1)],"Z")}else if("x"===r){if(o>5)throw new f("Too many pattern letters: "+r);var l=1===o?"+00":o%2==0?"+0000":"+00:00";this.appendOffset(eO.PATTERNS[o+(1===o?0:1)],l)}else if("W"===r){if(o>1)throw new f("Too many pattern letters: "+r);this.appendWeekField("W",o)}else if("w"===r){if(o>2)throw new f("Too many pattern letters: "+r);this.appendWeekField("w",o)}else if("Y"===r)this.appendWeekField("Y",o);else throw new f("Unknown pattern letter: "+r);n--}else if("'"===r){for(var c=n++;n<e.length;n++)if("'"===e.charAt(n)){if(n+1<e.length&&"'"===e.charAt(n+1))n++;else break}if(n>=e.length)throw new f("Pattern ends with an incomplete string literal: "+e);var u=e.substring(c+1,n);0===u.length?this.appendLiteral("'"):this.appendLiteral(u.replace("''","'"))}else if("["===r)this.optionalStart();else if("]"===r){if(null===this._active._parent)throw new f("Pattern invalid as it contains ] without previous [");this.optionalEnd()}else if("{"===r||"}"===r||"#"===r)throw new f("Pattern includes reserved character: '"+r+"'");else this.appendLiteral(r)}},t._parseField=function(e,t,n){switch(e){case"u":case"y":2===t?this.appendValueReduced(n,2,2,eI.BASE_DATE):t<4?this.appendValue(n,t,15,eE.NORMAL):this.appendValue(n,t,15,eE.EXCEEDS_PAD);break;case"M":case"Q":switch(t){case 1:this.appendValue(n);break;case 2:this.appendValue(n,2);break;case 3:this.appendText(n,eT.SHORT);break;case 4:this.appendText(n,eT.FULL);break;case 5:this.appendText(n,eT.NARROW);break;default:throw new f("Too many pattern letters: "+e)}break;case"L":case"q":switch(t){case 1:this.appendValue(n);break;case 2:this.appendValue(n,2);break;case 3:this.appendText(n,eT.SHORT_STANDALONE);break;case 4:this.appendText(n,eT.FULL_STANDALONE);break;case 5:this.appendText(n,eT.NARROW_STANDALONE);break;default:throw new f("Too many pattern letters: "+e)}break;case"e":switch(t){case 1:case 2:this.appendWeekField("e",t);break;case 3:this.appendText(n,eT.SHORT);break;case 4:this.appendText(n,eT.FULL);break;case 5:this.appendText(n,eT.NARROW);break;default:throw new f("Too many pattern letters: "+e)}break;case"c":switch(t){case 1:this.appendWeekField("c",t);break;case 2:throw new f("Invalid number of pattern letters: "+e);case 3:this.appendText(n,eT.SHORT_STANDALONE);break;case 4:this.appendText(n,eT.FULL_STANDALONE);break;case 5:this.appendText(n,eT.NARROW_STANDALONE);break;default:throw new f("Too many pattern letters: "+e)}break;case"a":if(1===t)this.appendText(n,eT.SHORT);else throw new f("Too many pattern letters: "+e);break;case"E":case"G":switch(t){case 1:case 2:case 3:this.appendText(n,eT.SHORT);break;case 4:this.appendText(n,eT.FULL);break;case 5:this.appendText(n,eT.NARROW);break;default:throw new f("Too many pattern letters: "+e)}break;case"S":this.appendFraction(P.NANO_OF_SECOND,t,t,!1);break;case"F":if(1===t)this.appendValue(n);else throw new f("Too many pattern letters: "+e);break;case"d":case"h":case"H":case"k":case"K":case"m":case"s":if(1===t)this.appendValue(n);else if(2===t)this.appendValue(n,t);else throw new f("Too many pattern letters: "+e);break;case"D":if(1===t)this.appendValue(n);else if(t<=3)this.appendValue(n,t);else throw new f("Too many pattern letters: "+e);break;default:1===t?this.appendValue(n):this.appendValue(n,t)}},t.padNext=function(){return 1==arguments.length?this._padNext1.apply(this,arguments):this._padNext2.apply(this,arguments)},t._padNext1=function(e){return this._padNext2(e," ")},t._padNext2=function(e,t){if(e<1)throw new f("The pad width must be at least one but was "+e);return this._active._padNextWidth=e,this._active._padNextChar=t,this._active._valueParserIndex=-1,this},t.optionalStart=function(){return this._active._valueParserIndex=-1,this._active=e._of(this._active,!0),this},t.optionalEnd=function(){if(null==this._active._parent)throw new p("Cannot call optionalEnd() as there was no previous call to optionalStart()");if(this._active._printerParsers.length>0){var e=new eb(this._active._printerParsers,this._active._optional);this._active=this._active._parent,this._appendInternal(e)}else this._active=this._active._parent;return this},t._appendInternal=function(e){return E(null!=e),this._active._padNextWidth>0&&(null!=e&&(e=new eN(e,this._active._padNextWidth,this._active._padNextChar)),this._active._padNextWidth=0,this._active._padNextChar=0),this._active._printerParsers.push(e),this._active._valueParserIndex=-1,this._active._printerParsers.length-1},t.appendLiteral=function(e){return E(null!=e),e.length>0&&(1===e.length?this._appendInternalPrinterParser(new ew(e.charAt(0))):this._appendInternalPrinterParser(new eD(e))),this},t._appendInternalPrinterParser=function(e){return E(null!=e),this._active._padNextWidth>0&&(null!=e&&(e=new eN(e,this._active._padNextWidth,this._active._padNextChar)),this._active._padNextWidth=0,this._active._padNextChar=0),this._active._printerParsers.push(e),this._active._valueParserIndex=-1,this._active._printerParsers.length-1},t.append=function(e){return T(e,"formatter"),this._appendInternal(e._toPrinterParser(!1)),this},t.toFormatter=function(e){for(void 0===e&&(e=V.SMART);null!=this._active._parent;)this.optionalEnd();return new ej(new eb(this._printerParsers,!1),null,e_.STANDARD,e,null,null,null)},e}(),eB=function(){function e(e){this.fractionalDigits=e}var t=e.prototype;return t.print=function(e,t){var n=e.getValue(P.INSTANT_SECONDS),r=0;if(e.temporal().isSupported(P.NANO_OF_SECOND)&&(r=e.temporal().getLong(P.NANO_OF_SECOND)),null==n)return!1;var i=P.NANO_OF_SECOND.checkValidIntValue(r);if(n>=-62167219200){var o=n-31556952e4+62167219200,s=S.floorDiv(o,31556952e4)+1,a=S.floorMod(o,31556952e4),l=e8.ofEpochSecond(a-62167219200,0,J.UTC);s>0&&t.append("+").append(s),t.append(l.toString()),0===l.second()&&t.append(":00")}else{var c=n+62167219200,u=S.intDiv(c,31556952e4),h=S.intMod(c,31556952e4),d=e8.ofEpochSecond(h-62167219200,0,J.UTC),f=t.length();t.append(d.toString()),0===d.second()&&t.append(":00"),u<0&&(-1e4===d.year()?t.replace(f,f+2,""+(u-1)):0===h?t.insert(f,u):t.insert(f+1,Math.abs(u)))}if(-2===this.fractionalDigits)0!==i&&(t.append("."),0===S.intMod(i,1e6)?t.append((""+(S.intDiv(i,1e6)+1e3)).substring(1)):0===S.intMod(i,1e3)?t.append((""+(S.intDiv(i,1e3)+1e6)).substring(1)):t.append((""+(i+1e9)).substring(1)));else if(this.fractionalDigits>0||-1===this.fractionalDigits&&i>0){t.append(".");for(var p=1e8,m=0;-1===this.fractionalDigits&&i>0||m<this.fractionalDigits;m++){var g=S.intDiv(i,p);t.append(g),i-=g*p,p=S.intDiv(p,10)}}return t.append("Z"),!0},t.parse=function(e,t,n){var r,i=e.copy(),o=this.fractionalDigits<0?0:this.fractionalDigits,s=this.fractionalDigits<0?9:this.fractionalDigits,a=new eF().append(ej.ISO_LOCAL_DATE).appendLiteral("T").appendValue(P.HOUR_OF_DAY,2).appendLiteral(":").appendValue(P.MINUTE_OF_HOUR,2).appendLiteral(":").appendValue(P.SECOND_OF_MINUTE,2).appendFraction(P.NANO_OF_SECOND,o,s,!0).appendLiteral("Z").toFormatter()._toPrinterParser(!1).parse(i,t,n);if(a<0)return a;var l=i.getParsed(P.YEAR),c=i.getParsed(P.MONTH_OF_YEAR),u=i.getParsed(P.DAY_OF_MONTH),h=i.getParsed(P.HOUR_OF_DAY),d=i.getParsed(P.MINUTE_OF_HOUR),f=i.getParsed(P.SECOND_OF_MINUTE),p=i.getParsed(P.NANO_OF_SECOND),m=null!=f?f:0,g=null!=p?p:0,y=S.intMod(l,1e4),_=0;24===h&&0===d&&0===m&&0===g?(h=0,_=1):23===h&&59===d&&60===m&&(e.setParsedLeapSecond(),m=59);try{r=e8.of(y,c,u,h,d,m,0).plusDays(_).toEpochSecond(J.UTC)+S.safeMultiply(S.intDiv(l,1e4),31556952e4)}catch(e){return~n}var E=a;return E=e.setParsedField(P.INSTANT_SECONDS,r,n,E),e.setParsedField(P.NANO_OF_SECOND,g,n,E)},t.toString=function(){return"Instant()"},e}(),eq=function(){function e(e,t){this._field=e,this._value=t}var t=e.prototype;return t.print=function(){return!0},t.parse=function(e,t,n){return null==e.getParsed(this._field)&&e.setParsedField(this._field,this._value,n,n),n},e}(),eY=function(){function e(){this._str=""}var t=e.prototype;return t.append=function(e){return this._str+=e,this},t.appendChar=function(e){return this._str+=e[0],this},t.insert=function(e,t){return this._str=this._str.slice(0,e)+t+this._str.slice(e),this},t.replace=function(e,t,n){return this._str=this._str.slice(0,e)+n+this._str.slice(t),this},t.length=function(){return this._str.length},t.setLength=function(e){return this._str=this._str.slice(0,e),this},t.toString=function(){return this._str},e}(),ej=function(){function e(e,t,n,r,i,o,s){void 0===o&&(o=eQ.INSTANCE),E(null!=e),E(null!=n),E(null!=r),this._printerParser=e,this._locale=t,this._decimalStyle=n,this._resolverStyle=r,this._resolverFields=i,this._chrono=o,this._zone=s}e.parsedExcessDays=function(){return e.PARSED_EXCESS_DAYS},e.parsedLeapSecond=function(){return e.PARSED_LEAP_SECOND},e.ofPattern=function(e){return new eF().appendPattern(e).toFormatter()};var t=e.prototype;return t.locale=function(){return this._locale},t.decimalStyle=function(){return this._decimalStyle},t.chronology=function(){return this._chrono},t.withChronology=function(t){return null!=this._chrono&&this._chrono.equals(t)?this:new e(this._printerParser,this._locale,this._decimalStyle,this._resolverStyle,this._resolverFields,t,this._zone)},t.withLocale=function(){return this},t.withResolverStyle=function(t){return(T(t,"resolverStyle"),t.equals(this._resolverStyle))?this:new e(this._printerParser,this._locale,this._decimalStyle,t,this._resolverFields,this._chrono,this._zone)},t.format=function(e){var t=new eY(32);return this._formatTo(e,t),t.toString()},t._formatTo=function(e,t){T(e,"temporal"),T(t,"appendable");var n=new er(e,this);this._printerParser.print(n,t)},t.parse=function(e,t){return 1==arguments.length?this.parse1(e):this.parse2(e,t)},t.parse1=function(e){T(e,"text");try{return this._parseToBuilder(e,null).resolve(this._resolverStyle,this._resolverFields)}catch(t){if(t instanceof u)throw t;throw this._createError(e,t)}},t.parse2=function(e,t){T(e,"text"),T(t,"type");try{return this._parseToBuilder(e,null).resolve(this._resolverStyle,this._resolverFields).build(t)}catch(t){if(t instanceof u)throw t;throw this._createError(e,t)}},t._createError=function(e,t){return new u("Text '"+(e.length>64?e.substring(0,64)+"...":e)+"' could not be parsed: "+t.message,e,0,t)},t._parseToBuilder=function(e,t){var n=null!=t?t:new j(0),r=this._parseUnresolved0(e,n);if(null==r||n.getErrorIndex()>=0||null==t&&n.getIndex()<e.length){var i="";if(i=e.length>64?e.substr(0,64).toString()+"...":e,n.getErrorIndex()>=0)throw new u("Text '"+i+"' could not be parsed at index "+n.getErrorIndex(),e,n.getErrorIndex());throw new u("Text '"+i+"' could not be parsed, unparsed text found at index "+n.getIndex(),e,n.getIndex())}return r.toBuilder()},t.parseUnresolved=function(e,t){return this._parseUnresolved0(e,t)},t._parseUnresolved0=function(e,t){E(null!=e,"text",m),E(null!=t,"position",m);var n=new et(this),r=t.getIndex();return(r=this._printerParser.parse(n,e,r))<0?(t.setErrorIndex(~r),null):(t.setIndex(r),n.toParsed())},t._toPrinterParser=function(e){return this._printerParser.withOptional(e)},t.toString=function(){var e=this._printerParser.toString();return 0===e.indexOf("[")?e:e.substring(1,e.length-1)},e}(),eH=function(e){function t(t,n){var r;return(r=e.call(this)||this)._month=S.safeToInt(t),r._day=S.safeToInt(n),r}g(t,e),t.now=function(e){return 0==arguments.length?t.now0():1==arguments.length&&e instanceof G?t.nowZoneId(e):t.nowClock(e)},t.now0=function(){return this.nowClock(e3.systemDefaultZone())},t.nowZoneId=function(e){return T(e,"zone"),this.nowClock(e3.system(e))},t.nowClock=function(e){T(e,"clock");var n=e2.now(e);return t.of(n.month(),n.dayOfMonth())},t.of=function(e,n){return 2==arguments.length&&e instanceof B?t.ofMonthNumber(e,n):t.ofNumberNumber(e,n)},t.ofMonthNumber=function(e,n){if(T(e,"month"),P.DAY_OF_MONTH.checkValidValue(n),n>e.maxLength())throw new c("Illegal value for DayOfMonth field, value "+n+" is not valid for month "+e.toString());return new t(e.value(),n)},t.ofNumberNumber=function(e,n){return T(e,"month"),T(n,"dayOfMonth"),t.of(B.of(e),n)},t.from=function(e){if(T(e,"temporal"),w(e,L,"temporal"),e instanceof t)return e;try{return t.of(e.get(P.MONTH_OF_YEAR),e.get(P.DAY_OF_MONTH))}catch(t){throw new c("Unable to obtain MonthDay from TemporalAccessor: "+e+", type "+(e&&null!=e.constructor?e.constructor.name:""))}},t.parse=function(e,n){return 1==arguments.length?t.parseString(e):t.parseStringFormatter(e,n)},t.parseString=function(e){return t.parseStringFormatter(e,s)},t.parseStringFormatter=function(e,n){return T(e,"text"),T(n,"formatter"),w(n,ej,"formatter"),n.parse(e,t.FROM)};var n=t.prototype;return n.monthValue=function(){return this._month},n.month=function(){return B.of(this._month)},n.dayOfMonth=function(){return this._day},n.isSupported=function(e){return e instanceof P?e===P.MONTH_OF_YEAR||e===P.DAY_OF_MONTH:null!=e&&e.isSupportedBy(this)},n.range=function(t){return t===P.MONTH_OF_YEAR?t.range():t===P.DAY_OF_MONTH?k.of(1,this.month().minLength(),this.month().maxLength()):e.prototype.range.call(this,t)},n.get=function(e){return this.range(e).checkValidIntValue(this.getLong(e),e)},n.getLong=function(e){if(T(e,"field"),e instanceof P){switch(e){case P.DAY_OF_MONTH:return this._day;case P.MONTH_OF_YEAR:return this._month}throw new h("Unsupported field: "+e)}return e.getFrom(this)},n.isValidYear=function(e){return!1==(29===this._day&&2===this._month&&!1===e$.isLeap(e))},n.withMonth=function(e){return this.with(B.of(e))},n.with=function(e){if(T(e,"month"),e.value()===this._month)return this;var n=Math.min(this._day,e.maxLength());return new t(e.value(),n)},n.withDayOfMonth=function(e){return e===this._day?this:t.of(this._month,e)},n.query=function(t){return(T(t,"query"),w(t,U,"query"),t===M.chronology())?eQ.INSTANCE:e.prototype.query.call(this,t)},n.adjustInto=function(e){return T(e,"temporal"),(e=e.with(P.MONTH_OF_YEAR,this._month)).with(P.DAY_OF_MONTH,Math.min(e.range(P.DAY_OF_MONTH).maximum(),this._day))},n.atYear=function(e){return e2.of(e,this._month,this.isValidYear(e)?this._day:28)},n.compareTo=function(e){T(e,"other"),w(e,t,"other");var n=this._month-e.monthValue();return 0===n&&(n=this._day-e.dayOfMonth()),n},n.isAfter=function(e){return T(e,"other"),w(e,t,"other"),this.compareTo(e)>0},n.isBefore=function(e){return T(e,"other"),w(e,t,"other"),0>this.compareTo(e)},n.equals=function(e){return this===e||e instanceof t&&this.monthValue()===e.monthValue()&&this.dayOfMonth()===e.dayOfMonth()},n.toString=function(){return"--"+(this._month<10?"0":"")+this._month+(this._day<10?"-0":"-")+this._day},n.toJSON=function(){return this.toString()},n.format=function(e){return T(e,"formatter"),w(e,ej,"formatter"),e.format(this)},t}(L),eV=function(e){function t(t,n){var r;return(r=e.call(this)||this)._year=S.safeToInt(t),r._month=S.safeToInt(n),r}g(t,e),t.now=function(e){return 0==arguments.length?t.now0():1==arguments.length&&e instanceof G?t.nowZoneId(e):t.nowClock(e)},t.now0=function(){return t.nowClock(e3.systemDefaultZone())},t.nowZoneId=function(e){return t.nowClock(e3.system(e))},t.nowClock=function(e){var n=e2.now(e);return t.of(n.year(),n.month())},t.of=function(e,n){return 2==arguments.length&&n instanceof B?t.ofNumberMonth(e,n):t.ofNumberNumber(e,n)},t.ofNumberMonth=function(e,n){return T(n,"month"),w(n,B,"month"),t.ofNumberNumber(e,n.value())},t.ofNumberNumber=function(e,n){return T(e,"year"),T(n,"month"),P.YEAR.checkValidValue(e),P.MONTH_OF_YEAR.checkValidValue(n),new t(e,n)},t.from=function(e){if(T(e,"temporal"),e instanceof t)return e;try{return t.of(e.get(P.YEAR),e.get(P.MONTH_OF_YEAR))}catch(t){throw new c("Unable to obtain YearMonth from TemporalAccessor: "+e+", type "+(e&&null!=e.constructor?e.constructor.name:""))}},t.parse=function(e,n){return 1==arguments.length?t.parseString(e):t.parseStringFormatter(e,n)},t.parseString=function(e){return t.parseStringFormatter(e,a)},t.parseStringFormatter=function(e,n){return T(n,"formatter"),n.parse(e,t.FROM)};var n=t.prototype;return n.isSupported=function(e){return 1==arguments.length&&e instanceof D?this.isSupportedField(e):this.isSupportedUnit(e)},n.isSupportedField=function(e){return e instanceof P?e===P.YEAR||e===P.MONTH_OF_YEAR||e===P.PROLEPTIC_MONTH||e===P.YEAR_OF_ERA||e===P.ERA:null!=e&&e.isSupportedBy(this)},n.isSupportedUnit=function(e){return e instanceof R?e===R.MONTHS||e===R.YEARS||e===R.DECADES||e===R.CENTURIES||e===R.MILLENNIA||e===R.ERAS:null!=e&&e.isSupportedBy(this)},n.range=function(t){return t===P.YEAR_OF_ERA?0>=this.year()?k.of(1,e$.MAX_VALUE+1):k.of(1,e$.MAX_VALUE):e.prototype.range.call(this,t)},n.get=function(e){return T(e,"field"),w(e,D,"field"),this.range(e).checkValidIntValue(this.getLong(e),e)},n.getLong=function(e){if(T(e,"field"),w(e,D,"field"),e instanceof P){switch(e){case P.MONTH_OF_YEAR:return this._month;case P.PROLEPTIC_MONTH:return this._getProlepticMonth();case P.YEAR_OF_ERA:return this._year<1?1-this._year:this._year;case P.YEAR:return this._year;case P.ERA:return this._year<1?0:1}throw new h("Unsupported field: "+e)}return e.getFrom(this)},n._getProlepticMonth=function(){return S.safeAdd(S.safeMultiply(this._year,12),this._month-1)},n.year=function(){return this._year},n.monthValue=function(){return this._month},n.month=function(){return B.of(this._month)},n.isLeapYear=function(){return eQ.isLeapYear(this._year)},n.isValidDay=function(e){return e>=1&&e<=this.lengthOfMonth()},n.lengthOfMonth=function(){return this.month().length(this.isLeapYear())},n.lengthOfYear=function(){return this.isLeapYear()?366:365},n.with=function(e,t){return 1==arguments.length?this._withAdjuster(e):this._withField(e,t)},n._withField=function(e,t){if(T(e,"field"),w(e,D,"field"),e instanceof P){switch(e.checkValidValue(t),e){case P.MONTH_OF_YEAR:return this.withMonth(t);case P.PROLEPTIC_MONTH:return this.plusMonths(t-this.getLong(P.PROLEPTIC_MONTH));case P.YEAR_OF_ERA:return this.withYear(this._year<1?1-t:t);case P.YEAR:return this.withYear(t);case P.ERA:return this.getLong(P.ERA)===t?this:this.withYear(1-this._year)}throw new h("Unsupported field: "+e)}return e.adjustInto(this,t)},n.withYear=function(e){return P.YEAR.checkValidValue(e),new t(e,this._month)},n.withMonth=function(e){return P.MONTH_OF_YEAR.checkValidValue(e),new t(this._year,e)},n._plusUnit=function(e,t){if(T(t,"unit"),w(t,C,"unit"),t instanceof R){switch(t){case R.MONTHS:return this.plusMonths(e);case R.YEARS:return this.plusYears(e);case R.DECADES:return this.plusYears(S.safeMultiply(e,10));case R.CENTURIES:return this.plusYears(S.safeMultiply(e,100));case R.MILLENNIA:return this.plusYears(S.safeMultiply(e,1e3));case R.ERAS:return this.with(P.ERA,S.safeAdd(this.getLong(P.ERA),e))}throw new h("Unsupported unit: "+t)}return t.addTo(this,e)},n.plusYears=function(e){if(0===e)return this;var t=P.YEAR.checkValidIntValue(this._year+e);return this.withYear(t)},n.plusMonths=function(e){if(0===e)return this;var n=12*this._year+(this._month-1)+e;return new t(P.YEAR.checkValidIntValue(S.floorDiv(n,12)),S.floorMod(n,12)+1)},n.minusYears=function(e){return e===S.MIN_SAFE_INTEGER?this.plusYears(S.MIN_SAFE_INTEGER).plusYears(1):this.plusYears(-e)},n.minusMonths=function(e){return e===S.MIN_SAFE_INTEGER?this.plusMonths(Math.MAX_SAFE_INTEGER).plusMonths(1):this.plusMonths(-e)},n.query=function(t){return(T(t,"query"),w(t,U,"query"),t===M.chronology())?eQ.INSTANCE:t===M.precision()?R.MONTHS:t===M.localDate()||t===M.localTime()||t===M.zone()||t===M.zoneId()||t===M.offset()?null:e.prototype.query.call(this,t)},n.adjustInto=function(e){return T(e,"temporal"),w(e,$,"temporal"),e.with(P.PROLEPTIC_MONTH,this._getProlepticMonth())},n.until=function(e,n){T(e,"endExclusive"),T(n,"unit"),w(e,$,"endExclusive"),w(n,C,"unit");var r=t.from(e);if(n instanceof R){var i=r._getProlepticMonth()-this._getProlepticMonth();switch(n){case R.MONTHS:return i;case R.YEARS:return S.intDiv(i,12);case R.DECADES:return S.intDiv(i,120);case R.CENTURIES:return S.intDiv(i,1200);case R.MILLENNIA:return S.intDiv(i,12e3);case R.ERAS:return r.getLong(P.ERA)-this.getLong(P.ERA)}throw new h("Unsupported unit: "+n)}return n.between(this,r)},n.atDay=function(e){return T(e,"dayOfMonth"),e2.of(this._year,this._month,e)},n.atEndOfMonth=function(){return e2.of(this._year,this._month,this.lengthOfMonth())},n.compareTo=function(e){T(e,"other"),w(e,t,"other");var n=this._year-e.year();return 0===n&&(n=this._month-e.monthValue()),n},n.isAfter=function(e){return this.compareTo(e)>0},n.isBefore=function(e){return 0>this.compareTo(e)},n.equals=function(e){return this===e||e instanceof t&&this.year()===e.year()&&this.monthValue()===e.monthValue()},n.toString=function(){return a.format(this)},n.toJSON=function(){return this.toString()},n.format=function(e){return T(e,"formatter"),e.format(this)},t}($),e$=function(e){function t(t){var n;return(n=e.call(this)||this)._year=S.safeToInt(t),n}g(t,e);var n=t.prototype;return n.value=function(){return this._year},t.now=function(e){return(void 0===e&&(e=void 0),void 0===e)?t.now0():e instanceof G?t.nowZoneId(e):t.nowClock(e)},t.now0=function(){return t.nowClock(e3.systemDefaultZone())},t.nowZoneId=function(e){return T(e,"zone"),w(e,G,"zone"),t.nowClock(e3.system(e))},t.nowClock=function(e){T(e,"clock"),w(e,e3,"clock");var n=e2.now(e);return t.of(n.year())},t.of=function(e){return T(e,"isoYear"),P.YEAR.checkValidValue(e),new t(e)},t.from=function(e){if(T(e,"temporal"),w(e,L,"temporal"),e instanceof t)return e;try{return t.of(e.get(P.YEAR))}catch(t){throw new c("Unable to obtain Year from TemporalAccessor: "+e+", type "+(e&&null!=e.constructor?e.constructor.name:""))}},t.parse=function(e,n){return arguments.length<=1?t.parseText(e):t.parseTextFormatter(e,n)},t.parseText=function(e){return T(e,"text"),t.parse(e,l)},t.parseTextFormatter=function(e,n){return void 0===n&&(n=l),T(e,"text"),T(n,"formatter"),w(n,ej,"formatter"),n.parse(e,t.FROM)},t.isLeap=function(e){return 0===S.intMod(e,4)&&(0!==S.intMod(e,100)||0===S.intMod(e,400))},n.isSupported=function(e){return 1==arguments.length&&e instanceof D?this.isSupportedField(e):this.isSupportedUnit(e)},n.isSupportedField=function(e){return e instanceof P?e===P.YEAR||e===P.YEAR_OF_ERA||e===P.ERA:null!=e&&e.isSupportedBy(this)},n.isSupportedUnit=function(e){return e instanceof R?e===R.YEARS||e===R.DECADES||e===R.CENTURIES||e===R.MILLENNIA||e===R.ERAS:null!=e&&e.isSupportedBy(this)},n.range=function(t){if(this.isSupported(t))return t.range();if(t instanceof P)throw new h("Unsupported field: "+t);return e.prototype.range.call(this,t)},n.get=function(e){return this.range(e).checkValidIntValue(this.getLong(e),e)},n.getLong=function(e){if(T(e,"field"),e instanceof P){switch(e){case P.YEAR_OF_ERA:return this._year<1?1-this._year:this._year;case P.YEAR:return this._year;case P.ERA:return this._year<1?0:1}throw new h("Unsupported field: "+e)}return e.getFrom(this)},n.isLeap=function(){return t.isLeap(this._year)},n._withField=function(e,n){if(T(e,"field"),w(e,D,"field"),e instanceof P){switch(e.checkValidValue(n),e){case P.YEAR_OF_ERA:return t.of(this._year<1?1-n:n);case P.YEAR:return t.of(n);case P.ERA:return this.getLong(P.ERA)===n?this:t.of(1-this._year)}throw new h("Unsupported field: "+e)}return e.adjustInto(this,n)},n._plusUnit=function(e,t){if(T(e,"amountToAdd"),T(t,"unit"),w(t,C,"unit"),t instanceof R){switch(t){case R.YEARS:return this.plusYears(e);case R.DECADES:return this.plusYears(S.safeMultiply(e,10));case R.CENTURIES:return this.plusYears(S.safeMultiply(e,100));case R.MILLENNIA:return this.plusYears(S.safeMultiply(e,1e3));case R.ERAS:return this.with(P.ERA,S.safeAdd(this.getLong(P.ERA),e))}throw new h("Unsupported unit: "+t)}return t.addTo(this,e)},n.plusYears=function(e){return 0===e?this:t.of(P.YEAR.checkValidIntValue(S.safeAdd(this._year,e)))},n.minusYears=function(e){return e===S.MIN_SAFE_INTEGER?this.plusYears(S.MAX_SAFE_INTEGER).plusYears(1):this.plusYears(-e)},n.adjustInto=function(e){return T(e,"temporal"),e.with(P.YEAR,this._year)},n.isValidMonthDay=function(e){return null!=e&&e.isValidYear(this._year)},n.length=function(){return this.isLeap()?366:365},n.atDay=function(e){return e2.ofYearDay(this._year,e)},n.atMonth=function(e){return 1==arguments.length&&e instanceof B?this.atMonthMonth(e):this.atMonthNumber(e)},n.atMonthMonth=function(e){return T(e,"month"),w(e,B,"month"),eV.of(this._year,e)},n.atMonthNumber=function(e){return T(e,"month"),eV.of(this._year,e)},n.atMonthDay=function(e){return T(e,"monthDay"),w(e,eH,"monthDay"),e.atYear(this._year)},n.query=function(t){return(T(t,"query()"),w(t,U,"query()"),t===M.chronology())?eQ.INSTANCE:t===M.precision()?R.YEARS:t===M.localDate()||t===M.localTime()||t===M.zone()||t===M.zoneId()||t===M.offset()?null:e.prototype.query.call(this,t)},n.compareTo=function(e){return T(e,"other"),w(e,t,"other"),this._year-e._year},n.isAfter=function(e){return T(e,"other"),w(e,t,"other"),this._year>e._year},n.isBefore=function(e){return T(e,"other"),w(e,t,"other"),this._year<e._year},n.format=function(e){return T(e,"formatter"),w(e,ej,"formatter"),e.format(this)},n.equals=function(e){return this===e||e instanceof t&&this.value()===e.value()},n.toString=function(){return""+this._year},n.toJSON=function(){return this.toString()},n.until=function(e,n){var r=t.from(e);if(n instanceof R){var i=r.value()-this.value();switch(n){case R.YEARS:return i;case R.DECADES:return S.intDiv(i,10);case R.CENTURIES:return S.intDiv(i,100);case R.MILLENNIA:return S.intDiv(i,1e3);case R.ERAS:return r.getLong(P.ERA)-this.getLong(P.ERA)}throw new h("Unsupported unit: "+n)}return n.between(this,r)},t}($),ez=function(){function e(){}return e.prototype.adjustInto=function(e){b("adjustInto")},e}(),eW=function(){function e(){}return e.firstDayOfMonth=function(){return eG.FIRST_DAY_OF_MONTH},e.lastDayOfMonth=function(){return eG.LAST_DAY_OF_MONTH},e.firstDayOfNextMonth=function(){return eG.FIRST_DAY_OF_NEXT_MONTH},e.firstDayOfYear=function(){return eG.FIRST_DAY_OF_YEAR},e.lastDayOfYear=function(){return eG.LAST_DAY_OF_YEAR},e.firstDayOfNextYear=function(){return eG.FIRST_DAY_OF_NEXT_YEAR},e.firstInMonth=function(e){return T(e,"dayOfWeek"),new eK(1,e)},e.lastInMonth=function(e){return T(e,"dayOfWeek"),new eK(-1,e)},e.dayOfWeekInMonth=function(e,t){return T(t,"dayOfWeek"),new eK(e,t)},e.next=function(e){return new eZ(2,e)},e.nextOrSame=function(e){return new eZ(0,e)},e.previous=function(e){return new eZ(3,e)},e.previousOrSame=function(e){return new eZ(1,e)},e}(),eG=function(e){function t(t){var n;return(n=e.call(this)||this)._ordinal=t,n}return g(t,e),t.prototype.adjustInto=function(e){switch(this._ordinal){case 0:return e.with(P.DAY_OF_MONTH,1);case 1:return e.with(P.DAY_OF_MONTH,e.range(P.DAY_OF_MONTH).maximum());case 2:return e.with(P.DAY_OF_MONTH,1).plus(1,R.MONTHS);case 3:return e.with(P.DAY_OF_YEAR,1);case 4:return e.with(P.DAY_OF_YEAR,e.range(P.DAY_OF_YEAR).maximum());case 5:return e.with(P.DAY_OF_YEAR,1).plus(1,R.YEARS)}throw new p("Unreachable")},t}(ez);eG.FIRST_DAY_OF_MONTH=new eG(0),eG.LAST_DAY_OF_MONTH=new eG(1),eG.FIRST_DAY_OF_NEXT_MONTH=new eG(2),eG.FIRST_DAY_OF_YEAR=new eG(3),eG.LAST_DAY_OF_YEAR=new eG(4),eG.FIRST_DAY_OF_NEXT_YEAR=new eG(5);var eK=function(e){function t(t,n){var r;return(r=e.call(this)||this)._ordinal=t,r._dowValue=n.value(),r}return g(t,e),t.prototype.adjustInto=function(e){if(this._ordinal>=0){var t=e.with(P.DAY_OF_MONTH,1),n=t.get(P.DAY_OF_WEEK),r=S.intMod(this._dowValue-n+7,7);return r+=(this._ordinal-1)*7,t.plus(r,R.DAYS)}var i=e.with(P.DAY_OF_MONTH,e.range(P.DAY_OF_MONTH).maximum()),o=i.get(P.DAY_OF_WEEK),s=this._dowValue-o;return s=(0===s?0:s>0?s-7:s)-(-this._ordinal-1)*7,i.plus(s,R.DAYS)},t}(ez),eZ=function(e){function t(t,n){var r;return r=e.call(this)||this,T(n,"dayOfWeek"),r._relative=t,r._dowValue=n.value(),r}return g(t,e),t.prototype.adjustInto=function(e){var t=e.get(P.DAY_OF_WEEK);if(this._relative<2&&t===this._dowValue)return e;if((1&this._relative)==0){var n=t-this._dowValue;return e.plus(n>=0?7-n:-n,R.DAYS)}var r=this._dowValue-t;return e.minus(r>=0?7-r:-r,R.DAYS)},t}(ez),eQ=function(e){function t(){return e.apply(this,arguments)||this}g(t,e),t.isLeapYear=function(e){return(3&e)==0&&(e%100!=0||e%400==0)};var n=t.prototype;return n._updateResolveMap=function(e,t,n){T(e,"fieldValues"),T(t,"field");var r=e.get(t);if(null!=r&&r!==n)throw new c("Invalid state, field: "+t+" "+r+" conflicts with "+t+" "+n);e.put(t,n)},n.resolveDate=function(e,t){if(e.containsKey(P.EPOCH_DAY))return e2.ofEpochDay(e.remove(P.EPOCH_DAY));var n=e.remove(P.PROLEPTIC_MONTH);null!=n&&(t!==V.LENIENT&&P.PROLEPTIC_MONTH.checkValidValue(n),this._updateResolveMap(e,P.MONTH_OF_YEAR,S.floorMod(n,12)+1),this._updateResolveMap(e,P.YEAR,S.floorDiv(n,12)));var r=e.remove(P.YEAR_OF_ERA);if(null!=r){t!==V.LENIENT&&P.YEAR_OF_ERA.checkValidValue(r);var i=e.remove(P.ERA);if(null==i){var o=e.get(P.YEAR);t===V.STRICT?null!=o?this._updateResolveMap(e,P.YEAR,o>0?r:S.safeSubtract(1,r)):e.put(P.YEAR_OF_ERA,r):this._updateResolveMap(e,P.YEAR,null==o||o>0?r:S.safeSubtract(1,r))}else if(1===i)this._updateResolveMap(e,P.YEAR,r);else if(0===i)this._updateResolveMap(e,P.YEAR,S.safeSubtract(1,r));else throw new c("Invalid value for era: "+i)}else e.containsKey(P.ERA)&&P.ERA.checkValidValue(e.get(P.ERA));if(e.containsKey(P.YEAR)){if(e.containsKey(P.MONTH_OF_YEAR)&&e.containsKey(P.DAY_OF_MONTH)){var s=P.YEAR.checkValidIntValue(e.remove(P.YEAR)),a=e.remove(P.MONTH_OF_YEAR),l=e.remove(P.DAY_OF_MONTH);if(t===V.LENIENT){var u=l-1;return e2.of(s,1,1).plusMonths(a-1).plusDays(u)}return t===V.SMART&&(P.DAY_OF_MONTH.checkValidValue(l),4===a||6===a||9===a||11===a?l=Math.min(l,30):2===a&&(l=Math.min(l,B.FEBRUARY.length(e$.isLeap(s))))),e2.of(s,a,l)}if(e.containsKey(P.DAY_OF_YEAR)){var h=P.YEAR.checkValidIntValue(e.remove(P.YEAR));if(t===V.LENIENT){var d=S.safeSubtract(e.remove(P.DAY_OF_YEAR),1);return e2.ofYearDay(h,1).plusDays(d)}var f=P.DAY_OF_YEAR.checkValidIntValue(e.remove(P.DAY_OF_YEAR));return e2.ofYearDay(h,f)}if(e.containsKey(P.ALIGNED_WEEK_OF_YEAR)){if(e.containsKey(P.ALIGNED_DAY_OF_WEEK_IN_YEAR)){var p=P.YEAR.checkValidIntValue(e.remove(P.YEAR));if(t===V.LENIENT){var m=S.safeSubtract(e.remove(P.ALIGNED_WEEK_OF_YEAR),1),g=S.safeSubtract(e.remove(P.ALIGNED_DAY_OF_WEEK_IN_YEAR),1);return e2.of(p,1,1).plusWeeks(m).plusDays(g)}var y=P.ALIGNED_WEEK_OF_YEAR.checkValidIntValue(e.remove(P.ALIGNED_WEEK_OF_YEAR)),_=P.ALIGNED_DAY_OF_WEEK_IN_YEAR.checkValidIntValue(e.remove(P.ALIGNED_DAY_OF_WEEK_IN_YEAR)),E=e2.of(p,1,1).plusDays((y-1)*7+(_-1));if(t===V.STRICT&&E.get(P.YEAR)!==p)throw new c("Strict mode rejected date parsed to a different year");return E}if(e.containsKey(P.DAY_OF_WEEK)){var T=P.YEAR.checkValidIntValue(e.remove(P.YEAR));if(t===V.LENIENT){var w=S.safeSubtract(e.remove(P.ALIGNED_WEEK_OF_YEAR),1),b=S.safeSubtract(e.remove(P.DAY_OF_WEEK),1);return e2.of(T,1,1).plusWeeks(w).plusDays(b)}var v=P.ALIGNED_WEEK_OF_YEAR.checkValidIntValue(e.remove(P.ALIGNED_WEEK_OF_YEAR)),A=P.DAY_OF_WEEK.checkValidIntValue(e.remove(P.DAY_OF_WEEK)),I=e2.of(T,1,1).plusWeeks(v-1).with(eW.nextOrSame(F.of(A)));if(t===V.STRICT&&I.get(P.YEAR)!==T)throw new c("Strict mode rejected date parsed to a different month");return I}}}return null},n.date=function(e){return e2.from(e)},t}(A),eX=function(e){function t(t,n){var r;return r=e.call(this)||this,T(t,"time"),w(t,e5,"time"),T(n,"offset"),w(n,J,"offset"),r._time=t,r._offset=n,r}g(t,e),t.from=function(e){if(T(e,"temporal"),e instanceof t)return e;if(e instanceof e1)return e.toOffsetTime();try{var n=e5.from(e),r=J.from(e);return new t(n,r)}catch(t){throw new c("Unable to obtain OffsetTime TemporalAccessor: "+e+", type "+(null!=e.constructor?e.constructor.name:""))}},t.now=function(e){return 0==arguments.length?t._now(e3.systemDefaultZone()):e instanceof e3?t._now(e):t._now(e3.system(e))},t._now=function(e){T(e,"clock");var n=e.instant();return t.ofInstant(n,e.zone().rules().offset(n))},t.of=function(){return arguments.length<=2?t.ofTimeAndOffset.apply(this,arguments):t.ofNumbers.apply(this,arguments)},t.ofNumbers=function(e,n,r,i,o){return new t(e5.of(e,n,r,i),o)},t.ofTimeAndOffset=function(e,n){return new t(e,n)},t.ofInstant=function(e,n){T(e,"instant"),w(e,e6,"instant"),T(n,"zone"),w(n,G,"zone");var r=n.rules().offset(e),i=e.epochSecond()%e5.SECONDS_PER_DAY;return(i=(i+r.totalSeconds())%e5.SECONDS_PER_DAY)<0&&(i+=e5.SECONDS_PER_DAY),new t(e5.ofSecondOfDay(i,e.nano()),r)},t.parse=function(e,n){return void 0===n&&(n=ej.ISO_OFFSET_TIME),T(n,"formatter"),n.parse(e,t.FROM)};var n=t.prototype;return n.adjustInto=function(e){return e.with(P.NANO_OF_DAY,this._time.toNanoOfDay()).with(P.OFFSET_SECONDS,this.offset().totalSeconds())},n.atDate=function(e){return e1.of(e,this._time,this._offset)},n.format=function(e){return T(e,"formatter"),e.format(this,t.FROM)},n.get=function(t){return e.prototype.get.call(this,t)},n.getLong=function(e){return e instanceof P?e===P.OFFSET_SECONDS?this._offset.totalSeconds():this._time.getLong(e):e.getFrom(this)},n.hour=function(){return this._time.hour()},n.minute=function(){return this._time.minute()},n.second=function(){return this._time.second()},n.nano=function(){return this._time.nano()},n.offset=function(){return this._offset},n.isAfter=function(e){return T(e,"other"),this._toEpochNano()>e._toEpochNano()},n.isBefore=function(e){return T(e,"other"),this._toEpochNano()<e._toEpochNano()},n.isEqual=function(e){return T(e,"other"),this._toEpochNano()===e._toEpochNano()},n.isSupported=function(e){return e instanceof P?e.isTimeBased()||e===P.OFFSET_SECONDS:e instanceof R?e.isTimeBased():null!=e&&e.isSupportedBy(this)},n.minusHours=function(e){return this._withLocalTimeOffset(this._time.minusHours(e),this._offset)},n.minusMinutes=function(e){return this._withLocalTimeOffset(this._time.minusMinutes(e),this._offset)},n.minusSeconds=function(e){return this._withLocalTimeOffset(this._time.minusSeconds(e),this._offset)},n.minusNanos=function(e){return this._withLocalTimeOffset(this._time.minusNanos(e),this._offset)},n._minusAmount=function(e){return T(e),e.subtractFrom(this)},n._minusUnit=function(e,t){return this.plus(-1*e,t)},n._plusAmount=function(e){return T(e),e.addTo(this)},n._plusUnit=function(e,t){return t instanceof R?this._withLocalTimeOffset(this._time.plus(e,t),this._offset):t.addTo(this,e)},n.plusHours=function(e){return this._withLocalTimeOffset(this._time.plusHours(e),this._offset)},n.plusMinutes=function(e){return this._withLocalTimeOffset(this._time.plusMinutes(e),this._offset)},n.plusSeconds=function(e){return this._withLocalTimeOffset(this._time.plusSeconds(e),this._offset)},n.plusNanos=function(e){return this._withLocalTimeOffset(this._time.plusNanos(e),this._offset)},n.query=function(t){return(T(t,"query"),t===M.precision())?R.NANOS:t===M.offset()||t===M.zone()?this.offset():t===M.localTime()?this._time:t===M.chronology()||t===M.localDate()||t===M.zoneId()?null:e.prototype.query.call(this,t)},n.range=function(e){return e instanceof P?e===P.OFFSET_SECONDS?e.range():this._time.range(e):e.rangeRefinedBy(this)},n.toLocalTime=function(){return this._time},n.truncatedTo=function(e){return this._withLocalTimeOffset(this._time.truncatedTo(e),this._offset)},n.until=function(e,n){T(e,"endExclusive"),T(n,"unit");var r=t.from(e);if(n instanceof R){var i=r._toEpochNano()-this._toEpochNano();switch(n){case R.NANOS:return i;case R.MICROS:return S.intDiv(i,1e3);case R.MILLIS:return S.intDiv(i,1e6);case R.SECONDS:return S.intDiv(i,e5.NANOS_PER_SECOND);case R.MINUTES:return S.intDiv(i,e5.NANOS_PER_MINUTE);case R.HOURS:return S.intDiv(i,e5.NANOS_PER_HOUR);case R.HALF_DAYS:return S.intDiv(i,12*e5.NANOS_PER_HOUR)}throw new h("Unsupported unit: "+n)}return n.between(this,r)},n.withHour=function(e){return this._withLocalTimeOffset(this._time.withHour(e),this._offset)},n.withMinute=function(e){return this._withLocalTimeOffset(this._time.withMinute(e),this._offset)},n.withSecond=function(e){return this._withLocalTimeOffset(this._time.withSecond(e),this._offset)},n.withNano=function(e){return this._withLocalTimeOffset(this._time.withNano(e),this._offset)},n.withOffsetSameInstant=function(e){if(T(e,"offset"),e.equals(this._offset))return this;var n=e.totalSeconds()-this._offset.totalSeconds();return new t(this._time.plusSeconds(n),e)},n.withOffsetSameLocal=function(e){return null!=e&&e.equals(this._offset)?this:new t(this._time,e)},n._toEpochNano=function(){return this._time.toNanoOfDay()-this._offset.totalSeconds()*e5.NANOS_PER_SECOND},n._withAdjuster=function(e){return(T(e,"adjuster"),e instanceof e5)?this._withLocalTimeOffset(e,this._offset):e instanceof J?this._withLocalTimeOffset(this._time,e):e instanceof t?e:e.adjustInto(this)},n._withField=function(e,t){return(T(e,"field"),e instanceof P)?e===P.OFFSET_SECONDS?this._withLocalTimeOffset(this._time,J.ofTotalSeconds(e.checkValidIntValue(t))):this._withLocalTimeOffset(this._time.with(e,t),this._offset):e.adjustInto(this,t)},n._withLocalTimeOffset=function(e,n){return this._time===e&&this._offset.equals(n)?this:new t(e,n)},n.compareTo=function(e){if(T(e,"other"),w(e,t,"other"),this._offset.equals(e._offset))return this._time.compareTo(e._time);var n=S.compareNumbers(this._toEpochNano(),e._toEpochNano());return 0===n?this._time.compareTo(e._time):n},n.equals=function(e){return this===e||e instanceof t&&this._time.equals(e._time)&&this._offset.equals(e._offset)},n.hashCode=function(){return this._time.hashCode()^this._offset.hashCode()},n.toString=function(){return this._time.toString()+this._offset.toString()},n.toJSON=function(){return this.toString()},t}($),eJ=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var n=t.prototype;return n.query=function(t){return t===M.zoneId()||t===M.zone()?this.zone():t===M.chronology()?this.toLocalDate().chronology():t===M.precision()?R.NANOS:t===M.offset()?this.offset():t===M.localDate()?e2.ofEpochDay(this.toLocalDate().toEpochDay()):t===M.localTime()?this.toLocalTime():e.prototype.query.call(this,t)},n.format=function(e){return T(e,"formatter"),e.format(this)},n.toInstant=function(){return e6.ofEpochSecond(this.toEpochSecond(),this.toLocalTime().nano())},n.toEpochSecond=function(){return 86400*this.toLocalDate().toEpochDay()+this.toLocalTime().toSecondOfDay()-this.offset().totalSeconds()},n.compareTo=function(e){T(e,"other");var t,n,r=S.compareNumbers(this.toEpochSecond(),e.toEpochSecond());return 0===r&&0==(r=this.toLocalTime().nano()-e.toLocalTime().nano())&&0===(r=this.toLocalDateTime().compareTo(e.toLocalDateTime()))&&(r=(t=this.zone().id())<(n=e.zone().id())?-1:t>n?1:0),r},n.isAfter=function(e){T(e,"other");var t=this.toEpochSecond(),n=e.toEpochSecond();return t>n||t===n&&this.toLocalTime().nano()>e.toLocalTime().nano()},n.isBefore=function(e){T(e,"other");var t=this.toEpochSecond(),n=e.toEpochSecond();return t<n||t===n&&this.toLocalTime().nano()<e.toLocalTime().nano()},n.isEqual=function(e){return T(e,"other"),this.toEpochSecond()===e.toEpochSecond()&&this.toLocalTime().nano()===e.toLocalTime().nano()},n.equals=function(e){return this===e||e instanceof t&&0===this.compareTo(e)},t}($),e0=function(e){function t(t,n,r){var i;return T(t,"dateTime"),T(n,"offset"),T(r,"zone"),(i=e.call(this)||this)._dateTime=t,i._offset=n,i._zone=r,i}g(t,e),t.now=function(e){var n;return n=e instanceof G?e3.system(e):null==e?e3.systemDefaultZone():e,t.ofInstant(n.instant(),n.zone())},t.of=function(){return arguments.length<=2?t.of2.apply(this,arguments):3==arguments.length&&arguments[0]instanceof e2?t.of3.apply(this,arguments):t.of8.apply(this,arguments)},t.of3=function(e,n,r){return t.of2(e8.of(e,n),r)},t.of2=function(e,n){return t.ofLocal(e,n,null)},t.of8=function(e,n,r,i,o,s,a,l){var c=e8.of(e,n,r,i,o,s,a);return t.ofLocal(c,l,null)},t.ofLocal=function(e,n,r){if(T(e,"localDateTime"),T(n,"zone"),n instanceof J)return new t(e,n,n);var i=null,o=n.rules(),s=o.validOffsets(e);if(1===s.length)i=s[0];else if(0===s.length){var a=o.transition(e);e=e.plusSeconds(a.duration().seconds()),i=a.offsetAfter()}else i=null!=r&&s.some(function(e){return e.equals(r)})?r:T(s[0],"offset");return new t(e,i,n)},t.ofInstant=function(){return 2==arguments.length?t.ofInstant2.apply(this,arguments):t.ofInstant3.apply(this,arguments)},t.ofInstant2=function(e,n){return T(e,"instant"),T(n,"zone"),t._create(e.epochSecond(),e.nano(),n)},t.ofInstant3=function(e,n,r){return T(e,"localDateTime"),T(n,"offset"),T(r,"zone"),t._create(e.toEpochSecond(n),e.nano(),r)},t._create=function(e,n,r){var i=r.rules(),o=e6.ofEpochSecond(e,n),s=i.offset(o);return new t(e8.ofEpochSecond(e,n,s),s,r)},t.ofStrict=function(e,n,r){T(e,"localDateTime"),T(n,"offset"),T(r,"zone");var i=r.rules();if(!1===i.isValidOffset(e,n)){var o=i.transition(e);if(null!=o&&o.isGap())throw new c("LocalDateTime "+e+" does not exist in zone "+r+" due to a gap in the local time-line, typically caused by daylight savings");throw new c('ZoneOffset "'+n+'" is not valid for LocalDateTime "'+e+'" in zone "'+r+'"')}return new t(e,n,r)},t.ofLenient=function(e,n,r){if(T(e,"localDateTime"),T(n,"offset"),T(r,"zone"),r instanceof J&&!1===n.equals(r))throw new f("ZoneId must match ZoneOffset");return new t(e,n,r)},t.from=function(e){if(T(e,"temporal"),e instanceof t)return e;var n=G.from(e);if(e.isSupported(P.INSTANT_SECONDS)){var r=t._from(e,n);if(null!=r)return r}var i=e8.from(e);return t.of2(i,n)},t._from=function(e,n){try{return t.__from(e,n)}catch(e){if(!(e instanceof c))throw e}},t.__from=function(e,n){var r=e.getLong(P.INSTANT_SECONDS),i=e.get(P.NANO_OF_SECOND);return t._create(r,i,n)},t.parse=function(e,n){return void 0===n&&(n=ej.ISO_ZONED_DATE_TIME),T(n,"formatter"),n.parse(e,t.FROM)};var n=t.prototype;return n._resolveLocal=function(e){return T(e,"newDateTime"),t.ofLocal(e,this._zone,this._offset)},n._resolveInstant=function(e){return t.ofInstant3(e,this._offset,this._zone)},n._resolveOffset=function(e){return!1===e.equals(this._offset)&&this._zone.rules().isValidOffset(this._dateTime,e)?new t(this._dateTime,e,this._zone):this},n.isSupported=function(e){return e instanceof P||(e instanceof R?e.isDateBased()||e.isTimeBased():null!=e&&e.isSupportedBy(this))},n.range=function(e){return e instanceof P?e===P.INSTANT_SECONDS||e===P.OFFSET_SECONDS?e.range():this._dateTime.range(e):e.rangeRefinedBy(this)},n.get=function(e){return this.getLong(e)},n.getLong=function(e){if(e instanceof P){switch(e){case P.INSTANT_SECONDS:return this.toEpochSecond();case P.OFFSET_SECONDS:return this._offset.totalSeconds()}return this._dateTime.getLong(e)}return T(e,"field"),e.getFrom(this)},n.offset=function(){return this._offset},n.withEarlierOffsetAtOverlap=function(){var e=this._zone.rules().transition(this._dateTime);if(null!=e&&e.isOverlap()){var n=e.offsetBefore();if(!1===n.equals(this._offset))return new t(this._dateTime,n,this._zone)}return this},n.withLaterOffsetAtOverlap=function(){var e=this._zone.rules().transition(this.toLocalDateTime());if(null!=e){var n=e.offsetAfter();if(!1===n.equals(this._offset))return new t(this._dateTime,n,this._zone)}return this},n.zone=function(){return this._zone},n.withZoneSameLocal=function(e){return T(e,"zone"),this._zone.equals(e)?this:t.ofLocal(this._dateTime,e,this._offset)},n.withZoneSameInstant=function(e){return T(e,"zone"),this._zone.equals(e)?this:t._create(this._dateTime.toEpochSecond(this._offset),this._dateTime.nano(),e)},n.withFixedOffsetZone=function(){return this._zone.equals(this._offset)?this:new t(this._dateTime,this._offset,this._offset)},n.year=function(){return this._dateTime.year()},n.monthValue=function(){return this._dateTime.monthValue()},n.month=function(){return this._dateTime.month()},n.dayOfMonth=function(){return this._dateTime.dayOfMonth()},n.dayOfYear=function(){return this._dateTime.dayOfYear()},n.dayOfWeek=function(){return this._dateTime.dayOfWeek()},n.hour=function(){return this._dateTime.hour()},n.minute=function(){return this._dateTime.minute()},n.second=function(){return this._dateTime.second()},n.nano=function(){return this._dateTime.nano()},n._withAdjuster=function(n){return n instanceof e2?this._resolveLocal(e8.of(n,this._dateTime.toLocalTime())):n instanceof e5?this._resolveLocal(e8.of(this._dateTime.toLocalDate(),n)):n instanceof e8?this._resolveLocal(n):n instanceof e6?t._create(n.epochSecond(),n.nano(),this._zone):n instanceof J?this._resolveOffset(n):e.prototype._withAdjuster.call(this,n)},n._withField=function(e,n){if(e instanceof P){switch(e){case P.INSTANT_SECONDS:return t._create(n,this.nano(),this._zone);case P.OFFSET_SECONDS:var r=J.ofTotalSeconds(e.checkValidIntValue(n));return this._resolveOffset(r)}return this._resolveLocal(this._dateTime.with(e,n))}return e.adjustInto(this,n)},n.withYear=function(e){return this._resolveLocal(this._dateTime.withYear(e))},n.withMonth=function(e){return this._resolveLocal(this._dateTime.withMonth(e))},n.withDayOfMonth=function(e){return this._resolveLocal(this._dateTime.withDayOfMonth(e))},n.withDayOfYear=function(e){return this._resolveLocal(this._dateTime.withDayOfYear(e))},n.withHour=function(e){return this._resolveLocal(this._dateTime.withHour(e))},n.withMinute=function(e){return this._resolveLocal(this._dateTime.withMinute(e))},n.withSecond=function(e){return this._resolveLocal(this._dateTime.withSecond(e))},n.withNano=function(e){return this._resolveLocal(this._dateTime.withNano(e))},n.truncatedTo=function(e){return this._resolveLocal(this._dateTime.truncatedTo(e))},n._plusUnit=function(e,t){return t instanceof R?t.isDateBased()?this._resolveLocal(this._dateTime.plus(e,t)):this._resolveInstant(this._dateTime.plus(e,t)):(T(t,"unit"),t.addTo(this,e))},n.plusYears=function(e){return this._resolveLocal(this._dateTime.plusYears(e))},n.plusMonths=function(e){return this._resolveLocal(this._dateTime.plusMonths(e))},n.plusWeeks=function(e){return this._resolveLocal(this._dateTime.plusWeeks(e))},n.plusDays=function(e){return this._resolveLocal(this._dateTime.plusDays(e))},n.plusHours=function(e){return this._resolveInstant(this._dateTime.plusHours(e))},n.plusMinutes=function(e){return this._resolveInstant(this._dateTime.plusMinutes(e))},n.plusSeconds=function(e){return this._resolveInstant(this._dateTime.plusSeconds(e))},n.plusNanos=function(e){return this._resolveInstant(this._dateTime.plusNanos(e))},n._minusUnit=function(e,t){return this._plusUnit(-1*e,t)},n.minusYears=function(e){return this.plusYears(-1*e)},n.minusMonths=function(e){return this.plusMonths(-1*e)},n.minusWeeks=function(e){return this.plusWeeks(-1*e)},n.minusDays=function(e){return this.plusDays(-1*e)},n.minusHours=function(e){return this.plusHours(-1*e)},n.minusMinutes=function(e){return this.plusMinutes(-1*e)},n.minusSeconds=function(e){return this.plusSeconds(-1*e)},n.minusNanos=function(e){return this.plusNanos(-1*e)},n.query=function(t){return t===M.localDate()?this.toLocalDate():(T(t,"query"),e.prototype.query.call(this,t))},n.until=function(e,n){var r=t.from(e);if(n instanceof R){if(r=r.withZoneSameInstant(this._zone),n.isDateBased())return this._dateTime.until(r._dateTime,n);var i=this._offset.totalSeconds()-r._offset.totalSeconds(),o=r._dateTime.plusSeconds(i);return this._dateTime.until(o,n)}return n.between(this,r)},n.toLocalDateTime=function(){return this._dateTime},n.toLocalDate=function(){return this._dateTime.toLocalDate()},n.toLocalTime=function(){return this._dateTime.toLocalTime()},n.toOffsetDateTime=function(){return e1.of(this._dateTime,this._offset)},n.equals=function(e){return this===e||e instanceof t&&this._dateTime.equals(e._dateTime)&&this._offset.equals(e._offset)&&this._zone.equals(e._zone)},n.hashCode=function(){return S.hashCode(this._dateTime.hashCode(),this._offset.hashCode(),this._zone.hashCode())},n.toString=function(){var e=this._dateTime.toString()+this._offset.toString();return this._offset!==this._zone&&(e+="["+this._zone.toString()+"]"),e},n.toJSON=function(){return this.toString()},n.format=function(t){return e.prototype.format.call(this,t)},t}(eJ),e1=function(e){function t(t,n){var r;return r=e.call(this)||this,T(t,"dateTime"),w(t,e8,"dateTime"),T(n,"offset"),w(n,J,"offset"),r._dateTime=t,r._offset=n,r}g(t,e),t.from=function(e){if(T(e,"temporal"),e instanceof t)return e;try{var n=J.from(e);try{var r=e8.from(e);return t.of(r,n)}catch(r){var i=e6.from(e);return t.ofInstant(i,n)}}catch(t){throw new c("Unable to obtain OffsetDateTime TemporalAccessor: "+e+", type "+(null!=e.constructor?e.constructor.name:""))}},t.now=function(e){if(0==arguments.length)return t.now(e3.systemDefaultZone());if(T(e,"clockOrZone"),e instanceof G)return t.now(e3.system(e));if(e instanceof e3){var n=e.instant();return t.ofInstant(n,e.zone().rules().offset(n))}throw new f("clockOrZone must be an instance of ZoneId or Clock")},t.of=function(){return arguments.length<=2?t.ofDateTime.apply(this,arguments):3==arguments.length?t.ofDateAndTime.apply(this,arguments):t.ofNumbers.apply(this,arguments)},t.ofDateTime=function(e,n){return new t(e,n)},t.ofDateAndTime=function(e,n,r){return new t(e8.of(e,n),r)},t.ofNumbers=function(e,n,r,i,o,s,a,l){return void 0===i&&(i=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),new t(e8.of(e,n,r,i,o,s,a),l)},t.ofInstant=function(e,n){T(e,"instant"),T(n,"zone");var r=n.rules().offset(e);return new t(e8.ofEpochSecond(e.epochSecond(),e.nano(),r),r)},t.parse=function(e,n){return void 0===n&&(n=ej.ISO_OFFSET_DATE_TIME),T(n,"formatter"),n.parse(e,t.FROM)};var n=t.prototype;return n.adjustInto=function(e){return e.with(P.EPOCH_DAY,this.toLocalDate().toEpochDay()).with(P.NANO_OF_DAY,this.toLocalTime().toNanoOfDay()).with(P.OFFSET_SECONDS,this.offset().totalSeconds())},n.until=function(e,n){var r=t.from(e);return n instanceof R?(r=r.withOffsetSameInstant(this._offset),this._dateTime.until(r._dateTime,n)):n.between(this,r)},n.atZoneSameInstant=function(e){return e0.ofInstant(this._dateTime,this._offset,e)},n.atZoneSimilarLocal=function(e){return e0.ofLocal(this._dateTime,e,this._offset)},n.query=function(t){return(T(t,"query"),t===M.chronology())?eQ.INSTANCE:t===M.precision()?R.NANOS:t===M.offset()||t===M.zone()?this.offset():t===M.localDate()?this.toLocalDate():t===M.localTime()?this.toLocalTime():t===M.zoneId()?null:e.prototype.query.call(this,t)},n.get=function(t){if(t instanceof P){switch(t){case P.INSTANT_SECONDS:throw new c("Field too large for an int: "+t);case P.OFFSET_SECONDS:return this.offset().totalSeconds()}return this._dateTime.get(t)}return e.prototype.get.call(this,t)},n.getLong=function(e){if(e instanceof P){switch(e){case P.INSTANT_SECONDS:return this.toEpochSecond();case P.OFFSET_SECONDS:return this.offset().totalSeconds()}return this._dateTime.getLong(e)}return e.getFrom(this)},n.offset=function(){return this._offset},n.year=function(){return this._dateTime.year()},n.monthValue=function(){return this._dateTime.monthValue()},n.month=function(){return this._dateTime.month()},n.dayOfMonth=function(){return this._dateTime.dayOfMonth()},n.dayOfYear=function(){return this._dateTime.dayOfYear()},n.dayOfWeek=function(){return this._dateTime.dayOfWeek()},n.hour=function(){return this._dateTime.hour()},n.minute=function(){return this._dateTime.minute()},n.second=function(){return this._dateTime.second()},n.nano=function(){return this._dateTime.nano()},n.toLocalDateTime=function(){return this._dateTime},n.toLocalDate=function(){return this._dateTime.toLocalDate()},n.toLocalTime=function(){return this._dateTime.toLocalTime()},n.toOffsetTime=function(){return eX.of(this._dateTime.toLocalTime(),this._offset)},n.toZonedDateTime=function(){return e0.of(this._dateTime,this._offset)},n.toInstant=function(){return this._dateTime.toInstant(this._offset)},n.toEpochSecond=function(){return this._dateTime.toEpochSecond(this._offset)},n.isSupported=function(e){return e instanceof P||e instanceof R?e.isDateBased()||e.isTimeBased():null!=e&&e.isSupportedBy(this)},n.range=function(e){return e instanceof P?e===P.INSTANT_SECONDS||e===P.OFFSET_SECONDS?e.range():this._dateTime.range(e):e.rangeRefinedBy(this)},n._withAdjuster=function(e){return(T(e),e instanceof e2||e instanceof e5||e instanceof e8)?this._withDateTimeOffset(this._dateTime.with(e),this._offset):e instanceof e6?t.ofInstant(e,this._offset):e instanceof J?this._withDateTimeOffset(this._dateTime,e):e instanceof t?e:e.adjustInto(this)},n._withField=function(e,n){if(T(e),e instanceof P){switch(e){case P.INSTANT_SECONDS:return t.ofInstant(e6.ofEpochSecond(n,this.nano()),this._offset);case P.OFFSET_SECONDS:return this._withDateTimeOffset(this._dateTime,J.ofTotalSeconds(e.checkValidIntValue(n)))}return this._withDateTimeOffset(this._dateTime.with(e,n),this._offset)}return e.adjustInto(this,n)},n._withDateTimeOffset=function(e,n){return this._dateTime===e&&this._offset.equals(n)?this:new t(e,n)},n.withYear=function(e){return this._withDateTimeOffset(this._dateTime.withYear(e),this._offset)},n.withMonth=function(e){return this._withDateTimeOffset(this._dateTime.withMonth(e),this._offset)},n.withDayOfMonth=function(e){return this._withDateTimeOffset(this._dateTime.withDayOfMonth(e),this._offset)},n.withDayOfYear=function(e){return this._withDateTimeOffset(this._dateTime.withDayOfYear(e),this._offset)},n.withHour=function(e){return this._withDateTimeOffset(this._dateTime.withHour(e),this._offset)},n.withMinute=function(e){return this._withDateTimeOffset(this._dateTime.withMinute(e),this._offset)},n.withSecond=function(e){return this._withDateTimeOffset(this._dateTime.withSecond(e),this._offset)},n.withNano=function(e){return this._withDateTimeOffset(this._dateTime.withNano(e),this._offset)},n.withOffsetSameLocal=function(e){return T(e,"offset"),this._withDateTimeOffset(this._dateTime,e)},n.withOffsetSameInstant=function(e){if(T(e,"offset"),e.equals(this._offset))return this;var n=e.totalSeconds()-this._offset.totalSeconds();return new t(this._dateTime.plusSeconds(n),e)},n.truncatedTo=function(e){return this._withDateTimeOffset(this._dateTime.truncatedTo(e),this._offset)},n._plusAmount=function(e){return T(e,"amount"),e.addTo(this)},n._plusUnit=function(e,t){return t instanceof R?this._withDateTimeOffset(this._dateTime.plus(e,t),this._offset):t.addTo(this,e)},n.plusYears=function(e){return this._withDateTimeOffset(this._dateTime.plusYears(e),this._offset)},n.plusMonths=function(e){return this._withDateTimeOffset(this._dateTime.plusMonths(e),this._offset)},n.plusWeeks=function(e){return this._withDateTimeOffset(this._dateTime.plusWeeks(e),this._offset)},n.plusDays=function(e){return this._withDateTimeOffset(this._dateTime.plusDays(e),this._offset)},n.plusHours=function(e){return this._withDateTimeOffset(this._dateTime.plusHours(e),this._offset)},n.plusMinutes=function(e){return this._withDateTimeOffset(this._dateTime.plusMinutes(e),this._offset)},n.plusSeconds=function(e){return this._withDateTimeOffset(this._dateTime.plusSeconds(e),this._offset)},n.plusNanos=function(e){return this._withDateTimeOffset(this._dateTime.plusNanos(e),this._offset)},n._minusAmount=function(e){return T(e),e.subtractFrom(this)},n._minusUnit=function(e,t){return this.plus(-1*e,t)},n.minusYears=function(e){return this._withDateTimeOffset(this._dateTime.minusYears(e),this._offset)},n.minusMonths=function(e){return this._withDateTimeOffset(this._dateTime.minusMonths(e),this._offset)},n.minusWeeks=function(e){return this._withDateTimeOffset(this._dateTime.minusWeeks(e),this._offset)},n.minusDays=function(e){return this._withDateTimeOffset(this._dateTime.minusDays(e),this._offset)},n.minusHours=function(e){return this._withDateTimeOffset(this._dateTime.minusHours(e),this._offset)},n.minusMinutes=function(e){return this._withDateTimeOffset(this._dateTime.minusMinutes(e),this._offset)},n.minusSeconds=function(e){return this._withDateTimeOffset(this._dateTime.minusSeconds(e),this._offset)},n.minusNanos=function(e){return this._withDateTimeOffset(this._dateTime.minusNanos(e),this._offset)},n.compareTo=function(e){if(T(e,"other"),w(e,t,"other"),this.offset().equals(e.offset()))return this.toLocalDateTime().compareTo(e.toLocalDateTime());var n=S.compareNumbers(this.toEpochSecond(),e.toEpochSecond());return 0===n&&0==(n=this.toLocalTime().nano()-e.toLocalTime().nano())&&(n=this.toLocalDateTime().compareTo(e.toLocalDateTime())),n},n.isAfter=function(e){T(e,"other");var t=this.toEpochSecond(),n=e.toEpochSecond();return t>n||t===n&&this.toLocalTime().nano()>e.toLocalTime().nano()},n.isBefore=function(e){T(e,"other");var t=this.toEpochSecond(),n=e.toEpochSecond();return t<n||t===n&&this.toLocalTime().nano()<e.toLocalTime().nano()},n.isEqual=function(e){return T(e,"other"),this.toEpochSecond()===e.toEpochSecond()&&this.toLocalTime().nano()===e.toLocalTime().nano()},n.equals=function(e){return this===e||e instanceof t&&this._dateTime.equals(e._dateTime)&&this._offset.equals(e._offset)},n.hashCode=function(){return this._dateTime.hashCode()^this._offset.hashCode()},n.toString=function(){return this._dateTime.toString()+this._offset.toString()},n.toJSON=function(){return this.toString()},n.format=function(e){return T(e,"formatter"),e.format(this)},t}($),e2=function(e){function t(n,r,i){var o;return o=e.call(this)||this,T(n,"year"),T(r,"month"),T(i,"dayOfMonth"),r instanceof B&&(r=r.value()),o._year=S.safeToInt(n),o._month=S.safeToInt(r),o._day=S.safeToInt(i),t._validate(o._year,o._month,o._day),o}g(t,e),t.now=function(e){var n;return n=null==e?e3.systemDefaultZone():e instanceof G?e3.system(e):e,t.ofInstant(n.instant(),n.zone())},t.ofInstant=function(e,n){void 0===n&&(n=G.systemDefault()),T(e,"instant");var r=n.rules().offset(e),i=e.epochSecond()+r.totalSeconds(),o=S.floorDiv(i,e5.SECONDS_PER_DAY);return t.ofEpochDay(o)},t.of=function(e,n,r){return new t(e,n,r)},t.ofYearDay=function(e,n){P.YEAR.checkValidValue(e);var r=eQ.isLeapYear(e);366===n&&!1===r&&E(!1,"Invalid date 'DayOfYear 366' as '"+e+"' is not a leap year",c);var i=B.of(Math.floor((n-1)/31+1));n>i.firstDayOfYear(r)+i.length(r)-1&&(i=i.plus(1));var o=n-i.firstDayOfYear(r)+1;return new t(e,i.value(),o)},t.ofEpochDay=function(e){void 0===e&&(e=0),n=0,(s=e+719528-60)<0&&(n=400*(r=S.intDiv(s+1,146097)-1),s+=-(146097*r)),o=S.intDiv(400*s+591,146097),(i=s-(365*o+S.intDiv(o,4)-S.intDiv(o,100)+S.intDiv(o,400)))<0&&(i=s-(365*--o+S.intDiv(o,4)-S.intDiv(o,100)+S.intDiv(o,400))),o+=n;var n,r,i,o,s,a=i,l=S.intDiv(5*a+2,153),c=a-S.intDiv(306*l+5,10)+1;return new t(o+=S.intDiv(l,10),(l+2)%12+1,c)},t.from=function(e){T(e,"temporal");var t=e.query(M.localDate());if(null==t)throw new c("Unable to obtain LocalDate from TemporalAccessor: "+e+", type "+(null!=e.constructor?e.constructor.name:""));return t},t.parse=function(e,n){return void 0===n&&(n=ej.ISO_LOCAL_DATE),E(null!=n,"formatter",m),n.parse(e,t.FROM)},t._resolvePreviousValid=function(e,n,r){switch(n){case 2:r=Math.min(r,eQ.isLeapYear(e)?29:28);break;case 4:case 6:case 9:case 11:r=Math.min(r,30)}return t.of(e,n,r)},t._validate=function(e,t,n){var r;if(P.YEAR.checkValidValue(e),P.MONTH_OF_YEAR.checkValidValue(t),P.DAY_OF_MONTH.checkValidValue(n),n>28){switch(r=31,t){case 2:r=eQ.isLeapYear(e)?29:28;break;case 4:case 6:case 9:case 11:r=30}n>r&&(29===n?E(!1,"Invalid date 'February 29' as '"+e+"' is not a leap year",c):E(!1,"Invalid date '"+e+"' '"+t+"' '"+n+"'",c))}};var n=t.prototype;return n.isSupported=function(t){return e.prototype.isSupported.call(this,t)},n.range=function(e){if(e instanceof P){if(e.isDateBased()){switch(e){case P.DAY_OF_MONTH:return k.of(1,this.lengthOfMonth());case P.DAY_OF_YEAR:return k.of(1,this.lengthOfYear());case P.ALIGNED_WEEK_OF_MONTH:return k.of(1,this.month()===B.FEBRUARY&&!1===this.isLeapYear()?4:5);case P.YEAR_OF_ERA:return this._year<=0?k.of(1,e$.MAX_VALUE+1):k.of(1,e$.MAX_VALUE)}return e.range()}throw new h("Unsupported field: "+e)}return e.rangeRefinedBy(this)},n.get=function(e){return this.getLong(e)},n.getLong=function(e){return(E(null!=e,"",m),e instanceof P)?this._get0(e):e.getFrom(this)},n._get0=function(e){switch(e){case P.DAY_OF_WEEK:return this.dayOfWeek().value();case P.ALIGNED_DAY_OF_WEEK_IN_MONTH:return S.intMod(this._day-1,7)+1;case P.ALIGNED_DAY_OF_WEEK_IN_YEAR:return S.intMod(this.dayOfYear()-1,7)+1;case P.DAY_OF_MONTH:return this._day;case P.DAY_OF_YEAR:return this.dayOfYear();case P.EPOCH_DAY:return this.toEpochDay();case P.ALIGNED_WEEK_OF_MONTH:return S.intDiv(this._day-1,7)+1;case P.ALIGNED_WEEK_OF_YEAR:return S.intDiv(this.dayOfYear()-1,7)+1;case P.MONTH_OF_YEAR:return this._month;case P.PROLEPTIC_MONTH:return this._prolepticMonth();case P.YEAR_OF_ERA:return this._year>=1?this._year:1-this._year;case P.YEAR:return this._year;case P.ERA:return this._year>=1?1:0}throw new h("Unsupported field: "+e)},n._prolepticMonth=function(){return 12*this._year+(this._month-1)},n.chronology=function(){return eQ.INSTANCE},n.year=function(){return this._year},n.monthValue=function(){return this._month},n.month=function(){return B.of(this._month)},n.dayOfMonth=function(){return this._day},n.dayOfYear=function(){return this.month().firstDayOfYear(this.isLeapYear())+this._day-1},n.dayOfWeek=function(){var e=S.floorMod(this.toEpochDay()+3,7);return F.of(e+1)},n.isLeapYear=function(){return eQ.isLeapYear(this._year)},n.lengthOfMonth=function(){switch(this._month){case 2:return this.isLeapYear()?29:28;case 4:case 6:case 9:case 11:return 30;default:return 31}},n.lengthOfYear=function(){return this.isLeapYear()?366:365},n._withAdjuster=function(n){return(T(n,"adjuster"),n instanceof t)?n:e.prototype._withAdjuster.call(this,n)},n._withField=function(e,n){if(E(null!=e,"field",m),e instanceof P){switch(e.checkValidValue(n),e){case P.DAY_OF_WEEK:return this.plusDays(n-this.dayOfWeek().value());case P.ALIGNED_DAY_OF_WEEK_IN_MONTH:return this.plusDays(n-this.getLong(P.ALIGNED_DAY_OF_WEEK_IN_MONTH));case P.ALIGNED_DAY_OF_WEEK_IN_YEAR:return this.plusDays(n-this.getLong(P.ALIGNED_DAY_OF_WEEK_IN_YEAR));case P.DAY_OF_MONTH:return this.withDayOfMonth(n);case P.DAY_OF_YEAR:return this.withDayOfYear(n);case P.EPOCH_DAY:return t.ofEpochDay(n);case P.ALIGNED_WEEK_OF_MONTH:return this.plusWeeks(n-this.getLong(P.ALIGNED_WEEK_OF_MONTH));case P.ALIGNED_WEEK_OF_YEAR:return this.plusWeeks(n-this.getLong(P.ALIGNED_WEEK_OF_YEAR));case P.MONTH_OF_YEAR:return this.withMonth(n);case P.PROLEPTIC_MONTH:return this.plusMonths(n-this.getLong(P.PROLEPTIC_MONTH));case P.YEAR_OF_ERA:return this.withYear(this._year>=1?n:1-n);case P.YEAR:return this.withYear(n);case P.ERA:return this.getLong(P.ERA)===n?this:this.withYear(1-this._year)}throw new h("Unsupported field: "+e)}return e.adjustInto(this,n)},n.withYear=function(e){return this._year===e?this:(P.YEAR.checkValidValue(e),t._resolvePreviousValid(e,this._month,this._day))},n.withMonth=function(e){var n=e instanceof B?e.value():e;return this._month===n?this:(P.MONTH_OF_YEAR.checkValidValue(n),t._resolvePreviousValid(this._year,n,this._day))},n.withDayOfMonth=function(e){return this._day===e?this:t.of(this._year,this._month,e)},n.withDayOfYear=function(e){return this.dayOfYear()===e?this:t.ofYearDay(this._year,e)},n._plusUnit=function(e,t){if(T(e,"amountToAdd"),T(t,"unit"),t instanceof R){switch(t){case R.DAYS:return this.plusDays(e);case R.WEEKS:return this.plusWeeks(e);case R.MONTHS:return this.plusMonths(e);case R.YEARS:return this.plusYears(e);case R.DECADES:return this.plusYears(S.safeMultiply(e,10));case R.CENTURIES:return this.plusYears(S.safeMultiply(e,100));case R.MILLENNIA:return this.plusYears(S.safeMultiply(e,1e3));case R.ERAS:return this.with(P.ERA,S.safeAdd(this.getLong(P.ERA),e))}throw new h("Unsupported unit: "+t)}return t.addTo(this,e)},n.plusYears=function(e){if(0===e)return this;var n=P.YEAR.checkValidIntValue(this._year+e);return t._resolvePreviousValid(n,this._month,this._day)},n.plusMonths=function(e){if(0===e)return this;var n=12*this._year+(this._month-1)+e,r=P.YEAR.checkValidIntValue(S.floorDiv(n,12)),i=S.floorMod(n,12)+1;return t._resolvePreviousValid(r,i,this._day)},n.plusWeeks=function(e){return this.plusDays(S.safeMultiply(e,7))},n.plusDays=function(e){if(0===e)return this;var n=S.safeAdd(this.toEpochDay(),e);return t.ofEpochDay(n)},n._minusUnit=function(e,t){return T(e,"amountToSubtract"),T(t,"unit"),this._plusUnit(-1*e,t)},n.minusYears=function(e){return this.plusYears(-1*e)},n.minusMonths=function(e){return this.plusMonths(-1*e)},n.minusWeeks=function(e){return this.plusWeeks(-1*e)},n.minusDays=function(e){return this.plusDays(-1*e)},n.query=function(t){return(T(t,"query"),t===M.localDate())?this:e.prototype.query.call(this,t)},n.adjustInto=function(t){return e.prototype.adjustInto.call(this,t)},n.until=function(e,t){return arguments.length<2?this.until1(e):this.until2(e,t)},n.until2=function(e,n){var r=t.from(e);if(n instanceof R){switch(n){case R.DAYS:return this.daysUntil(r);case R.WEEKS:return S.intDiv(this.daysUntil(r),7);case R.MONTHS:return this._monthsUntil(r);case R.YEARS:return S.intDiv(this._monthsUntil(r),12);case R.DECADES:return S.intDiv(this._monthsUntil(r),120);case R.CENTURIES:return S.intDiv(this._monthsUntil(r),1200);case R.MILLENNIA:return S.intDiv(this._monthsUntil(r),12e3);case R.ERAS:return r.getLong(P.ERA)-this.getLong(P.ERA)}throw new h("Unsupported unit: "+n)}return n.between(this,r)},n.daysUntil=function(e){return e.toEpochDay()-this.toEpochDay()},n._monthsUntil=function(e){var t=32*this._prolepticMonth()+this.dayOfMonth(),n=32*e._prolepticMonth()+e.dayOfMonth();return S.intDiv(n-t,32)},n.until1=function(e){var n=t.from(e),r=n._prolepticMonth()-this._prolepticMonth(),i=n._day-this._day;if(r>0&&i<0){r--;var o=this.plusMonths(r);i=n.toEpochDay()-o.toEpochDay()}else r<0&&i>0&&(r++,i-=n.lengthOfMonth());var s=S.intDiv(r,12),a=S.intMod(r,12);return Y.of(s,a,i)},n.atTime=function(){return 1==arguments.length?this.atTime1.apply(this,arguments):this.atTime4.apply(this,arguments)},n.atTime1=function(e){if(T(e,"time"),e instanceof e5)return e8.of(this,e);if(e instanceof eX)return this._atTimeOffsetTime(e);throw new f("time must be an instance of LocalTime or OffsetTime"+(e&&e.constructor&&e.constructor.name?", but is "+e.constructor.name:""))},n.atTime4=function(e,t,n,r){return void 0===n&&(n=0),void 0===r&&(r=0),this.atTime1(e5.of(e,t,n,r))},n._atTimeOffsetTime=function(e){return e1.of(e8.of(this,e.toLocalTime()),e.offset())},n.atStartOfDay=function(e){return null!=e?this._atStartOfDayWithZone(e):e8.of(this,e5.MIDNIGHT)},n._atStartOfDayWithZone=function(e){T(e,"zone");var t=this.atTime(e5.MIDNIGHT);if(e instanceof J==!1){var n=e.rules().transition(t);null!=n&&n.isGap()&&(t=n.dateTimeAfter())}return e0.of(t,e)},n.toEpochDay=function(){var e,t=this._year,n=this._month;return e=0+365*t,t>=0?e+=S.intDiv(t+3,4)-S.intDiv(t+99,100)+S.intDiv(t+399,400):e-=S.intDiv(t,-4)-S.intDiv(t,-100)+S.intDiv(t,-400),e+=S.intDiv(367*n-362,12)+(this.dayOfMonth()-1),n>2&&(e--,!eQ.isLeapYear(t)&&e--),e-719528},n.compareTo=function(e){return T(e,"other"),w(e,t,"other"),this._compareTo0(e)},n._compareTo0=function(e){var t=this._year-e._year;return 0===t&&0==(t=this._month-e._month)&&(t=this._day-e._day),t},n.isAfter=function(e){return this.compareTo(e)>0},n.isBefore=function(e){return 0>this.compareTo(e)},n.isEqual=function(e){return 0===this.compareTo(e)},n.equals=function(e){return this===e||e instanceof t&&0===this._compareTo0(e)},n.hashCode=function(){var e=this._year,t=this._month,n=this._day;return S.hash(4294965248&e^(e<<11)+(t<<6)+n)},n.toString=function(){var e=this._year,t=this._month,n=this._day;return(1e3>Math.abs(e)?e<0?"-"+(""+(e-1e4)).slice(-4):(""+(e+1e4)).slice(-4):e>9999?"+"+e:""+e)+(t<10?"-0"+t:"-"+t)+(n<10?"-0"+n:"-"+n)},n.toJSON=function(){return this.toString()},n.format=function(t){return T(t,"formatter"),w(t,ej,"formatter"),e.prototype.format.call(this,t)},t}(z),e4=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var n=t.prototype;return n.chronology=function(){return this.toLocalDate().chronology()},n.query=function(t){return t===M.chronology()?this.chronology():t===M.precision()?R.NANOS:t===M.localDate()?e2.ofEpochDay(this.toLocalDate().toEpochDay()):t===M.localTime()?this.toLocalTime():t===M.zone()||t===M.zoneId()||t===M.offset()?null:e.prototype.query.call(this,t)},n.adjustInto=function(e){return e.with(P.EPOCH_DAY,this.toLocalDate().toEpochDay()).with(P.NANO_OF_DAY,this.toLocalTime().toNanoOfDay())},n.toInstant=function(e){return w(e,J,"zoneId"),e6.ofEpochSecond(this.toEpochSecond(e),this.toLocalTime().nano())},n.toEpochSecond=function(e){T(e,"offset");var t=86400*this.toLocalDate().toEpochDay()+this.toLocalTime().toSecondOfDay();return t-=e.totalSeconds(),S.safeToInt(t)},t}($),e8=function(e){function t(t,n){var r;return r=e.call(this)||this,w(t,e2,"date"),w(n,e5,"time"),r._date=t,r._time=n,r}g(t,e),t.now=function(e){return null==e?t._now(e3.systemDefaultZone()):e instanceof e3?t._now(e):t._now(e3.system(e))},t._now=function(e){return T(e,"clock"),t.ofInstant(e.instant(),e.zone())},t._ofEpochMillis=function(e,n){var r=S.floorDiv(e,1e3)+n.totalSeconds(),i=S.floorDiv(r,e5.SECONDS_PER_DAY),o=S.floorMod(r,e5.SECONDS_PER_DAY),s=1e6*S.floorMod(e,1e3);return new t(e2.ofEpochDay(i),e5.ofSecondOfDay(o,s))},t.of=function(){return arguments.length<=2?t.ofDateAndTime.apply(this,arguments):t.ofNumbers.apply(this,arguments)},t.ofNumbers=function(e,n,r,i,o,s,a){return void 0===i&&(i=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),new t(e2.of(e,n,r),e5.of(i,o,s,a))},t.ofDateAndTime=function(e,n){return T(e,"date"),T(n,"time"),new t(e,n)},t.ofInstant=function(e,n){void 0===n&&(n=G.systemDefault()),T(e,"instant"),w(e,e6,"instant"),T(n,"zone");var r=n.rules().offset(e);return t.ofEpochSecond(e.epochSecond(),e.nano(),r)},t.ofEpochSecond=function(e,n,r){void 0===e&&(e=0),void 0===n&&(n=0),2==arguments.length&&n instanceof J&&(r=n,n=0),T(r,"offset");var i=e+r.totalSeconds(),o=S.floorDiv(i,e5.SECONDS_PER_DAY),s=S.floorMod(i,e5.SECONDS_PER_DAY);return new t(e2.ofEpochDay(o),e5.ofSecondOfDay(s,n))},t.from=function(e){if(T(e,"temporal"),e instanceof t)return e;if(e instanceof e0)return e.toLocalDateTime();try{var n=e2.from(e),r=e5.from(e);return new t(n,r)}catch(t){throw new c("Unable to obtain LocalDateTime TemporalAccessor: "+e+", type "+(null!=e.constructor?e.constructor.name:""))}},t.parse=function(e,n){return void 0===n&&(n=ej.ISO_LOCAL_DATE_TIME),T(n,"formatter"),n.parse(e,t.FROM)};var n=t.prototype;return n._withDateTime=function(e,n){return this._date.equals(e)&&this._time.equals(n)?this:new t(e,n)},n.isSupported=function(e){return e instanceof P?e.isDateBased()||e.isTimeBased():e instanceof R?e.isDateBased()||e.isTimeBased():null!=e&&e.isSupportedBy(this)},n.range=function(e){return e instanceof P?e.isTimeBased()?this._time.range(e):this._date.range(e):e.rangeRefinedBy(this)},n.get=function(t){return t instanceof P?t.isTimeBased()?this._time.get(t):this._date.get(t):e.prototype.get.call(this,t)},n.getLong=function(e){return(T(e,"field"),e instanceof P)?e.isTimeBased()?this._time.getLong(e):this._date.getLong(e):e.getFrom(this)},n.year=function(){return this._date.year()},n.monthValue=function(){return this._date.monthValue()},n.month=function(){return this._date.month()},n.dayOfMonth=function(){return this._date.dayOfMonth()},n.dayOfYear=function(){return this._date.dayOfYear()},n.dayOfWeek=function(){return this._date.dayOfWeek()},n.hour=function(){return this._time.hour()},n.minute=function(){return this._time.minute()},n.second=function(){return this._time.second()},n.nano=function(){return this._time.nano()},n._withAdjuster=function(n){return(T(n,"adjuster"),n instanceof e2)?this._withDateTime(n,this._time):n instanceof e5?this._withDateTime(this._date,n):n instanceof t?n:e.prototype._withAdjuster.call(this,n)},n._withField=function(e,t){return(T(e,"field"),e instanceof P)?e.isTimeBased()?this._withDateTime(this._date,this._time.with(e,t)):this._withDateTime(this._date.with(e,t),this._time):e.adjustInto(this,t)},n.withYear=function(e){return this._withDateTime(this._date.withYear(e),this._time)},n.withMonth=function(e){return this._withDateTime(this._date.withMonth(e),this._time)},n.withDayOfMonth=function(e){return this._withDateTime(this._date.withDayOfMonth(e),this._time)},n.withDayOfYear=function(e){return this._withDateTime(this._date.withDayOfYear(e),this._time)},n.withHour=function(e){var t=this._time.withHour(e);return this._withDateTime(this._date,t)},n.withMinute=function(e){var t=this._time.withMinute(e);return this._withDateTime(this._date,t)},n.withSecond=function(e){var t=this._time.withSecond(e);return this._withDateTime(this._date,t)},n.withNano=function(e){var t=this._time.withNano(e);return this._withDateTime(this._date,t)},n.truncatedTo=function(e){return this._withDateTime(this._date,this._time.truncatedTo(e))},n._plusUnit=function(e,t){if(T(t,"unit"),t instanceof R){switch(t){case R.NANOS:return this.plusNanos(e);case R.MICROS:return this.plusDays(S.intDiv(e,e5.MICROS_PER_DAY)).plusNanos(1e3*S.intMod(e,e5.MICROS_PER_DAY));case R.MILLIS:return this.plusDays(S.intDiv(e,e5.MILLIS_PER_DAY)).plusNanos(1e6*S.intMod(e,e5.MILLIS_PER_DAY));case R.SECONDS:return this.plusSeconds(e);case R.MINUTES:return this.plusMinutes(e);case R.HOURS:return this.plusHours(e);case R.HALF_DAYS:return this.plusDays(S.intDiv(e,256)).plusHours(12*S.intMod(e,256))}return this._withDateTime(this._date.plus(e,t),this._time)}return t.addTo(this,e)},n.plusYears=function(e){var t=this._date.plusYears(e);return this._withDateTime(t,this._time)},n.plusMonths=function(e){var t=this._date.plusMonths(e);return this._withDateTime(t,this._time)},n.plusWeeks=function(e){var t=this._date.plusWeeks(e);return this._withDateTime(t,this._time)},n.plusDays=function(e){var t=this._date.plusDays(e);return this._withDateTime(t,this._time)},n.plusHours=function(e){return this._plusWithOverflow(this._date,e,0,0,0,1)},n.plusMinutes=function(e){return this._plusWithOverflow(this._date,0,e,0,0,1)},n.plusSeconds=function(e){return this._plusWithOverflow(this._date,0,0,e,0,1)},n.plusNanos=function(e){return this._plusWithOverflow(this._date,0,0,0,e,1)},n._minusUnit=function(e,t){return T(t,"unit"),this._plusUnit(-1*e,t)},n.minusYears=function(e){return this.plusYears(-1*e)},n.minusMonths=function(e){return this.plusMonths(-1*e)},n.minusWeeks=function(e){return this.plusWeeks(-1*e)},n.minusDays=function(e){return this.plusDays(-1*e)},n.minusHours=function(e){return this._plusWithOverflow(this._date,e,0,0,0,-1)},n.minusMinutes=function(e){return this._plusWithOverflow(this._date,0,e,0,0,-1)},n.minusSeconds=function(e){return this._plusWithOverflow(this._date,0,0,e,0,-1)},n.minusNanos=function(e){return this._plusWithOverflow(this._date,0,0,0,e,-1)},n._plusWithOverflow=function(e,t,n,r,i,o){if(0===t&&0===n&&0===r&&0===i)return this._withDateTime(e,this._time);var s=S.intDiv(i,e5.NANOS_PER_DAY)+S.intDiv(r,e5.SECONDS_PER_DAY)+S.intDiv(n,e5.MINUTES_PER_DAY)+S.intDiv(t,e5.HOURS_PER_DAY);s*=o;var a=S.intMod(i,e5.NANOS_PER_DAY)+S.intMod(r,e5.SECONDS_PER_DAY)*e5.NANOS_PER_SECOND+S.intMod(n,e5.MINUTES_PER_DAY)*e5.NANOS_PER_MINUTE+S.intMod(t,e5.HOURS_PER_DAY)*e5.NANOS_PER_HOUR,l=this._time.toNanoOfDay();a=a*o+l,s+=S.floorDiv(a,e5.NANOS_PER_DAY);var c=S.floorMod(a,e5.NANOS_PER_DAY),u=c===l?this._time:e5.ofNanoOfDay(c);return this._withDateTime(e.plusDays(s),u)},n.query=function(t){return(T(t,"query"),t===M.localDate())?this.toLocalDate():e.prototype.query.call(this,t)},n.adjustInto=function(t){return e.prototype.adjustInto.call(this,t)},n.until=function(e,n){T(e,"endExclusive"),T(n,"unit");var r=t.from(e);if(n instanceof R){if(n.isTimeBased()){var i=this._date.daysUntil(r._date),o=r._time.toNanoOfDay()-this._time.toNanoOfDay();i>0&&o<0?(i--,o+=e5.NANOS_PER_DAY):i<0&&o>0&&(i++,o-=e5.NANOS_PER_DAY);var s=i;switch(n){case R.NANOS:return s=S.safeMultiply(s,e5.NANOS_PER_DAY),S.safeAdd(s,o);case R.MICROS:return s=S.safeMultiply(s,e5.MICROS_PER_DAY),S.safeAdd(s,S.intDiv(o,1e3));case R.MILLIS:return s=S.safeMultiply(s,e5.MILLIS_PER_DAY),S.safeAdd(s,S.intDiv(o,1e6));case R.SECONDS:return s=S.safeMultiply(s,e5.SECONDS_PER_DAY),S.safeAdd(s,S.intDiv(o,e5.NANOS_PER_SECOND));case R.MINUTES:return s=S.safeMultiply(s,e5.MINUTES_PER_DAY),S.safeAdd(s,S.intDiv(o,e5.NANOS_PER_MINUTE));case R.HOURS:return s=S.safeMultiply(s,e5.HOURS_PER_DAY),S.safeAdd(s,S.intDiv(o,e5.NANOS_PER_HOUR));case R.HALF_DAYS:return s=S.safeMultiply(s,2),S.safeAdd(s,S.intDiv(o,12*e5.NANOS_PER_HOUR))}throw new h("Unsupported unit: "+n)}var a=r._date,l=r._time;return a.isAfter(this._date)&&l.isBefore(this._time)?a=a.minusDays(1):a.isBefore(this._date)&&l.isAfter(this._time)&&(a=a.plusDays(1)),this._date.until(a,n)}return n.between(this,r)},n.atOffset=function(e){return e1.of(this,e)},n.atZone=function(e){return e0.of(this,e)},n.toLocalDate=function(){return this._date},n.toLocalTime=function(){return this._time},n.compareTo=function(e){return T(e,"other"),w(e,t,"other"),this._compareTo0(e)},n._compareTo0=function(e){var t=this._date.compareTo(e.toLocalDate());return 0===t&&(t=this._time.compareTo(e.toLocalTime())),t},n.isAfter=function(e){return this.compareTo(e)>0},n.isBefore=function(e){return 0>this.compareTo(e)},n.isEqual=function(e){return 0===this.compareTo(e)},n.equals=function(e){return this===e||e instanceof t&&this._date.equals(e._date)&&this._time.equals(e._time)},n.hashCode=function(){return this._date.hashCode()^this._time.hashCode()},n.toString=function(){return this._date.toString()+"T"+this._time.toString()},n.toJSON=function(){return this.toString()},n.format=function(e){return T(e,"formatter"),e.format(this)},t}(e4),e5=function(e){function t(n,r,i,o){void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=0),s=e.call(this)||this;var s,a=S.safeToInt(n),l=S.safeToInt(r),c=S.safeToInt(i),u=S.safeToInt(o);return(t._validate(a,l,c,u),0===l&&0===c&&0===u)?(t.HOURS[a]||(s._hour=a,s._minute=l,s._second=c,s._nano=u,t.HOURS[a]=_(s)),t.HOURS[a]||_(s)):(s._hour=a,s._minute=l,s._second=c,s._nano=u,s)}g(t,e),t.now=function(e){return null==e?t._now(e3.systemDefaultZone()):e instanceof e3?t._now(e):t._now(e3.system(e))},t._now=function(e){return void 0===e&&(e=e3.systemDefaultZone()),T(e,"clock"),t.ofInstant(e.instant(),e.zone())},t.ofInstant=function(e,n){void 0===n&&(n=G.systemDefault());var r=n.rules().offset(e),i=S.intMod(e.epochSecond(),t.SECONDS_PER_DAY);return(i=S.intMod(i+r.totalSeconds(),t.SECONDS_PER_DAY))<0&&(i+=t.SECONDS_PER_DAY),t.ofSecondOfDay(i,e.nano())},t.of=function(e,n,r,i){return new t(e,n,r,i)},t.ofSecondOfDay=function(e,n){void 0===e&&(e=0),void 0===n&&(n=0),P.SECOND_OF_DAY.checkValidValue(e),P.NANO_OF_SECOND.checkValidValue(n);var r=S.intDiv(e,t.SECONDS_PER_HOUR);e-=r*t.SECONDS_PER_HOUR;var i=S.intDiv(e,t.SECONDS_PER_MINUTE);return e-=i*t.SECONDS_PER_MINUTE,new t(r,i,e,n)},t.ofNanoOfDay=function(e){void 0===e&&(e=0),P.NANO_OF_DAY.checkValidValue(e);var n=S.intDiv(e,t.NANOS_PER_HOUR);e-=n*t.NANOS_PER_HOUR;var r=S.intDiv(e,t.NANOS_PER_MINUTE);e-=r*t.NANOS_PER_MINUTE;var i=S.intDiv(e,t.NANOS_PER_SECOND);return e-=i*t.NANOS_PER_SECOND,new t(n,r,i,e)},t.from=function(e){T(e,"temporal");var t=e.query(M.localTime());if(null==t)throw new c("Unable to obtain LocalTime TemporalAccessor: "+e+", type "+(null!=e.constructor?e.constructor.name:""));return t},t.parse=function(e,n){return void 0===n&&(n=ej.ISO_LOCAL_TIME),T(n,"formatter"),n.parse(e,t.FROM)},t._validate=function(e,t,n,r){P.HOUR_OF_DAY.checkValidValue(e),P.MINUTE_OF_HOUR.checkValidValue(t),P.SECOND_OF_MINUTE.checkValidValue(n),P.NANO_OF_SECOND.checkValidValue(r)};var n=t.prototype;return n.isSupported=function(e){return e instanceof P?e.isTimeBased():e instanceof R?e.isTimeBased():null!=e&&e.isSupportedBy(this)},n.range=function(t){return T(t),e.prototype.range.call(this,t)},n.get=function(e){return this.getLong(e)},n.getLong=function(e){return(T(e,"field"),e instanceof P)?this._get0(e):e.getFrom(this)},n._get0=function(e){switch(e){case P.NANO_OF_SECOND:return this._nano;case P.NANO_OF_DAY:return this.toNanoOfDay();case P.MICRO_OF_SECOND:return S.intDiv(this._nano,1e3);case P.MICRO_OF_DAY:return S.intDiv(this.toNanoOfDay(),1e3);case P.MILLI_OF_SECOND:return S.intDiv(this._nano,1e6);case P.MILLI_OF_DAY:return S.intDiv(this.toNanoOfDay(),1e6);case P.SECOND_OF_MINUTE:return this._second;case P.SECOND_OF_DAY:return this.toSecondOfDay();case P.MINUTE_OF_HOUR:return this._minute;case P.MINUTE_OF_DAY:return 60*this._hour+this._minute;case P.HOUR_OF_AMPM:return S.intMod(this._hour,12);case P.CLOCK_HOUR_OF_AMPM:var t=S.intMod(this._hour,12);return t%12==0?12:t;case P.HOUR_OF_DAY:return this._hour;case P.CLOCK_HOUR_OF_DAY:return 0===this._hour?24:this._hour;case P.AMPM_OF_DAY:return S.intDiv(this._hour,12)}throw new h("Unsupported field: "+e)},n.hour=function(){return this._hour},n.minute=function(){return this._minute},n.second=function(){return this._second},n.nano=function(){return this._nano},n._withAdjuster=function(n){return(T(n,"adjuster"),n instanceof t)?n:e.prototype._withAdjuster.call(this,n)},n._withField=function(e,n){if(T(e,"field"),w(e,D,"field"),e instanceof P){switch(e.checkValidValue(n),e){case P.NANO_OF_SECOND:return this.withNano(n);case P.NANO_OF_DAY:return t.ofNanoOfDay(n);case P.MICRO_OF_SECOND:return this.withNano(1e3*n);case P.MICRO_OF_DAY:return t.ofNanoOfDay(1e3*n);case P.MILLI_OF_SECOND:return this.withNano(1e6*n);case P.MILLI_OF_DAY:return t.ofNanoOfDay(1e6*n);case P.SECOND_OF_MINUTE:return this.withSecond(n);case P.SECOND_OF_DAY:return this.plusSeconds(n-this.toSecondOfDay());case P.MINUTE_OF_HOUR:return this.withMinute(n);case P.MINUTE_OF_DAY:return this.plusMinutes(n-(60*this._hour+this._minute));case P.HOUR_OF_AMPM:return this.plusHours(n-S.intMod(this._hour,12));case P.CLOCK_HOUR_OF_AMPM:return this.plusHours((12===n?0:n)-S.intMod(this._hour,12));case P.HOUR_OF_DAY:return this.withHour(n);case P.CLOCK_HOUR_OF_DAY:return this.withHour(24===n?0:n);case P.AMPM_OF_DAY:return this.plusHours((n-S.intDiv(this._hour,12))*12)}throw new h("Unsupported field: "+e)}return e.adjustInto(this,n)},n.withHour=function(e){return(void 0===e&&(e=0),this._hour===e)?this:new t(e,this._minute,this._second,this._nano)},n.withMinute=function(e){return(void 0===e&&(e=0),this._minute===e)?this:new t(this._hour,e,this._second,this._nano)},n.withSecond=function(e){return(void 0===e&&(e=0),this._second===e)?this:new t(this._hour,this._minute,e,this._nano)},n.withNano=function(e){return(void 0===e&&(e=0),this._nano===e)?this:new t(this._hour,this._minute,this._second,e)},n.truncatedTo=function(e){if(T(e,"unit"),e===R.NANOS)return this;var n=e.duration();if(n.seconds()>t.SECONDS_PER_DAY)throw new c("Unit is too large to be used for truncation");var r=n.toNanos();if(0!==S.intMod(t.NANOS_PER_DAY,r))throw new c("Unit must divide into a standard day without remainder");var i=this.toNanoOfDay();return t.ofNanoOfDay(S.intDiv(i,r)*r)},n._plusUnit=function(e,n){if(T(n,"unit"),n instanceof R){switch(n){case R.NANOS:return this.plusNanos(e);case R.MICROS:return this.plusNanos(1e3*S.intMod(e,t.MICROS_PER_DAY));case R.MILLIS:return this.plusNanos(1e6*S.intMod(e,t.MILLIS_PER_DAY));case R.SECONDS:return this.plusSeconds(e);case R.MINUTES:return this.plusMinutes(e);case R.HOURS:return this.plusHours(e);case R.HALF_DAYS:return this.plusHours(12*S.intMod(e,2))}throw new h("Unsupported unit: "+n)}return n.addTo(this,e)},n.plusHours=function(e){if(0===e)return this;var n=S.intMod(S.intMod(e,t.HOURS_PER_DAY)+this._hour+t.HOURS_PER_DAY,t.HOURS_PER_DAY);return new t(n,this._minute,this._second,this._nano)},n.plusMinutes=function(e){if(0===e)return this;var n=this._hour*t.MINUTES_PER_HOUR+this._minute,r=S.intMod(S.intMod(e,t.MINUTES_PER_DAY)+n+t.MINUTES_PER_DAY,t.MINUTES_PER_DAY);if(n===r)return this;var i=S.intDiv(r,t.MINUTES_PER_HOUR),o=S.intMod(r,t.MINUTES_PER_HOUR);return new t(i,o,this._second,this._nano)},n.plusSeconds=function(e){if(0===e)return this;var n=this._hour*t.SECONDS_PER_HOUR+this._minute*t.SECONDS_PER_MINUTE+this._second,r=S.intMod(S.intMod(e,t.SECONDS_PER_DAY)+n+t.SECONDS_PER_DAY,t.SECONDS_PER_DAY);if(n===r)return this;var i=S.intDiv(r,t.SECONDS_PER_HOUR),o=S.intMod(S.intDiv(r,t.SECONDS_PER_MINUTE),t.MINUTES_PER_HOUR),s=S.intMod(r,t.SECONDS_PER_MINUTE);return new t(i,o,s,this._nano)},n.plusNanos=function(e){if(0===e)return this;var n=this.toNanoOfDay(),r=S.intMod(S.intMod(e,t.NANOS_PER_DAY)+n+t.NANOS_PER_DAY,t.NANOS_PER_DAY);if(n===r)return this;var i=S.intDiv(r,t.NANOS_PER_HOUR),o=S.intMod(S.intDiv(r,t.NANOS_PER_MINUTE),t.MINUTES_PER_HOUR),s=S.intMod(S.intDiv(r,t.NANOS_PER_SECOND),t.SECONDS_PER_MINUTE),a=S.intMod(r,t.NANOS_PER_SECOND);return new t(i,o,s,a)},n._minusUnit=function(e,t){return T(t,"unit"),this._plusUnit(-1*e,t)},n.minusHours=function(e){return this.plusHours(-1*S.intMod(e,t.HOURS_PER_DAY))},n.minusMinutes=function(e){return this.plusMinutes(-1*S.intMod(e,t.MINUTES_PER_DAY))},n.minusSeconds=function(e){return this.plusSeconds(-1*S.intMod(e,t.SECONDS_PER_DAY))},n.minusNanos=function(e){return this.plusNanos(-1*S.intMod(e,t.NANOS_PER_DAY))},n.query=function(e){return(T(e,"query"),e===M.precision())?R.NANOS:e===M.localTime()?this:e===M.chronology()||e===M.zoneId()||e===M.zone()||e===M.offset()||e===M.localDate()?null:e.queryFrom(this)},n.adjustInto=function(e){return e.with(t.NANO_OF_DAY,this.toNanoOfDay())},n.until=function(e,n){T(e,"endExclusive"),T(n,"unit");var r=t.from(e);if(n instanceof R){var i=r.toNanoOfDay()-this.toNanoOfDay();switch(n){case R.NANOS:return i;case R.MICROS:return S.intDiv(i,1e3);case R.MILLIS:return S.intDiv(i,1e6);case R.SECONDS:return S.intDiv(i,t.NANOS_PER_SECOND);case R.MINUTES:return S.intDiv(i,t.NANOS_PER_MINUTE);case R.HOURS:return S.intDiv(i,t.NANOS_PER_HOUR);case R.HALF_DAYS:return S.intDiv(i,12*t.NANOS_PER_HOUR)}throw new h("Unsupported unit: "+n)}return n.between(this,r)},n.atDate=function(e){return e8.of(e,this)},n.atOffset=function(e){return eX.of(this,e)},n.toSecondOfDay=function(){return this._hour*t.SECONDS_PER_HOUR+(this._minute*t.SECONDS_PER_MINUTE+this._second)},n.toNanoOfDay=function(){return this._hour*t.NANOS_PER_HOUR+(this._minute*t.NANOS_PER_MINUTE+this._second*t.NANOS_PER_SECOND+this._nano)},n.compareTo=function(e){T(e,"other"),w(e,t,"other");var n=S.compareNumbers(this._hour,e._hour);return 0===n&&0===(n=S.compareNumbers(this._minute,e._minute))&&0===(n=S.compareNumbers(this._second,e._second))&&(n=S.compareNumbers(this._nano,e._nano)),n},n.isAfter=function(e){return this.compareTo(e)>0},n.isBefore=function(e){return 0>this.compareTo(e)},n.equals=function(e){return this===e||e instanceof t&&this._hour===e._hour&&this._minute===e._minute&&this._second===e._second&&this._nano===e._nano},n.hashCode=function(){var e=this.toNanoOfDay();return S.hash(e)},n.toString=function(){var e="",t=this._hour,n=this._minute,r=this._second,i=this._nano;return e+=(t<10?"0":"")+t+(n<10?":0":":")+n,(r>0||i>0)&&(e+=(r<10?":0":":")+r,i>0&&(e+=".",0===S.intMod(i,1e6)?e+=(""+(S.intDiv(i,1e6)+1e3)).substring(1):0===S.intMod(i,1e3)?e+=(""+(S.intDiv(i,1e3)+1e6)).substring(1):e+=(""+(i+1e9)).substring(1))),e},n.toJSON=function(){return this.toString()},n.format=function(e){return T(e,"formatter"),e.format(this)},t}($);e5.HOURS_PER_DAY=24,e5.MINUTES_PER_HOUR=60,e5.MINUTES_PER_DAY=e5.MINUTES_PER_HOUR*e5.HOURS_PER_DAY,e5.SECONDS_PER_MINUTE=60,e5.SECONDS_PER_HOUR=e5.SECONDS_PER_MINUTE*e5.MINUTES_PER_HOUR,e5.SECONDS_PER_DAY=e5.SECONDS_PER_HOUR*e5.HOURS_PER_DAY,e5.MILLIS_PER_DAY=1e3*e5.SECONDS_PER_DAY,e5.MICROS_PER_DAY=1e6*e5.SECONDS_PER_DAY,e5.NANOS_PER_SECOND=1e9,e5.NANOS_PER_MINUTE=e5.NANOS_PER_SECOND*e5.SECONDS_PER_MINUTE,e5.NANOS_PER_HOUR=e5.NANOS_PER_MINUTE*e5.MINUTES_PER_HOUR,e5.NANOS_PER_DAY=e5.NANOS_PER_HOUR*e5.HOURS_PER_DAY;var e6=function(e){function t(n,r){var i;return i=e.call(this)||this,t._validate(n,r),i._seconds=S.safeToInt(n),i._nanos=S.safeToInt(r),i}g(t,e),t.now=function(e){return void 0===e&&(e=e3.systemUTC()),e.instant()},t.ofEpochSecond=function(e,n){void 0===n&&(n=0);var r=e+S.floorDiv(n,e5.NANOS_PER_SECOND),i=S.floorMod(n,e5.NANOS_PER_SECOND);return t._create(r,i)},t.ofEpochMilli=function(e){var n=S.floorDiv(e,1e3),r=S.floorMod(e,1e3);return t._create(n,1e6*r)},t.ofEpochMicro=function(e){var n=S.floorDiv(e,1e6),r=S.floorMod(e,1e6);return t._create(n,1e3*r)},t.from=function(e){try{var n=e.getLong(P.INSTANT_SECONDS),r=e.get(P.NANO_OF_SECOND);return t.ofEpochSecond(n,r)}catch(t){throw new c("Unable to obtain Instant from TemporalAccessor: "+e+", type "+typeof e,t)}},t.parse=function(e){return ej.ISO_INSTANT.parse(e,t.FROM)},t._create=function(e,n){return 0===e&&0===n?t.EPOCH:new t(e,n)},t._validate=function(e,n){if(e<t.MIN_SECONDS||e>t.MAX_SECONDS||n<0||n>e5.NANOS_PER_SECOND)throw new c("Instant exceeds minimum or maximum instant")};var n=t.prototype;return n.isSupported=function(e){return e instanceof P?e===P.INSTANT_SECONDS||e===P.NANO_OF_SECOND||e===P.MICRO_OF_SECOND||e===P.MILLI_OF_SECOND:e instanceof R?e.isTimeBased()||e===R.DAYS:null!=e&&e.isSupportedBy(this)},n.range=function(t){return e.prototype.range.call(this,t)},n.get=function(e){return this.getLong(e)},n.getLong=function(e){if(e instanceof P){switch(e){case P.NANO_OF_SECOND:return this._nanos;case P.MICRO_OF_SECOND:return S.intDiv(this._nanos,1e3);case P.MILLI_OF_SECOND:return S.intDiv(this._nanos,1e6);case P.INSTANT_SECONDS:return this._seconds}throw new h("Unsupported field: "+e)}return e.getFrom(this)},n.epochSecond=function(){return this._seconds},n.nano=function(){return this._nanos},n._withField=function(e,n){if(T(e,"field"),e instanceof P){switch(e.checkValidValue(n),e){case P.MILLI_OF_SECOND:var r=1e6*n;return r!==this._nanos?t._create(this._seconds,r):this;case P.MICRO_OF_SECOND:var i=1e3*n;return i!==this._nanos?t._create(this._seconds,i):this;case P.NANO_OF_SECOND:return n!==this._nanos?t._create(this._seconds,n):this;case P.INSTANT_SECONDS:return n!==this._seconds?t._create(n,this._nanos):this}throw new h("Unsupported field: "+e)}return e.adjustInto(this,n)},n.truncatedTo=function(e){if(T(e,"unit"),e===R.NANOS)return this;var t=e.duration();if(t.seconds()>e5.SECONDS_PER_DAY)throw new c("Unit is too large to be used for truncation");var n=t.toNanos();if(0!==S.intMod(e5.NANOS_PER_DAY,n))throw new c("Unit must divide into a standard day without remainder");var r=S.intMod(this._seconds,e5.SECONDS_PER_DAY)*e5.NANOS_PER_SECOND+this._nanos,i=S.intDiv(r,n)*n;return this.plusNanos(i-r)},n._plusUnit=function(e,t){if(T(e,"amountToAdd"),T(t,"unit"),w(t,C),t instanceof R){switch(t){case R.NANOS:return this.plusNanos(e);case R.MICROS:return this.plusMicros(e);case R.MILLIS:return this.plusMillis(e);case R.SECONDS:return this.plusSeconds(e);case R.MINUTES:return this.plusSeconds(S.safeMultiply(e,e5.SECONDS_PER_MINUTE));case R.HOURS:return this.plusSeconds(S.safeMultiply(e,e5.SECONDS_PER_HOUR));case R.HALF_DAYS:return this.plusSeconds(S.safeMultiply(e,e5.SECONDS_PER_DAY/2));case R.DAYS:return this.plusSeconds(S.safeMultiply(e,e5.SECONDS_PER_DAY))}throw new h("Unsupported unit: "+t)}return t.addTo(this,e)},n.plusSeconds=function(e){return this._plus(e,0)},n.plusMillis=function(e){return this._plus(S.intDiv(e,1e3),1e6*S.intMod(e,1e3))},n.plusNanos=function(e){return this._plus(0,e)},n.plusMicros=function(e){return this._plus(S.intDiv(e,1e6),1e3*S.intMod(e,1e6))},n._plus=function(e,n){if(0===e&&0===n)return this;var r=this._seconds+e;r+=S.intDiv(n,e5.NANOS_PER_SECOND);var i=this._nanos+n%e5.NANOS_PER_SECOND;return t.ofEpochSecond(r,i)},n._minusUnit=function(e,t){return this._plusUnit(-1*e,t)},n.minusSeconds=function(e){return this.plusSeconds(-1*e)},n.minusMillis=function(e){return this.plusMillis(-1*e)},n.minusNanos=function(e){return this.plusNanos(-1*e)},n.minusMicros=function(e){return this.plusMicros(-1*e)},n.query=function(e){return(T(e,"query"),e===M.precision())?R.NANOS:e===M.localDate()||e===M.localTime()||e===M.chronology()||e===M.zoneId()||e===M.zone()||e===M.offset()?null:e.queryFrom(this)},n.adjustInto=function(e){return T(e,"temporal"),e.with(P.INSTANT_SECONDS,this._seconds).with(P.NANO_OF_SECOND,this._nanos)},n.until=function(e,n){T(e,"endExclusive"),T(n,"unit");var r=t.from(e);if(n instanceof R){switch(n){case R.NANOS:return this._nanosUntil(r);case R.MICROS:return this._microsUntil(r);case R.MILLIS:return S.safeSubtract(r.toEpochMilli(),this.toEpochMilli());case R.SECONDS:return this._secondsUntil(r);case R.MINUTES:return S.intDiv(this._secondsUntil(r),e5.SECONDS_PER_MINUTE);case R.HOURS:return S.intDiv(this._secondsUntil(r),e5.SECONDS_PER_HOUR);case R.HALF_DAYS:return S.intDiv(this._secondsUntil(r),12*e5.SECONDS_PER_HOUR);case R.DAYS:return S.intDiv(this._secondsUntil(r),e5.SECONDS_PER_DAY)}throw new h("Unsupported unit: "+n)}return n.between(this,r)},n._microsUntil=function(e){var t=S.safeSubtract(e.epochSecond(),this.epochSecond()),n=S.safeMultiply(t,1e6);return S.safeAdd(n,S.intDiv(e.nano()-this.nano(),1e3))},n._nanosUntil=function(e){var t=S.safeSubtract(e.epochSecond(),this.epochSecond()),n=S.safeMultiply(t,e5.NANOS_PER_SECOND);return S.safeAdd(n,e.nano()-this.nano())},n._secondsUntil=function(e){var t=S.safeSubtract(e.epochSecond(),this.epochSecond()),n=e.nano()-this.nano();return t>0&&n<0?t--:t<0&&n>0&&t++,t},n.atOffset=function(e){return e1.ofInstant(this,e)},n.atZone=function(e){return e0.ofInstant(this,e)},n.toEpochMilli=function(){return S.safeMultiply(this._seconds,1e3)+S.intDiv(this._nanos,1e6)},n.compareTo=function(e){T(e,"otherInstant"),w(e,t,"otherInstant");var n=S.compareNumbers(this._seconds,e._seconds);return 0!==n?n:this._nanos-e._nanos},n.isAfter=function(e){return this.compareTo(e)>0},n.isBefore=function(e){return 0>this.compareTo(e)},n.equals=function(e){return this===e||e instanceof t&&this.epochSecond()===e.epochSecond()&&this.nano()===e.nano()},n.hashCode=function(){return S.hashCode(this._seconds,this._nanos)},n.toString=function(){return ej.ISO_INSTANT.format(this)},n.toJSON=function(){return this.toString()},t}($),e3=function(){function e(){}e.systemUTC=function(){return new e9(J.UTC)},e.systemDefaultZone=function(){return new e9(G.systemDefault())},e.system=function(e){return new e9(e)},e.fixed=function(e,t){return new e7(e,t)},e.offset=function(e,t){return new te(e,t)};var t=e.prototype;return t.millis=function(){b("Clock.millis")},t.instant=function(){b("Clock.instant")},t.zone=function(){b("Clock.zone")},t.withZone=function(){b("Clock.withZone")},e}(),e9=function(e){function t(t){var n;return T(t,"zone"),(n=e.call(this)||this)._zone=t,n}g(t,e);var n=t.prototype;return n.zone=function(){return this._zone},n.millis=function(){return new Date().getTime()},n.instant=function(){return e6.ofEpochMilli(this.millis())},n.equals=function(e){return e instanceof t&&this._zone.equals(e._zone)},n.withZone=function(e){return e.equals(this._zone)?this:new t(e)},n.toString=function(){return"SystemClock["+this._zone.toString()+"]"},t}(e3),e7=function(e){function t(t,n){var r;return(r=e.call(this)||this)._instant=t,r._zoneId=n,r}g(t,e);var n=t.prototype;return n.instant=function(){return this._instant},n.millis=function(){return this._instant.toEpochMilli()},n.zone=function(){return this._zoneId},n.toString=function(){return"FixedClock[]"},n.equals=function(e){return e instanceof t&&this._instant.equals(e._instant)&&this._zoneId.equals(e._zoneId)},n.withZone=function(e){return e.equals(this._zoneId)?this:new t(this._instant,e)},t}(e3),te=function(e){function t(t,n){var r;return(r=e.call(this)||this)._baseClock=t,r._offset=n,r}g(t,e);var n=t.prototype;return n.zone=function(){return this._baseClock.zone()},n.withZone=function(e){return e.equals(this._baseClock.zone())?this:new t(this._baseClock.withZone(e),this._offset)},n.millis=function(){return this._baseClock.millis()+this._offset.toMillis()},n.instant=function(){return this._baseClock.instant().plus(this._offset)},n.equals=function(e){return e instanceof t&&this._baseClock.equals(e._baseClock)&&this._offset.equals(e._offset)},n.toString=function(){return"OffsetClock["+this._baseClock+","+this._offset+"]"},t}(e3),tt=function(){function e(e,t,n){if(T(e,"transition"),T(t,"offsetBefore"),T(n,"offsetAfter"),t.equals(n))throw new f("Offsets must not be equal");if(0!==e.nano())throw new f("Nano-of-second must be zero");e instanceof e8?this._transition=e:this._transition=e8.ofEpochSecond(e,0,t),this._offsetBefore=t,this._offsetAfter=n}e.of=function(t,n,r){return new e(t,n,r)};var t=e.prototype;return t.instant=function(){return this._transition.toInstant(this._offsetBefore)},t.toEpochSecond=function(){return this._transition.toEpochSecond(this._offsetBefore)},t.dateTimeBefore=function(){return this._transition},t.dateTimeAfter=function(){return this._transition.plusSeconds(this.durationSeconds())},t.offsetBefore=function(){return this._offsetBefore},t.offsetAfter=function(){return this._offsetAfter},t.duration=function(){return O.ofSeconds(this.durationSeconds())},t.durationSeconds=function(){return this._offsetAfter.totalSeconds()-this._offsetBefore.totalSeconds()},t.isGap=function(){return this._offsetAfter.totalSeconds()>this._offsetBefore.totalSeconds()},t.isOverlap=function(){return this._offsetAfter.totalSeconds()<this._offsetBefore.totalSeconds()},t.isValidOffset=function(e){return!this.isGap()&&(this._offsetBefore.equals(e)||this._offsetAfter.equals(e))},t.validOffsets=function(){return this.isGap()?[]:[this._offsetBefore,this._offsetAfter]},t.compareTo=function(e){return this.instant().compareTo(e.instant())},t.equals=function(t){return t===this||t instanceof e&&this._transition.equals(t._transition)&&this._offsetBefore.equals(t.offsetBefore())&&this._offsetAfter.equals(t.offsetAfter())},t.hashCode=function(){return this._transition.hashCode()^this._offsetBefore.hashCode()^this._offsetAfter.hashCode()>>>16},t.toString=function(){return"Transition["+(this.isGap()?"Gap":"Overlap")+" at "+this._transition.toString()+this._offsetBefore.toString()+" to "+this._offsetAfter+"]"},e}(),tn=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var n=t.prototype;return n.isFixedOffset=function(){return!1},n.offsetOfInstant=function(e){var t=new Date(e.toEpochMilli()).getTimezoneOffset();return J.ofTotalMinutes(-1*t)},n.offsetOfEpochMilli=function(e){var t=new Date(e).getTimezoneOffset();return J.ofTotalMinutes(-1*t)},n.offsetOfLocalDateTime=function(e){var t=1e3*e.toEpochSecond(J.UTC),n=new Date(t).getTimezoneOffset(),r=new Date(t+6e4*n).getTimezoneOffset();return J.ofTotalMinutes(-1*r)},n.validOffsets=function(e){return[this.offsetOfLocalDateTime(e)]},n.transition=function(){return null},n.standardOffset=function(e){return this.offsetOfInstant(e)},n.daylightSavings=function(){this._throwNotSupported()},n.isDaylightSavings=function(){this._throwNotSupported()},n.isValidOffset=function(e,t){return this.offsetOfLocalDateTime(e).equals(t)},n.nextTransition=function(){this._throwNotSupported()},n.previousTransition=function(){this._throwNotSupported()},n.transitions=function(){this._throwNotSupported()},n.transitionRules=function(){this._throwNotSupported()},n._throwNotSupported=function(){throw new c("not supported operation")},n.equals=function(e){return this===e||e instanceof t},n.toString=function(){return"SYSTEM"},t}(K),tr=function(e){function t(){var t;return(t=e.call(this)||this)._rules=new tn,t}g(t,e);var n=t.prototype;return n.rules=function(){return this._rules},n.equals=function(e){return this===e},n.id=function(){return"SYSTEM"},t}(G),ti=function(){function e(){}return e.systemDefault=function(){return to},e.getAvailableZoneIds=function(){return ek.getAvailableZoneIds()},e.of=function(e){if(T(e,"zoneId"),"Z"===e)return J.UTC;if(1===e.length)throw new c("Invalid zone: "+e);if(W.startsWith(e,"+")||W.startsWith(e,"-"))return J.of(e);if("UTC"===e||"GMT"===e||"GMT0"===e||"UT"===e)return new eP(e,J.UTC.rules());if(W.startsWith(e,"UTC+")||W.startsWith(e,"GMT+")||W.startsWith(e,"UTC-")||W.startsWith(e,"GMT-")){var t=J.of(e.substring(3));return 0===t.totalSeconds()?new eP(e.substring(0,3),t.rules()):new eP(e.substring(0,3)+t.id(),t.rules())}if(W.startsWith(e,"UT+")||W.startsWith(e,"UT-")){var n=J.of(e.substring(2));return 0===n.totalSeconds()?new eP("UT",n.rules()):new eP("UT"+n.id(),n.rules())}return"SYSTEM"===e?G.systemDefault():eP.ofId(e)},e.ofOffset=function(e,t){if(T(e,"prefix"),T(t,"offset"),0===e.length)return t;if("GMT"===e||"UTC"===e||"UT"===e)return 0===t.totalSeconds()?new eP(e,t.rules()):new eP(e+t.id(),t.rules());throw new f("Invalid prefix, must be GMT, UTC or UT: "+e)},e.from=function(e){T(e,"temporal");var t=e.query(M.zone());if(null==t)throw new c("Unable to obtain ZoneId from TemporalAccessor: "+e+", type "+(null!=e.constructor?e.constructor.name:""));return t},e}(),to=null,ts=!1;N.MIN_VALUE=-999999,N.MAX_VALUE=999999,O.ZERO=new O(0,0),R.NANOS=new R("Nanos",O.ofNanos(1)),R.MICROS=new R("Micros",O.ofNanos(1e3)),R.MILLIS=new R("Millis",O.ofNanos(1e6)),R.SECONDS=new R("Seconds",O.ofSeconds(1)),R.MINUTES=new R("Minutes",O.ofSeconds(60)),R.HOURS=new R("Hours",O.ofSeconds(3600)),R.HALF_DAYS=new R("HalfDays",O.ofSeconds(43200)),R.DAYS=new R("Days",O.ofSeconds(86400)),R.WEEKS=new R("Weeks",O.ofSeconds(604800)),R.MONTHS=new R("Months",O.ofSeconds(2629746)),R.YEARS=new R("Years",O.ofSeconds(31556952)),R.DECADES=new R("Decades",O.ofSeconds(315569520)),R.CENTURIES=new R("Centuries",O.ofSeconds(3155695200)),R.MILLENNIA=new R("Millennia",O.ofSeconds(31556952e3)),R.ERAS=new R("Eras",O.ofSeconds(31556952*(N.MAX_VALUE+1))),R.FOREVER=new R("Forever",O.ofSeconds(S.MAX_SAFE_INTEGER,999999999)),P.NANO_OF_SECOND=new P("NanoOfSecond",R.NANOS,R.SECONDS,k.of(0,999999999)),P.NANO_OF_DAY=new P("NanoOfDay",R.NANOS,R.DAYS,k.of(0,86399999999999)),P.MICRO_OF_SECOND=new P("MicroOfSecond",R.MICROS,R.SECONDS,k.of(0,999999)),P.MICRO_OF_DAY=new P("MicroOfDay",R.MICROS,R.DAYS,k.of(0,86399999999)),P.MILLI_OF_SECOND=new P("MilliOfSecond",R.MILLIS,R.SECONDS,k.of(0,999)),P.MILLI_OF_DAY=new P("MilliOfDay",R.MILLIS,R.DAYS,k.of(0,86399999)),P.SECOND_OF_MINUTE=new P("SecondOfMinute",R.SECONDS,R.MINUTES,k.of(0,59)),P.SECOND_OF_DAY=new P("SecondOfDay",R.SECONDS,R.DAYS,k.of(0,86399)),P.MINUTE_OF_HOUR=new P("MinuteOfHour",R.MINUTES,R.HOURS,k.of(0,59)),P.MINUTE_OF_DAY=new P("MinuteOfDay",R.MINUTES,R.DAYS,k.of(0,1439)),P.HOUR_OF_AMPM=new P("HourOfAmPm",R.HOURS,R.HALF_DAYS,k.of(0,11)),P.CLOCK_HOUR_OF_AMPM=new P("ClockHourOfAmPm",R.HOURS,R.HALF_DAYS,k.of(1,12)),P.HOUR_OF_DAY=new P("HourOfDay",R.HOURS,R.DAYS,k.of(0,23)),P.CLOCK_HOUR_OF_DAY=new P("ClockHourOfDay",R.HOURS,R.DAYS,k.of(1,24)),P.AMPM_OF_DAY=new P("AmPmOfDay",R.HALF_DAYS,R.DAYS,k.of(0,1)),P.DAY_OF_WEEK=new P("DayOfWeek",R.DAYS,R.WEEKS,k.of(1,7)),P.ALIGNED_DAY_OF_WEEK_IN_MONTH=new P("AlignedDayOfWeekInMonth",R.DAYS,R.WEEKS,k.of(1,7)),P.ALIGNED_DAY_OF_WEEK_IN_YEAR=new P("AlignedDayOfWeekInYear",R.DAYS,R.WEEKS,k.of(1,7)),P.DAY_OF_MONTH=new P("DayOfMonth",R.DAYS,R.MONTHS,k.of(1,28,31),"day"),P.DAY_OF_YEAR=new P("DayOfYear",R.DAYS,R.YEARS,k.of(1,365,366)),P.EPOCH_DAY=new P("EpochDay",R.DAYS,R.FOREVER,k.of(-365961662,364522971)),P.ALIGNED_WEEK_OF_MONTH=new P("AlignedWeekOfMonth",R.WEEKS,R.MONTHS,k.of(1,4,5)),P.ALIGNED_WEEK_OF_YEAR=new P("AlignedWeekOfYear",R.WEEKS,R.YEARS,k.of(1,53)),P.MONTH_OF_YEAR=new P("MonthOfYear",R.MONTHS,R.YEARS,k.of(1,12),"month"),P.PROLEPTIC_MONTH=new P("ProlepticMonth",R.MONTHS,R.FOREVER,k.of(12*N.MIN_VALUE,12*N.MAX_VALUE+11)),P.YEAR_OF_ERA=new P("YearOfEra",R.YEARS,R.FOREVER,k.of(1,N.MAX_VALUE,N.MAX_VALUE+1)),P.YEAR=new P("Year",R.YEARS,R.FOREVER,k.of(N.MIN_VALUE,N.MAX_VALUE),"year"),P.ERA=new P("Era",R.ERAS,R.FOREVER,k.of(0,1)),P.INSTANT_SECONDS=new P("InstantSeconds",R.SECONDS,R.FOREVER,k.of(-9007199254740991,9007199254740991)),P.OFFSET_SECONDS=new P("OffsetSeconds",R.SECONDS,R.FOREVER,k.of(-64800,64800)),function(){e5.HOURS=[];for(var e=0;e<24;e++)e5.of(e,0,0,0);e5.MIN=e5.HOURS[0],e5.MAX=new e5(23,59,59,999999999),e5.MIDNIGHT=e5.HOURS[0],e5.NOON=e5.HOURS[12],e5.FROM=x("LocalTime.FROM",function(e){return e5.from(e)})}(),ed=new ea,ef=new el,ep=new ec,em=new eu,eg=new eh("WeekBasedYears",O.ofSeconds(31556952)),ey=new eh("QuarterYears",O.ofSeconds(7889238)),ei.DAY_OF_QUARTER=ed,ei.QUARTER_OF_YEAR=ef,ei.WEEK_OF_WEEK_BASED_YEAR=ep,ei.WEEK_BASED_YEAR=em,ei.WEEK_BASED_YEARS=eg,ei.QUARTER_YEARS=ey,e2.prototype.isoWeekOfWeekyear=function(){return this.get(ei.WEEK_OF_WEEK_BASED_YEAR)},e2.prototype.isoWeekyear=function(){return this.get(ei.WEEK_BASED_YEAR)},M.ZONE_ID=x("ZONE_ID",function(e){return e.query(M.ZONE_ID)}),M.CHRONO=x("CHRONO",function(e){return e.query(M.CHRONO)}),M.PRECISION=x("PRECISION",function(e){return e.query(M.PRECISION)}),M.OFFSET=x("OFFSET",function(e){return e.isSupported(P.OFFSET_SECONDS)?J.ofTotalSeconds(e.get(P.OFFSET_SECONDS)):null}),M.ZONE=x("ZONE",function(e){var t=e.query(M.ZONE_ID);return null!=t?t:e.query(M.OFFSET)}),M.LOCAL_DATE=x("LOCAL_DATE",function(e){return e.isSupported(P.EPOCH_DAY)?e2.ofEpochDay(e.getLong(P.EPOCH_DAY)):null}),M.LOCAL_TIME=x("LOCAL_TIME",function(e){return e.isSupported(P.NANO_OF_DAY)?e5.ofNanoOfDay(e.getLong(P.NANO_OF_DAY)):null}),F.MONDAY=new F(0,"MONDAY"),F.TUESDAY=new F(1,"TUESDAY"),F.WEDNESDAY=new F(2,"WEDNESDAY"),F.THURSDAY=new F(3,"THURSDAY"),F.FRIDAY=new F(4,"FRIDAY"),F.SATURDAY=new F(5,"SATURDAY"),F.SUNDAY=new F(6,"SUNDAY"),F.FROM=x("DayOfWeek.FROM",function(e){return F.from(e)}),i=[F.MONDAY,F.TUESDAY,F.WEDNESDAY,F.THURSDAY,F.FRIDAY,F.SATURDAY,F.SUNDAY],e6.MIN_SECONDS=-31619119219200,e6.MAX_SECONDS=31494816403199,e6.EPOCH=new e6(0,0),e6.MIN=e6.ofEpochSecond(e6.MIN_SECONDS,0),e6.MAX=e6.ofEpochSecond(e6.MAX_SECONDS,999999999),e6.FROM=x("Instant.FROM",function(e){return e6.from(e)}),e2.MIN=e2.of(N.MIN_VALUE,1,1),e2.MAX=e2.of(N.MAX_VALUE,12,31),e2.EPOCH_0=e2.ofEpochDay(0),e2.FROM=x("LocalDate.FROM",function(e){return e2.from(e)}),e8.MIN=e8.of(e2.MIN,e5.MIN),e8.MAX=e8.of(e2.MAX,e5.MAX),e8.FROM=x("LocalDateTime.FROM",function(e){return e8.from(e)}),e$.MIN_VALUE=N.MIN_VALUE,e$.MAX_VALUE=N.MAX_VALUE,l=new eF().appendValue(P.YEAR,4,10,eE.EXCEEDS_PAD).toFormatter(),e$.FROM=x("Year.FROM",function(e){return e$.from(e)}),B.JANUARY=new B(1,"JANUARY"),B.FEBRUARY=new B(2,"FEBRUARY"),B.MARCH=new B(3,"MARCH"),B.APRIL=new B(4,"APRIL"),B.MAY=new B(5,"MAY"),B.JUNE=new B(6,"JUNE"),B.JULY=new B(7,"JULY"),B.AUGUST=new B(8,"AUGUST"),B.SEPTEMBER=new B(9,"SEPTEMBER"),B.OCTOBER=new B(10,"OCTOBER"),B.NOVEMBER=new B(11,"NOVEMBER"),B.DECEMBER=new B(12,"DECEMBER"),o=[B.JANUARY,B.FEBRUARY,B.MARCH,B.APRIL,B.MAY,B.JUNE,B.JULY,B.AUGUST,B.SEPTEMBER,B.OCTOBER,B.NOVEMBER,B.DECEMBER],a=new eF().appendValue(P.YEAR,4,10,eE.EXCEEDS_PAD).appendLiteral("-").appendValue(P.MONTH_OF_YEAR,2).toFormatter(),eV.FROM=x("YearMonth.FROM",function(e){return eV.from(e)}),s=new eF().appendLiteral("--").appendValue(P.MONTH_OF_YEAR,2).appendLiteral("-").appendValue(P.DAY_OF_MONTH,2).toFormatter(),eH.FROM=x("MonthDay.FROM",function(e){return eH.from(e)}),Y.ofDays(0),J.MAX_SECONDS=18*e5.SECONDS_PER_HOUR,J.UTC=J.ofTotalSeconds(0),J.MIN=J.ofTotalSeconds(-J.MAX_SECONDS),J.MAX=J.ofTotalSeconds(J.MAX_SECONDS),e0.FROM=x("ZonedDateTime.FROM",function(e){return e0.from(e)}),to=new tr,G.systemDefault=ti.systemDefault,G.getAvailableZoneIds=ti.getAvailableZoneIds,G.of=ti.of,G.ofOffset=ti.ofOffset,G.from=ti.from,J.from=ti.from,G.SYSTEM=to,G.UTC=J.ofTotalSeconds(0),eQ.INSTANCE=new eQ("IsoChronology"),ej.ISO_LOCAL_DATE=new eF().appendValue(P.YEAR,4,10,eE.EXCEEDS_PAD).appendLiteral("-").appendValue(P.MONTH_OF_YEAR,2).appendLiteral("-").appendValue(P.DAY_OF_MONTH,2).toFormatter(V.STRICT).withChronology(eQ.INSTANCE),ej.ISO_LOCAL_TIME=new eF().appendValue(P.HOUR_OF_DAY,2).appendLiteral(":").appendValue(P.MINUTE_OF_HOUR,2).optionalStart().appendLiteral(":").appendValue(P.SECOND_OF_MINUTE,2).optionalStart().appendFraction(P.NANO_OF_SECOND,0,9,!0).toFormatter(V.STRICT),ej.ISO_LOCAL_DATE_TIME=new eF().parseCaseInsensitive().append(ej.ISO_LOCAL_DATE).appendLiteral("T").append(ej.ISO_LOCAL_TIME).toFormatter(V.STRICT).withChronology(eQ.INSTANCE),ej.ISO_INSTANT=new eF().parseCaseInsensitive().appendInstant().toFormatter(V.STRICT),ej.ISO_OFFSET_DATE_TIME=new eF().parseCaseInsensitive().append(ej.ISO_LOCAL_DATE_TIME).appendOffsetId().toFormatter(V.STRICT).withChronology(eQ.INSTANCE),ej.ISO_ZONED_DATE_TIME=new eF().append(ej.ISO_OFFSET_DATE_TIME).optionalStart().appendLiteral("[").parseCaseSensitive().appendZoneId().appendLiteral("]").toFormatter(V.STRICT).withChronology(eQ.INSTANCE),ej.BASIC_ISO_DATE=new eF().appendValue(P.YEAR,4,10,eE.EXCEEDS_PAD).appendValue(P.MONTH_OF_YEAR,2).appendValue(P.DAY_OF_MONTH,2).toFormatter(V.STRICT).withChronology(eQ.INSTANCE),ej.ISO_OFFSET_DATE=new eF().parseCaseInsensitive().append(ej.ISO_LOCAL_DATE).appendOffsetId().toFormatter(V.STRICT).withChronology(eQ.INSTANCE),ej.ISO_OFFSET_TIME=new eF().parseCaseInsensitive().append(ej.ISO_LOCAL_TIME).appendOffsetId().toFormatter(V.STRICT).withChronology(eQ.INSTANCE),ej.ISO_ORDINAL_DATE=new eF().appendValue(P.YEAR,4,10,eE.EXCEEDS_PAD).appendLiteral("-").appendValue(P.DAY_OF_YEAR).toFormatter(V.STRICT),ej.ISO_WEEK_DATE=new eF().appendValue(P.YEAR,4,10,eE.EXCEEDS_PAD).appendLiteral("-W").appendValue(P.ALIGNED_WEEK_OF_YEAR).appendLiteral("-").appendValue(P.DAY_OF_WEEK).toFormatter(V.STRICT),ej.ISO_DATE=new eF().parseCaseInsensitive().append(ej.ISO_LOCAL_DATE).optionalStart().appendOffsetId().optionalEnd().toFormatter(V.STRICT).withChronology(eQ.INSTANCE),ej.ISO_TIME=new eF().parseCaseInsensitive().append(ej.ISO_LOCAL_TIME).optionalStart().appendOffsetId().optionalEnd().toFormatter(V.STRICT),ej.ISO_DATE_TIME=new eF().append(ej.ISO_LOCAL_DATE_TIME).optionalStart().appendOffsetId().optionalEnd().toFormatter(V.STRICT).withChronology(eQ.INSTANCE),ej.PARSED_EXCESS_DAYS=x("PARSED_EXCESS_DAYS",function(e){return e instanceof ee?e.excessDays:Y.ZERO}),ej.PARSED_LEAP_SECOND=x("PARSED_LEAP_SECOND",function(e){return e instanceof ee&&e.leapSecond}),eI.BASE_DATE=e2.of(2e3,1,1),eF.CompositePrinterParser=eb,eF.PadPrinterParserDecorator=eN,eF.SettingsParser=eR,eF.CharLiteralPrinterParser=eD,eF.StringLiteralPrinterParser=eD,eF.CharLiteralPrinterParser=ew,eF.NumberPrinterParser=eA,eF.ReducedPrinterParser=eI,eF.FractionPrinterParser=ev,eF.OffsetIdPrinterParser=eO,eF.ZoneIdPrinterParser=eM,e1.MIN=e8.MIN.atOffset(J.MAX),e1.MAX=e8.MAX.atOffset(J.MIN),e1.FROM=x("OffsetDateTime.FROM",function(e){return e1.from(e)}),eX.MIN=eX.ofNumbers(0,0,0,0,J.MAX),eX.MAX=eX.ofNumbers(23,59,59,999999999,J.MIN),eX.FROM=x("OffsetTime.FROM",function(e){return eX.from(e)});var ta=function(){function e(e,t){var n;if(e instanceof e6){this.instant=e;return}if(e instanceof e2)t=null==t?G.systemDefault():t,n=e.atStartOfDay(t);else if(e instanceof e8)t=null==t?G.systemDefault():t,n=e.atZone(t);else if(e instanceof e0)n=null==t?e:e.withZoneSameInstant(t);else throw new f("unsupported instance for convert operation:"+e);this.instant=n.toInstant()}var t=e.prototype;return t.toDate=function(){return new Date(this.instant.toEpochMilli())},t.toEpochMilli=function(){return this.instant.toEpochMilli()},e}();function tl(e,t){return new ta(e,t)}function tc(e,t){if(void 0===t&&(t=G.systemDefault()),T(e,"date"),T(t,"zone"),e instanceof Date)return e6.ofEpochMilli(e.getTime()).atZone(t);if("function"==typeof e.toDate&&e.toDate() instanceof Date)return e6.ofEpochMilli(e.toDate().getTime()).atZone(t);throw new f("date must be a javascript Date or a moment instance")}var tu={assert:v,DateTimeBuilder:ee,DateTimeParseContext:et,DateTimePrintContext:er,MathUtil:S,StringUtil:W,StringBuilder:eY},th={_:tu,convert:tl,nativeJs:tc,ArithmeticException:d,DateTimeException:c,DateTimeParseException:u,IllegalArgumentException:f,IllegalStateException:p,UnsupportedTemporalTypeException:h,NullPointerException:m,Clock:e3,DayOfWeek:F,Duration:O,Instant:e6,LocalDate:e2,LocalTime:e5,LocalDateTime:e8,OffsetTime:eX,OffsetDateTime:e1,Month:B,MonthDay:eH,ParsePosition:j,Period:Y,Year:e$,YearConstants:N,YearMonth:eV,ZonedDateTime:e0,ZoneOffset:J,ZoneId:G,ZoneRegion:eP,ZoneOffsetTransition:tt,ZoneRules:K,ZoneRulesProvider:ek,ChronoLocalDate:z,ChronoLocalDateTime:e4,ChronoZonedDateTime:eJ,IsoChronology:eQ,ChronoField:P,ChronoUnit:R,IsoFields:ei,Temporal:$,TemporalAccessor:L,TemporalAdjuster:ez,TemporalAdjusters:eW,TemporalAmount:I,TemporalField:D,TemporalQueries:M,TemporalQuery:U,TemporalUnit:C,ValueRange:k,DateTimeFormatter:ej,DateTimeFormatterBuilder:eF,DecimalStyle:e_,ResolverStyle:V,SignStyle:eE,TextStyle:eT},td=function(e){var t=[];return function(n){return~t.indexOf(n)||(n(e),t.push(n)),e}}(th);th.use=td},53248:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildConnectionString=void 0,t.buildConnectionString=function(e){return Object.entries(e).map(([e,t])=>(function(e,t){if(null==t)return[e,""];if("boolean"==typeof t)return[e,t?"Yes":"No"];{var n;let r=t.toString();return!function(e){if("{"!==e[0])return!1;for(let t=1;t<e.length;t++)if("}"===e[t]){if(t+1===e.length)return!0;if("}"!==e[t+1])break;t++}return!1}(r)&&(null===(n=r.match(/\[|]|{|}|\|\(|\)|,|;|\?|\*|=|!|@/))||void 0===n?void 0:n.length)?[e,`{${r.replace(/}/g,"}}")}}`]:[e,r]}})(e.trim(),t).join("=")).join(";")}},77434:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseSqlConnectionString=t.parseConnectionString=void 0;let s=o(n(48461));t.parseConnectionString=s.default;let a=o(n(43217));t.parseSqlConnectionString=a.default,i(n(53248),t)},48461:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.key=0]="key",e[e.value=1]="value"}(n||(n={}));let r=Object.freeze({key:{terminator:"=",quotes:{}},value:{terminator:";",quotes:{'"':'"',"'":"'","{":"}"}}});t.default=function(e,t=r){let i={},o=n.key,s=!1,a=!1,l=!1,c="",u="",h="",d=0;function f(){return o===n.key?t.key:t.value}function p(e){return f().terminator===e}function m(){switch(l||(u=u.trim()),o){case n.key:h=u.toLowerCase(),o=n.value;break;case n.value:o=n.key,i[h]=u,h=""}s=!1,a=!1,l=!1,c="",u=""}for(;d<e.length;){let t=e.charAt(d);if(a){if(p(t))m();else if(t.trim())throw Error("Malformed connection string")}else s?l&&l&&t===f().quotes[c]?t===e.charAt(d+1)?(u+=t,d++):a=!0:!l&&p(t)?t===e.charAt(d+1)?(u+=t,d++):m():u+=t:t.trim()&&((s=!0,function(e){return Object.keys(f().quotes).some(t=>e===t)}(t))?(l=!0,c=t):u+=t);d++}if(l&&!a)throw Error("Connection string terminated unexpectedly");return m(),i}},43217:function(e,t,n){"use strict";var r,i,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SCHEMA=t.SchemaTypes=void 0;let s=o(n(48461));function a(e,t,n){if(n){let t=n(e);if(null!==t)return t}switch(t){case i.BOOL:if(["true","yes","1"].includes(e.toLowerCase()))return!0;if(["false","no","0"].includes(e.toLowerCase()))return!1;break;case i.NUMBER:return parseInt(e,10)}return e}(r=i=t.SchemaTypes||(t.SchemaTypes={}))[r.BOOL=0]="BOOL",r[r.STRING=1]="STRING",r[r.NUMBER=2]="NUMBER",t.SCHEMA={"Application Name":{type:i.STRING,aliases:["App"],validator:e=>"string"==typeof e&&e.length<=128},ApplicationIntent:{type:i.STRING,allowedValues:["ReadOnly","ReadWrite"],default:"ReadWrite"},"Asynchronous Processing":{type:i.BOOL,default:!1,aliases:["Async"]},AttachDBFilename:{type:i.STRING,aliases:["Extended Properties","Initial File Name"]},Authentication:{type:i.STRING,allowedValues:["Active Directory Integrated","Active Directory Password","Sql Password"]},"Column Encryption Setting":{type:i.STRING},"Connection Timeout":{type:i.NUMBER,aliases:["Connect Timeout","Timeout"],default:15},"Connection Lifetime":{type:i.NUMBER,aliases:["Load Balance Timeout"],default:0},ConnectRetryCount:{type:i.NUMBER,default:1,validator:e=>e>0&&e<=255},ConnectRetryInterval:{type:i.NUMBER,default:10},"Context Connection":{type:i.BOOL,default:!1},"Current Language":{aliases:["Language"],type:i.STRING,validator:e=>"string"==typeof e&&e.length<=128},"Data Source":{aliases:["Addr","Address","Server","Network Address"],type:i.STRING},Encrypt:{type:i.BOOL,default:!1},Enlist:{type:i.BOOL,default:!0},"Failover Partner":{type:i.STRING},"Initial Catalog":{type:i.STRING,aliases:["Database"],validator:e=>"string"==typeof e&&e.length<=128},"Integrated Security":{type:i.BOOL,aliases:["Trusted_Connection"],coerce:e=>"sspi"===e||null},"Max Pool Size":{type:i.NUMBER,default:100,validator:e=>e>=1},"Min Pool Size":{type:i.NUMBER,default:0,validator:e=>e>=0},MultipleActiveResultSets:{type:i.BOOL,default:!1},MultiSubnetFailover:{type:i.BOOL,default:!1},"Network Library":{type:i.STRING,aliases:["Network","Net"],allowedValues:["dbnmpntw","dbmsrpcn","dbmsadsn","dbmsgnet","dbmslpcn","dbmsspxn","dbmssocn","Dbmsvinn"]},"Packet Size":{type:i.NUMBER,default:8e3,validator:e=>e>=512&&e<=32768},Password:{type:i.STRING,aliases:["PWD"],validator:e=>"string"==typeof e&&e.length<=128},"Persist Security Info":{type:i.BOOL,aliases:["PersistSecurityInfo"],default:!1},PoolBlockingPeriod:{type:i.NUMBER,default:0,coerce(e){if("string"!=typeof e)return null;switch(e.toLowerCase()){case"alwaysblock":return 1;case"auto":return 0;case"neverblock":return 2}return null}},Pooling:{type:i.BOOL,default:!0},Replication:{type:i.BOOL,default:!1},"Transaction Binding":{type:i.STRING,allowedValues:["Implicit Unbind","Explicit Unbind"],default:"Implicit Unbind"},TransparentNetworkIPResolution:{type:i.BOOL,default:!0},TrustServerCertificate:{type:i.BOOL,default:!1},"Type System Version":{type:i.STRING,allowedValues:["SQL Server 2012","SQL Server 2008","SQL Server 2005","Latest"]},"User ID":{type:i.STRING,aliases:["UID"],validator:e=>"string"==typeof e&&e.length<=128},"User Instance":{type:i.BOOL,default:!1},"Workstation ID":{type:i.STRING,aliases:["WSID"],validator:e=>"string"==typeof e&&e.length<=128}},t.default=function(e,n=!1,r=!1,o=!1,l=t.SCHEMA){let c=Object.entries(l).reduce((e,[t,n])=>{var r;return Object.assign(e,{[t.toLowerCase()]:n}),(null===(r=n.aliases)||void 0===r?void 0:r.reduce((e,r)=>Object.assign(e,{[r.toLowerCase()]:{...n,canonical:t.toLowerCase()}}),e))||e},{});return Object.entries((0,s.default)(e)).reduce((e,[t,r])=>{var s,l,u;let h;if(!Object.prototype.hasOwnProperty.call(c,t))return Object.assign(e,{[t]:a(r,function(e){if(""===e.trim())return i.STRING;let t=parseInt(e,10);return Number.isNaN(t)||t.toString()!==e?["true","false","yes","no"].includes(e.toLowerCase())?i.BOOL:i.STRING:i.NUMBER}(r))});let d=a(r,c[t].type,c[t].coerce);return o&&(s=d,l=c[t].allowedValues,u=c[t].validator,h=!0,u&&(h=u(s)),h&&(h=(null==l?void 0:l.includes(s))||!1),!h)&&(d=c[t].default),Object.assign(e,{[n&&c[t].canonical||t]:d})},{})}},27478:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.req=t.json=t.toBuffer=void 0;let s=o(n(32615)),a=o(n(35240));async function l(e){let t=0,n=[];for await(let r of e)t+=r.length,n.push(r);return Buffer.concat(n,t)}async function c(e){let t=(await l(e)).toString("utf8");try{return JSON.parse(t)}catch(e){throw e.message+=` (input: ${t})`,e}}t.toBuffer=l,t.json=c,t.req=function(e,t={}){let n=(("string"==typeof e?e:e.href).startsWith("https:")?a:s).request(e,t),r=new Promise((e,t)=>{n.once("response",e).once("error",t).end()});return n.then=r.then.bind(r),n}},94467:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.Agent=void 0;let a=o(n(98216)),l=o(n(32615)),c=n(35240);s(n(27478),t);let u=Symbol("AgentBaseInternalState");class h extends l.Agent{constructor(e){super(e),this[u]={}}isSecureEndpoint(e){if(e){if("boolean"==typeof e.secureEndpoint)return e.secureEndpoint;if("string"==typeof e.protocol)return"https:"===e.protocol}let{stack:t}=Error();return"string"==typeof t&&t.split("\n").some(e=>-1!==e.indexOf("(https.js:")||-1!==e.indexOf("node:https:"))}incrementSockets(e){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;this.sockets[e]||(this.sockets[e]=[]);let t=new a.Socket({writable:!1});return this.sockets[e].push(t),this.totalSocketCount++,t}decrementSockets(e,t){if(!this.sockets[e]||null===t)return;let n=this.sockets[e],r=n.indexOf(t);-1!==r&&(n.splice(r,1),this.totalSocketCount--,0===n.length&&delete this.sockets[e])}getName(e){return this.isSecureEndpoint(e)?c.Agent.prototype.getName.call(this,e):super.getName(e)}createSocket(e,t,n){let r={...t,secureEndpoint:this.isSecureEndpoint(t)},i=this.getName(r),o=this.incrementSockets(i);Promise.resolve().then(()=>this.connect(e,r)).then(s=>{if(this.decrementSockets(i,o),s instanceof l.Agent)try{return s.addRequest(e,r)}catch(e){return n(e)}this[u].currentSocket=s,super.createSocket(e,t,n)},e=>{this.decrementSockets(i,o),n(e)})}createConnection(){let e=this[u].currentSocket;if(this[u].currentSocket=void 0,!e)throw Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[u].defaultPort??("https:"===this.protocol?443:80)}set defaultPort(e){this[u]&&(this[u].defaultPort=e)}get protocol(){return this[u].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[u]&&(this[u].protocol=e)}}t.Agent=h},1502:(e,t,n)=>{"use strict";let{Buffer:r}=n(78893),i=Symbol.for("BufferList");function o(e){if(!(this instanceof o))return new o(e);o._init.call(this,e)}o._init=function(e){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},o.prototype._new=function(e){return new o(e)},o.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let n=0;n<this._bufs.length;n++){let r=t+this._bufs[n].length;if(e<r||n===this._bufs.length-1)return[n,e-t];t=r}},o.prototype._reverseOffset=function(e){let t=e[0],n=e[1];for(let e=0;e<t;e++)n+=this._bufs[e].length;return n},o.prototype.getBuffers=function(){return this._bufs},o.prototype.get=function(e){if(e>this.length||e<0)return;let t=this._offset(e);return this._bufs[t[0]][t[1]]},o.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},o.prototype.copy=function(e,t,n,i){if(("number"!=typeof n||n<0)&&(n=0),("number"!=typeof i||i>this.length)&&(i=this.length),n>=this.length||i<=0)return e||r.alloc(0);let o=!!e,s=this._offset(n),a=i-n,l=a,c=o&&t||0,u=s[1];if(0===n&&i===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:r.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,c),c+=this._bufs[t].length;return e}if(l<=this._bufs[s[0]].length-u)return o?this._bufs[s[0]].copy(e,t,u,u+l):this._bufs[s[0]].slice(u,u+l);o||(e=r.allocUnsafe(a));for(let t=s[0];t<this._bufs.length;t++){let n=this._bufs[t].length-u;if(l>n)this._bufs[t].copy(e,c,u),c+=n;else{this._bufs[t].copy(e,c,u,u+l),c+=n;break}l-=n,u&&(u=0)}return e.length>c?e.slice(0,c):e},o.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();let n=this._offset(e),r=this._offset(t),i=this._bufs.slice(n[0],r[0]+1);return 0===r[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,r[1]),0!==n[1]&&(i[0]=i[0].slice(n[1])),this._new(i)},o.prototype.toString=function(e,t,n){return this.slice(t,n).toString(e)},o.prototype.consume=function(e){if(Number.isNaN(e=Math.trunc(e))||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this},o.prototype.duplicate=function(){let e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},o.prototype.append=function(e){return this._attach(e,o.prototype._appendBuffer)},o.prototype.prepend=function(e){return this._attach(e,o.prototype._prependBuffer,!0)},o.prototype._attach=function(e,t,n){if(null==e)return this;if(e.buffer)t.call(this,r.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e)){let[r,i]=n?[e.length-1,-1]:[0,1];for(let o=r;o>=0&&o<e.length;o+=i)this._attach(e[o],t,n)}else if(this._isBufferList(e)){let[r,i]=n?[e._bufs.length-1,-1]:[0,1];for(let o=r;o>=0&&o<e._bufs.length;o+=i)this._attach(e._bufs[o],t,n)}else"number"==typeof e&&(e=e.toString()),t.call(this,r.from(e));return this},o.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},o.prototype._prependBuffer=function(e){this._bufs.unshift(e),this.length+=e.length},o.prototype.indexOf=function(e,t,n){if(void 0===n&&"string"==typeof t&&(n=t,t=void 0),"function"==typeof e||Array.isArray(e))throw TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=r.from([e]):"string"==typeof e?e=r.from(e,n):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=r.from(e.buffer,e.byteOffset,e.byteLength):r.isBuffer(e)||(e=r.from(e)),isNaN(t=Number(t||0))&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;let i=this._offset(t),o=i[0],s=i[1];for(;o<this._bufs.length;o++){let t=this._bufs[o];for(;s<t.length;)if(t.length-s>=e.length){let n=t.indexOf(e,s);if(-1!==n)return this._reverseOffset([o,n]);s=t.length-e.length+1}else{let t=this._reverseOffset([o,s]);if(this._match(t,e))return t;s++}s=0}return -1},o.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let n=0;n<t.length;n++)if(this.get(e+n)!==t[n])return!1;return!0},function(){let e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let t in e)!function(t){null===e[t]?o.prototype[t]=function(e,n){return this.slice(e,e+n)[t](0,n)}:o.prototype[t]=function(n=0){return this.slice(n,n+e[t])[t](0)}}(t)}(),o.prototype._isBufferList=function(e){return e instanceof o||o.isBufferList(e)},o.isBufferList=function(e){return null!=e&&e[i]},e.exports=o},65186:(e,t,n)=>{"use strict";let r=n(56832).Duplex,i=n(84874),o=n(1502);function s(e){if(!(this instanceof s))return new s(e);if("function"==typeof e){this._callback=e;let t=(function(e){this._callback&&(this._callback(e),this._callback=null)}).bind(this);this.on("pipe",function(e){e.on("error",t)}),this.on("unpipe",function(e){e.removeListener("error",t)}),e=null}o._init.call(this,e),r.call(this)}i(s,r),Object.assign(s.prototype,o.prototype),s.prototype._new=function(e){return new s(e)},s.prototype._write=function(e,t,n){this._appendBuffer(e),"function"==typeof n&&n()},s.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},s.prototype.end=function(e){r.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},s.prototype._isBufferList=function(e){return e instanceof s||e instanceof o||s.isBufferList(e)},s.isBufferList=o.isBufferList,e.exports=s,e.exports.BufferListStream=s,e.exports.BufferList=o},89121:(e,t,n)=>{"use strict";var r=n(78893).Buffer,i=n(78893).SlowBuffer;function o(e,t){if(!r.isBuffer(e)||!r.isBuffer(t)||e.length!==t.length)return!1;for(var n=0,i=0;i<e.length;i++)n|=e[i]^t[i];return 0===n}e.exports=o,o.install=function(){r.prototype.equal=i.prototype.equal=function(e){return o(this,e)}};var s=r.prototype.equal,a=i.prototype.equal;o.restore=function(){r.prototype.equal=s,i.prototype.equal=a}},39277:(e,t,n)=>{"use strict";var r=n(31660),i=n(34006),o=n(81421);e.exports=function(){return o(r,i,arguments)}},45776:(e,t,n)=>{"use strict";var r=n(81632),i=n(70091),o=n(602),s=n(39277);e.exports=function(e){var t=o(arguments),n=e.length-(arguments.length-1);return r(t,1+(n>0?n:0),!0)},i?i(e.exports,"apply",{value:s}):e.exports.apply=s},93050:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){let e;return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(30783)(t);let{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},30783:(e,t,n)=>{e.exports=function(e){function t(e){let n,i,o;let s=null;function a(...e){if(!a.enabled)return;let r=Number(new Date),i=r-(n||r);a.diff=i,a.prev=n,a.curr=r,n=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,r)=>{if("%%"===n)return"%";o++;let i=t.formatters[r];if("function"==typeof i){let t=e[o];n=i.call(a,t),e.splice(o,1),o--}return n}),t.formatArgs.call(a,e),(a.log||t.log).apply(a,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,n){let r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e,t){let n=0,r=0,i=-1,o=0;for(;n<e.length;)if(r<t.length&&(t[r]===e[n]||"*"===t[r]))"*"===t[r]?(i=r,o=n):n++,r++;else{if(-1===i)return!1;r=i+1,n=++o}for(;r<t.length&&"*"===t[r];)r++;return r===t.length}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){let e=[...t.names,...t.skips.map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){for(let n of(t.save(e),t.namespaces=e,t.names=[],t.skips=[],("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean)))"-"===n[0]?t.skips.push(n.slice(1)):t.names.push(n)},t.enabled=function(e){for(let n of t.skips)if(i(e,n))return!1;for(let n of t.names)if(i(e,n))return!0;return!1},t.humanize=n(13974),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t)|0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},19092:(e,t,n)=>{"undefined"==typeof process||"renderer"===process.type||process.__nwjs?e.exports=n(93050):e.exports=n(12226)},12226:(e,t,n)=>{let r=n(74175),i=n(21764);t.init=function(e){e.inspectOpts={};let n=Object.keys(t.inspectOpts);for(let r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(...e){return process.stderr.write(i.formatWithOptions(t.inspectOpts,...e)+"\n")},t.formatArgs=function(n){let{namespace:r,useColors:i}=this;if(i){let t=this.color,i="\x1b[3"+(t<8?t:"8;5;"+t),o=`  ${i};1m${r} \u001B[0m`;n[0]=o+n[0].split("\n").join("\n"+o),n.push(i+"m+"+e.exports.humanize(this.diff)+"\x1b[0m")}else n[0]=(t.inspectOpts.hideDate?"":new Date().toISOString()+" ")+r+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:r.isatty(process.stderr.fd)},t.destroy=i.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{let e=n(82816);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase()),r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e},{}),e.exports=n(30783)(t);let{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},6420:(e,t,n)=>{"use strict";var r=n(70091),i=n(31209),o=n(17445),s=n(86737);e.exports=function(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new o("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new o("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],h=!!s&&s(e,t);if(r)r(e,t,{configurable:null===c&&h?h.configurable:!c,enumerable:null===a&&h?h.enumerable:!a,value:n,writable:null===l&&h?h.writable:!l});else if(!u&&(a||l||c))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");else e[t]=n}},92509:e=>{"use strict";e.exports=(e,t,n)=>{let r=n=>Object.defineProperty(e,t,{value:n,enumerable:!0,writable:!0});return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let e=n();return r(e),e},set(e){r(e)}}),e}},93834:(e,t,n)=>{"use strict";var r=n(73132),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=n(6420),l=n(25995)(),c=function(e,t,n,r){if(t in e){if(!0===r){if(e[t]===n)return}else if(!("function"==typeof r&&"[object Function]"===o.call(r))||!r())return}l?a(e,t,n,!0):a(e,t,n)},u=function(e,t){var n=arguments.length>2?arguments[2]:{},o=r(t);i&&(o=s.call(o,Object.getOwnPropertySymbols(t)));for(var a=0;a<o.length;a+=1)c(e,o[a],t[o[a]],n[o[a]])};u.supportsDescriptors=!!l,e.exports=u},57952:(e,t,n)=>{"use strict";var r=n(602),i=n(86737),o=n(17445),s={};try{s.__proto__=null}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var a=!("toString"in s),l=i&&i(Object.prototype,"__proto__");e.exports=a&&(!!l&&"function"==typeof l.set&&r([l.set])||function(e,t){if(null==e)throw new o("set Object.prototype.__proto__ called on null or undefined");return e.__proto__=t,t})},97145:(e,t,n)=>{"use strict";var r=n(18243).Buffer,i=n(41457);function o(e){if(r.isBuffer(e))return e;if("string"==typeof e)return r.from(e,"base64");throw TypeError("ECDSA signature must be a Base64 string or a Buffer")}function s(e,t,n){for(var r=0;t+r<n&&0===e[t+r];)++r;return e[t+r]>=128&&--r,r}e.exports={derToJose:function(e,t){e=o(e);var n=i(t),s=n+1,a=e.length,l=0;if(48!==e[l++])throw Error('Could not find expected "seq"');var c=e[l++];if(129===c&&(c=e[l++]),a-l<c)throw Error('"seq" specified length of "'+c+'", only "'+(a-l)+'" remaining');if(2!==e[l++])throw Error('Could not find expected "int" for "r"');var u=e[l++];if(a-l-2<u)throw Error('"r" specified length of "'+u+'", only "'+(a-l-2)+'" available');if(s<u)throw Error('"r" specified length of "'+u+'", max of "'+s+'" is acceptable');var h=l;if(l+=u,2!==e[l++])throw Error('Could not find expected "int" for "s"');var d=e[l++];if(a-l!==d)throw Error('"s" specified length of "'+d+'", expected "'+(a-l)+'"');if(s<d)throw Error('"s" specified length of "'+d+'", max of "'+s+'" is acceptable');var f=l;if((l+=d)!==a)throw Error('Expected to consume entire buffer, but "'+(a-l)+'" bytes remain');var p=n-u,m=n-d,g=r.allocUnsafe(p+u+m+d);for(l=0;l<p;++l)g[l]=0;e.copy(g,l,h+Math.max(-p,0),h+u),l=n;for(var y=l;l<y+m;++l)g[l]=0;return e.copy(g,l,f+Math.max(-m,0),f+d),g=(g=g.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(e,t){e=o(e);var n=i(t),a=e.length;if(a!==2*n)throw TypeError('"'+t+'" signatures must be "'+2*n+'" bytes, saw "'+a+'"');var l=s(e,0,n),c=s(e,n,e.length),u=n-l,h=n-c,d=2+u+1+1+h,f=d<128,p=r.allocUnsafe((f?2:3)+d),m=0;return p[m++]=48,f?p[m++]=d:(p[m++]=129,p[m++]=255&d),p[m++]=2,p[m++]=u,l<0?(p[m++]=0,m+=e.copy(p,m,0,n)):m+=e.copy(p,m,l,n),p[m++]=2,p[m++]=h,c<0?(p[m++]=0,e.copy(p,m,n)):e.copy(p,m,n+c),p}}},41457:e=>{"use strict";function t(e){return(e/8|0)+(e%8==0?0:1)}var n={ES256:t(256),ES384:t(384),ES512:t(521)};e.exports=function(e){var t=n[e];if(t)return t;throw Error('Unknown algorithm "'+e+'"')}},70767:(e,t,n)=>{"use strict";var r=n(15059),i=n(85266),o=n(80438),s=n(25995)(),a=n(61569),l=n(63491),c=n(56718);function u(e,t){var n=new c(t);return l(n,h),delete n.constructor,r(n,"errors",a(o(e,"SYNC"))),n}s&&Object.defineProperty(u,"prototype",{writable:!1});var h=u.prototype;i(h,"constructor",u),i(h,"message",""),i(h,"name","AggregateError"),l(u.prototype,Error.prototype),e.exports=u},69150:(e,t,n)=>{"use strict";var r=n(31660),i=n(93834),o=n(59564),s=n(6420),a=n(70767),l=n(37036),c=n(75665),u=l(),h=o(r.call(u),u.name,!0);s(h,"prototype",u.prototype,!0,!0,!0,!0),i(h,{getPolyfill:l,implementation:a,shim:c}),e.exports=h},37036:(e,t,n)=>{"use strict";var r=n(70767);e.exports=function(){return"function"==typeof AggregateError?AggregateError:r}},75665:(e,t,n)=>{"use strict";var r=n(93834),i=n(99847)(),o=n(37036);e.exports=function(){var e=o();return r(i,{AggregateError:e},{AggregateError:function(){return i.AggregateError!==e}}),e}},11952:e=>{"use strict";e.exports=function(e){return!!e&&("function"==typeof e||"object"==typeof e)}},39038:e=>{"use strict";var t=function(){return"string"==typeof(function(){}).name},n=Object.getOwnPropertyDescriptor;if(n)try{n([],"length")}catch(e){n=null}t.functionsHaveConfigurableNames=function(){if(!t()||!n)return!1;var e=n(function(){},"name");return!!e&&!!e.configurable};var r=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"==typeof r&&""!==(function(){}).bind().name},e.exports=t},54101:e=>{"use strict";e.exports=global},99847:(e,t,n)=>{"use strict";var r=n(93834),i=n(54101),o=n(19137),s=n(17889),a=o(),l=function(){return a};r(l,{getPolyfill:o,implementation:i,shim:s}),e.exports=l},19137:(e,t,n)=>{"use strict";var r=n(54101);e.exports=function(){return"object"==typeof global&&global&&global.Math===Math&&global.Array===Array?global:r}},17889:(e,t,n)=>{"use strict";var r=n(93834),i=n(86737),o=n(19137);e.exports=function(){var e=o();if(r.supportsDescriptors){var t=i(e,"globalThis");(!t||t.configurable&&(t.enumerable||!t.writable||globalThis!==e))&&Object.defineProperty(e,"globalThis",{configurable:!0,enumerable:!1,value:e,writable:!0})}else("object"!=typeof globalThis||globalThis!==e)&&(e.globalThis=e);return e}},25995:(e,t,n)=>{"use strict";var r=n(70091),i=function(){return!!r};i.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},37477:e=>{"use strict";var t={__proto__:null,foo:{}},n={__proto__:t}.foo===t.foo&&!(t instanceof Object);e.exports=function(){return n}},23757:(e,t,n)=>{"use strict";var r=n(12522);e.exports=function(){return r()&&!!Symbol.toStringTag}},26310:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpProxyAgent=void 0;let a=o(n(98216)),l=o(n(82452)),c=s(n(19092)),u=n(17702),h=n(94467),d=n(17360),f=(0,c.default)("http-proxy-agent");class p extends h.Agent{constructor(e,t){super(t),this.proxy="string"==typeof e?new d.URL(e):e,this.proxyHeaders=t?.headers??{},f("Creating new HttpProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),r=this.proxy.port?parseInt(this.proxy.port,10):"https:"===this.proxy.protocol?443:80;this.connectOpts={...t?function(e,...t){let n;let r={};for(n in e)t.includes(n)||(r[n]=e[n]);return r}(t,"headers"):null,host:n,port:r}}addRequest(e,t){e._header=null,this.setRequestProps(e,t),super.addRequest(e,t)}setRequestProps(e,t){let{proxy:n}=this,r=t.secureEndpoint?"https:":"http:",i=e.getHeader("host")||"localhost",o=`${r}//${i}`,s=new d.URL(e.path,o);80!==t.port&&(s.port=String(t.port)),e.path=String(s);let a="function"==typeof this.proxyHeaders?this.proxyHeaders():{...this.proxyHeaders};if(n.username||n.password){let e=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;a["Proxy-Authorization"]=`Basic ${Buffer.from(e).toString("base64")}`}for(let t of(a["Proxy-Connection"]||(a["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close"),Object.keys(a))){let n=a[t];n&&e.setHeader(t,n)}}async connect(e,t){let n,r,i;return e._header=null,e.path.includes("://")||this.setRequestProps(e,t),f("Regenerating stored HTTP header string for request"),e._implicitHeader(),e.outputData&&e.outputData.length>0&&(f("Patching connection write() output buffer with updated header"),r=(n=e.outputData[0].data).indexOf("\r\n\r\n")+4,e.outputData[0].data=e._header+n.substring(r),f("Output buffer: %o",e.outputData[0].data)),"https:"===this.proxy.protocol?(f("Creating `tls.Socket`: %o",this.connectOpts),i=l.connect(this.connectOpts)):(f("Creating `net.Socket`: %o",this.connectOpts),i=a.connect(this.connectOpts)),await (0,u.once)(i,"connect"),i}}p.protocols=["http","https"],t.HttpProxyAgent=p},5453:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpsProxyAgent=void 0;let a=o(n(98216)),l=o(n(82452)),c=s(n(27790)),u=s(n(19092)),h=n(94467),d=n(17360),f=n(21510),p=(0,u.default)("https-proxy-agent"),m=e=>void 0===e.servername&&e.host&&!a.isIP(e.host)?{...e,servername:e.host}:e;class g extends h.Agent{constructor(e,t){super(t),this.options={path:void 0},this.proxy="string"==typeof e?new d.URL(e):e,this.proxyHeaders=t?.headers??{},p("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),r=this.proxy.port?parseInt(this.proxy.port,10):"https:"===this.proxy.protocol?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...t?_(t,"headers"):null,host:n,port:r}}async connect(e,t){let n;let{proxy:r}=this;if(!t.host)throw TypeError('No "host" provided');"https:"===r.protocol?(p("Creating `tls.Socket`: %o",this.connectOpts),n=l.connect(m(this.connectOpts))):(p("Creating `net.Socket`: %o",this.connectOpts),n=a.connect(this.connectOpts));let i="function"==typeof this.proxyHeaders?this.proxyHeaders():{...this.proxyHeaders},o=a.isIPv6(t.host)?`[${t.host}]`:t.host,s=`CONNECT ${o}:${t.port} HTTP/1.1\r
`;if(r.username||r.password){let e=`${decodeURIComponent(r.username)}:${decodeURIComponent(r.password)}`;i["Proxy-Authorization"]=`Basic ${Buffer.from(e).toString("base64")}`}for(let e of(i.Host=`${o}:${t.port}`,i["Proxy-Connection"]||(i["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close"),Object.keys(i)))s+=`${e}: ${i[e]}\r
`;let u=(0,f.parseProxyResponse)(n);n.write(`${s}\r
`);let{connect:h,buffered:d}=await u;if(e.emit("proxyConnect",h),this.emit("proxyConnect",h,e),200===h.statusCode)return(e.once("socket",y),t.secureEndpoint)?(p("Upgrading socket connection to TLS"),l.connect({..._(m(t),"host","path","port"),socket:n})):n;n.destroy();let g=new a.Socket({writable:!1});return g.readable=!0,e.once("socket",e=>{p("Replaying proxy buffer for failed request"),(0,c.default)(e.listenerCount("data")>0),e.push(d),e.push(null)}),g}}function y(e){e.resume()}function _(e,...t){let n;let r={};for(n in e)t.includes(n)||(r[n]=e[n]);return r}g.protocols=["http","https"],t.HttpsProxyAgent=g},21510:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseProxyResponse=void 0;let i=(0,r(n(19092)).default)("https-proxy-agent:parse-proxy-response");t.parseProxyResponse=function(e){return new Promise((t,n)=>{let r=0,o=[];function s(){let l=e.read();l?function(l){o.push(l),r+=l.length;let c=Buffer.concat(o,r),u=c.indexOf("\r\n\r\n");if(-1===u){i("have not received end of HTTP headers yet..."),s();return}let h=c.slice(0,u).toString("ascii").split("\r\n"),d=h.shift();if(!d)return e.destroy(),n(Error("No header received from proxy CONNECT response"));let f=d.split(" "),p=+f[1],m=f.slice(2).join(" "),g={};for(let t of h){if(!t)continue;let r=t.indexOf(":");if(-1===r)return e.destroy(),n(Error(`Invalid header from proxy CONNECT response: "${t}"`));let i=t.slice(0,r).toLowerCase(),o=t.slice(r+1).trimStart(),s=g[i];"string"==typeof s?g[i]=[s,o]:Array.isArray(s)?s.push(o):g[i]=o}i("got proxy server response: %o %o",d,g),a(),t({connect:{statusCode:p,statusText:m,headers:g},buffered:c})}(l):e.once("readable",s)}function a(){e.removeListener("end",l),e.removeListener("error",c),e.removeListener("readable",s)}function l(){a(),i("onend"),n(Error("Proxy connection ended before receiving CONNECT response"))}function c(e){a(),i("onerror %o",e),n(e)}e.on("error",c),e.on("end",l),s()})}},65555:(e,t,n)=>{"use strict";var r=n(57009).Buffer;t._dbcs=s;for(var i=Array(256),o=0;o<256;o++)i[o]=-1;function s(e,t){if(this.encodingName=e.encodingName,!e)throw Error("DBCS codec is called without the data.");if(!e.table)throw Error("Encoding '"+this.encodingName+"' has no data.");var n=e.table();this.decodeTables=[],this.decodeTables[0]=i.slice(0),this.decodeTableSeq=[];for(var r=0;r<n.length;r++)this._addDecodeChunk(n[r]);if("function"==typeof e.gb18030){this.gb18030=e.gb18030();var o=this.decodeTables.length;this.decodeTables.push(i.slice(0));var s=this.decodeTables.length;this.decodeTables.push(i.slice(0));for(var a=this.decodeTables[0],r=129;r<=254;r++)for(var l=this.decodeTables[-1e3-a[r]],c=48;c<=57;c++){if(-1===l[c])l[c]=-1e3-o;else if(l[c]>-1e3)throw Error("gb18030 decode tables conflict at byte 2");for(var u=this.decodeTables[-1e3-l[c]],h=129;h<=254;h++){if(-1===u[h])u[h]=-1e3-s;else if(u[h]===-1e3-s)continue;else if(u[h]>-1e3)throw Error("gb18030 decode tables conflict at byte 3");for(var d=this.decodeTables[-1e3-u[h]],f=48;f<=57;f++)-1===d[f]&&(d[f]=-2)}}}this.defaultCharUnicode=t.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var p={};if(e.encodeSkipVals)for(var r=0;r<e.encodeSkipVals.length;r++){var m=e.encodeSkipVals[r];if("number"==typeof m)p[m]=!0;else for(var c=m.from;c<=m.to;c++)p[c]=!0}if(this._fillEncodeTable(0,0,p),e.encodeAdd)for(var g in e.encodeAdd)Object.prototype.hasOwnProperty.call(e.encodeAdd,g)&&this._setEncodeChar(g.charCodeAt(0),e.encodeAdd[g]);this.defCharSB=this.encodeTable[0][t.defaultCharSingleByte.charCodeAt(0)],-1===this.defCharSB&&(this.defCharSB=this.encodeTable[0]["?"]),-1===this.defCharSB&&(this.defCharSB=63)}function a(e,t){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=t.encodeTable,this.encodeTableSeq=t.encodeTableSeq,this.defaultCharSingleByte=t.defCharSB,this.gb18030=t.gb18030}function l(e,t){this.nodeIdx=0,this.prevBytes=[],this.decodeTables=t.decodeTables,this.decodeTableSeq=t.decodeTableSeq,this.defaultCharUnicode=t.defaultCharUnicode,this.gb18030=t.gb18030}function c(e,t){if(e[0]>t)return -1;for(var n=0,r=e.length;n<r-1;){var i=n+(r-n+1>>1);e[i]<=t?n=i:r=i}return n}s.prototype.encoder=a,s.prototype.decoder=l,s.prototype._getDecodeTrieNode=function(e){for(var t=[];e>0;e>>>=8)t.push(255&e);0==t.length&&t.push(0);for(var n=this.decodeTables[0],r=t.length-1;r>0;r--){var o=n[t[r]];if(-1==o)n[t[r]]=-1e3-this.decodeTables.length,this.decodeTables.push(n=i.slice(0));else if(o<=-1e3)n=this.decodeTables[-1e3-o];else throw Error("Overwrite byte in "+this.encodingName+", addr: "+e.toString(16))}return n},s.prototype._addDecodeChunk=function(e){var t=parseInt(e[0],16),n=this._getDecodeTrieNode(t);t&=255;for(var r=1;r<e.length;r++){var i=e[r];if("string"==typeof i)for(var o=0;o<i.length;){var s=i.charCodeAt(o++);if(55296<=s&&s<56320){var a=i.charCodeAt(o++);if(56320<=a&&a<57344)n[t++]=65536+(s-55296)*1024+(a-56320);else throw Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+e[0])}else if(4080<s&&s<=4095){for(var l=4095-s+2,c=[],u=0;u<l;u++)c.push(i.charCodeAt(o++));n[t++]=-10-this.decodeTableSeq.length,this.decodeTableSeq.push(c)}else n[t++]=s}else if("number"==typeof i)for(var h=n[t-1]+1,o=0;o<i;o++)n[t++]=h++;else throw Error("Incorrect type '"+typeof i+"' given in "+this.encodingName+" at chunk "+e[0])}if(t>255)throw Error("Incorrect chunk in "+this.encodingName+" at addr "+e[0]+": too long"+t)},s.prototype._getEncodeBucket=function(e){var t=e>>8;return void 0===this.encodeTable[t]&&(this.encodeTable[t]=i.slice(0)),this.encodeTable[t]},s.prototype._setEncodeChar=function(e,t){var n=this._getEncodeBucket(e),r=255&e;n[r]<=-10?this.encodeTableSeq[-10-n[r]][-1]=t:-1==n[r]&&(n[r]=t)},s.prototype._setEncodeSequence=function(e,t){var n,r=e[0],i=this._getEncodeBucket(r),o=255&r;i[o]<=-10?n=this.encodeTableSeq[-10-i[o]]:(n={},-1!==i[o]&&(n[-1]=i[o]),i[o]=-10-this.encodeTableSeq.length,this.encodeTableSeq.push(n));for(var s=1;s<e.length-1;s++){var a=n[r];"object"==typeof a?n=a:(n=n[r]={},void 0!==a&&(n[-1]=a))}n[r=e[e.length-1]]=t},s.prototype._fillEncodeTable=function(e,t,n){for(var r=this.decodeTables[e],i=!1,o={},s=0;s<256;s++){var a=r[s],l=t+s;if(!n[l]){if(a>=0)this._setEncodeChar(a,l),i=!0;else if(a<=-1e3){var c=-1e3-a;if(!o[c]){var u=l<<8>>>0;this._fillEncodeTable(c,u,n)?i=!0:o[c]=!0}}else a<=-10&&(this._setEncodeSequence(this.decodeTableSeq[-10-a],l),i=!0)}}return i},a.prototype.write=function(e){for(var t=r.alloc(e.length*(this.gb18030?4:3)),n=this.leadSurrogate,i=this.seqObj,o=-1,s=0,a=0;;){if(-1===o){if(s==e.length)break;var l=e.charCodeAt(s++)}else{var l=o;o=-1}if(55296<=l&&l<57344){if(l<56320){if(-1===n){n=l;continue}n=l,l=-1}else -1!==n?(l=65536+(n-55296)*1024+(l-56320),n=-1):l=-1}else -1!==n&&(o=l,l=-1,n=-1);var u=-1;if(void 0!==i&&-1!=l){var h=i[l];if("object"==typeof h){i=h;continue}"number"==typeof h?u=h:void 0==h&&void 0!==(h=i[-1])&&(u=h,o=l),i=void 0}else if(l>=0){var d=this.encodeTable[l>>8];if(void 0!==d&&(u=d[255&l]),u<=-10){i=this.encodeTableSeq[-10-u];continue}if(-1==u&&this.gb18030){var f=c(this.gb18030.uChars,l);if(-1!=f){var u=this.gb18030.gbChars[f]+(l-this.gb18030.uChars[f]);t[a++]=129+Math.floor(u/12600),u%=12600,t[a++]=48+Math.floor(u/1260),u%=1260,t[a++]=129+Math.floor(u/10),u%=10,t[a++]=48+u;continue}}}-1===u&&(u=this.defaultCharSingleByte),u<256?t[a++]=u:(u<65536?t[a++]=u>>8:u<16777216?(t[a++]=u>>16,t[a++]=u>>8&255):(t[a++]=u>>>24,t[a++]=u>>>16&255,t[a++]=u>>>8&255),t[a++]=255&u)}return this.seqObj=i,this.leadSurrogate=n,t.slice(0,a)},a.prototype.end=function(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var e=r.alloc(10),t=0;if(this.seqObj){var n=this.seqObj[-1];void 0!==n&&(n<256?e[t++]=n:(e[t++]=n>>8,e[t++]=255&n)),this.seqObj=void 0}return -1!==this.leadSurrogate&&(e[t++]=this.defaultCharSingleByte,this.leadSurrogate=-1),e.slice(0,t)}},a.prototype.findIdx=c,l.prototype.write=function(e){for(var t,n=r.alloc(2*e.length),i=this.nodeIdx,o=this.prevBytes,s=this.prevBytes.length,a=-this.prevBytes.length,l=0,u=0;l<e.length;l++){var h=l>=0?e[l]:o[l+s],t=this.decodeTables[i][h];if(t>=0);else if(-1===t)t=this.defaultCharUnicode.charCodeAt(0),l=a;else if(-2===t){if(l>=3)var d=(e[l-3]-129)*12600+(e[l-2]-48)*1260+(e[l-1]-129)*10+(h-48);else var d=(o[l-3+s]-129)*12600+((l-2>=0?e[l-2]:o[l-2+s])-48)*1260+((l-1>=0?e[l-1]:o[l-1+s])-129)*10+(h-48);var f=c(this.gb18030.gbChars,d);t=this.gb18030.uChars[f]+d-this.gb18030.gbChars[f]}else if(t<=-1e3){i=-1e3-t;continue}else if(t<=-10){for(var p=this.decodeTableSeq[-10-t],m=0;m<p.length-1;m++)t=p[m],n[u++]=255&t,n[u++]=t>>8;t=p[p.length-1]}else throw Error("iconv-lite internal error: invalid decoding table value "+t+" at "+i+"/"+h);if(t>=65536){var g=55296|(t-=65536)>>10;n[u++]=255&g,n[u++]=g>>8,t=56320|1023&t}n[u++]=255&t,n[u++]=t>>8,i=0,a=l+1}return this.nodeIdx=i,this.prevBytes=a>=0?Array.prototype.slice.call(e,a):o.slice(a+s).concat(Array.prototype.slice.call(e)),n.slice(0,u).toString("ucs2")},l.prototype.end=function(){for(var e="";this.prevBytes.length>0;){e+=this.defaultCharUnicode;var t=this.prevBytes.slice(1);this.prevBytes=[],this.nodeIdx=0,t.length>0&&(e+=this.write(t))}return this.prevBytes=[],this.nodeIdx=0,e}},24013:(e,t,n)=>{"use strict";e.exports={shiftjis:{type:"_dbcs",table:function(){return n(27204)},encodeAdd:{"\xa5":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return n(3991)},encodeAdd:{"\xa5":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return n(98348)}},gbk:{type:"_dbcs",table:function(){return n(98348).concat(n(68794))}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return n(98348).concat(n(68794))},gb18030:function(){return n(52061)},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return n(18378)}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return n(12032)}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return n(12032).concat(n(27150))},encodeSkipVals:[36457,36463,36478,36523,36532,36557,36560,36695,36713,36718,36811,36862,36973,36986,37060,37084,37105,37311,37551,37552,37553,37554,37585,37959,38090,38361,38652,39285,39798,39800,39803,39878,39902,39916,39926,40002,40019,40034,40040,40043,40055,40124,40125,40144,40279,40282,40388,40431,40443,40617,40687,40701,40800,40907,41079,41180,41183,36812,37576,38468,38637,41636,41637,41639,41638,41676,41678]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}},55202:(e,t,n)=>{"use strict";for(var r=[n(57774),n(60444),n(37701),n(63461),n(61103),n(80258),n(37141),n(65555),n(24013)],i=0;i<r.length;i++){var o=r[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}},57774:(e,t,n)=>{"use strict";var r=n(57009).Buffer;function i(e,t){this.enc=e.encodingName,this.bomAware=e.bomAware,"base64"===this.enc?this.encoder=l:"cesu8"===this.enc&&(this.enc="utf8",this.encoder=c,"\uD83D\uDCA9"!==r.from("eda0bdedb2a9","hex").toString()&&(this.decoder=u,this.defaultCharUnicode=t.defaultCharUnicode))}e.exports={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:i},i.prototype.encoder=a,i.prototype.decoder=s;var o=n(74026).StringDecoder;function s(e,t){this.decoder=new o(t.enc)}function a(e,t){this.enc=t.enc}function l(e,t){this.prevStr=""}function c(e,t){}function u(e,t){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=t.defaultCharUnicode}o.prototype.end||(o.prototype.end=function(){}),s.prototype.write=function(e){return r.isBuffer(e)||(e=r.from(e)),this.decoder.write(e)},s.prototype.end=function(){return this.decoder.end()},a.prototype.write=function(e){return r.from(e,this.enc)},a.prototype.end=function(){},l.prototype.write=function(e){var t=(e=this.prevStr+e).length-e.length%4;return this.prevStr=e.slice(t),e=e.slice(0,t),r.from(e,"base64")},l.prototype.end=function(){return r.from(this.prevStr,"base64")},c.prototype.write=function(e){for(var t=r.alloc(3*e.length),n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[n++]=o:(o<2048?t[n++]=192+(o>>>6):(t[n++]=224+(o>>>12),t[n++]=128+(o>>>6&63)),t[n++]=128+(63&o))}return t.slice(0,n)},c.prototype.end=function(){},u.prototype.write=function(e){for(var t=this.acc,n=this.contBytes,r=this.accBytes,i="",o=0;o<e.length;o++){var s=e[o];(192&s)!=128?(n>0&&(i+=this.defaultCharUnicode,n=0),s<128?i+=String.fromCharCode(s):s<224?(t=31&s,n=1,r=1):s<240?(t=15&s,n=2,r=1):i+=this.defaultCharUnicode):n>0?(t=t<<6|63&s,n--,r++,0===n&&(2===r&&t<128&&t>0?i+=this.defaultCharUnicode:3===r&&t<2048?i+=this.defaultCharUnicode:i+=String.fromCharCode(t))):i+=this.defaultCharUnicode}return this.acc=t,this.contBytes=n,this.accBytes=r,i},u.prototype.end=function(){var e=0;return this.contBytes>0&&(e+=this.defaultCharUnicode),e}},61103:(e,t,n)=>{"use strict";var r=n(57009).Buffer;function i(e,t){if(!e)throw Error("SBCS codec is called without the data.");if(!e.chars||128!==e.chars.length&&256!==e.chars.length)throw Error("Encoding '"+e.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===e.chars.length){for(var n="",i=0;i<128;i++)n+=String.fromCharCode(i);e.chars=n+e.chars}this.decodeBuf=r.from(e.chars,"ucs2");for(var o=r.alloc(65536,t.defaultCharSingleByte.charCodeAt(0)),i=0;i<e.chars.length;i++)o[e.chars.charCodeAt(i)]=i;this.encodeBuf=o}function o(e,t){this.encodeBuf=t.encodeBuf}function s(e,t){this.decodeBuf=t.decodeBuf}t._sbcs=i,i.prototype.encoder=o,i.prototype.decoder=s,o.prototype.write=function(e){for(var t=r.alloc(e.length),n=0;n<e.length;n++)t[n]=this.encodeBuf[e.charCodeAt(n)];return t},o.prototype.end=function(){},s.prototype.write=function(e){for(var t=this.decodeBuf,n=r.alloc(2*e.length),i=0,o=0,s=0;s<e.length;s++)i=2*e[s],n[o=2*s]=t[i],n[o+1]=t[i+1];return n.toString("ucs2")},s.prototype.end=function(){}},37141:e=>{"use strict";e.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:"\xa0"},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:"\xa0\xa4\xa6\xa7\xa8\xa9\xab\xac\xad\xae\xb0\xb1\xb4\xb5\xb6\xb7\xb8\xbb\xc1\xc2\xc4\xc7\xc9\xcb\xcd\xce\xd3\xd4\xd6\xd7\xda\xdc\xdd\xdf\xe1\xe2\xe4\xe7\xe9\xeb\xed\xee\xf3\xf4\xf6\xf7\xfa\xfc\xfd"},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:"\xa0\xa4\xa6\xa7\xa9\xab\xac\xad\xae\xb0\xb1\xb5\xb6\xb7\xbb"},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:"\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff"},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:"\xa0\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xab\xac\xad\xae\xb0\xb1\xb2\xb3\xb5\xb6\xb7\xbb\xbd"},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:"\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xff"},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:"\xa0\xa1\xa2\xa3\xa5\xa6\xa7\xa8\xa9\xd7\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xf7\xbb\xbc\xbd\xbe\xbf"},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:"\xa0\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xbb\xbc\xbd\xbe\xd7\xe0\xe2\xe7\xe8\xe9\xea\xeb\xee\xef\xf4\xf7\xf9\xfb\xfc"},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:"\xa8\xb8\xaf\xa0\xa2\xa3\xa4\xa6\xa7\xd8\xa9\xab\xac\xad\xae\xc6\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xf8\xb9\xbb\xbc\xbd\xbe\xe6\xc4\xc5\xc9\xd3\xd5\xd6\xd7\xdc\xdf\xe4\xe5\xe9\xf3\xf5\xf6\xf7\xfc"},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:"\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcd\xce\xcf\xd1\xd3\xd4\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xed\xee\xef\xf1\xf3\xf4\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xff"},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff"},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa4\xa7\xa8\xad\xb0\xb4\xb8\xc1\xc2\xc4\xc7\xc9\xcb\xcd\xce\xd3\xd4\xd6\xd7\xda\xdc\xdd\xdf\xe1\xe2\xe4\xe7\xe9\xeb\xed\xee\xf3\xf4\xf6\xf7\xfa\xfc\xfd"},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa3\xa4\xa7\xa8\xad\xb0\xb2\xb3\xb4\xb5\xb7\xb8\xbd\xc0\xc1\xc2\xc4\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd1\xd2\xd3\xd4\xd6\xd7\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe4\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf1\xf2\xf3\xf4\xf6\xf7\xf9\xfa\xfb\xfc"},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa4\xa7\xa8\xad\xaf\xb0\xb4\xb8\xc1\xc2\xc3\xc4\xc5\xc6\xc9\xcb\xcd\xce\xd4\xd5\xd6\xd7\xd8\xda\xdb\xdc\xdf\xe1\xe2\xe3\xe4\xe5\xe6\xe9\xeb\xed\xee\xf4\xf5\xf6\xf7\xf8\xfa\xfb\xfc"},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xad\xa7"},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa4\xad"},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa3\xa6\xa7\xa8\xa9\xab\xac\xad\xb0\xb1\xb2\xb3\xb7\xbb\xbd"},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xd7\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xf7\xbb\xbc\xbd\xbe"},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xff"},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa7\xad\xb0\xb7\xc1\xc2\xc3\xc4\xc5\xc6\xc9\xcb\xcd\xce\xcf\xd0\xd3\xd4\xd5\xd6\xd8\xda\xdb\xdc\xdd\xde\xdf\xe1\xe2\xe3\xe4\xe5\xe6\xe9\xeb\xed\xee\xef\xf0\xf3\xf4\xf5\xf6\xf8\xfa\xfb\xfc\xfd\xfe"},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0"},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa2\xa3\xa4\xa6\xa7\xd8\xa9\xab\xac\xad\xae\xc6\xb0\xb1\xb2\xb3\xb5\xb6\xb7\xf8\xb9\xbb\xbc\xbd\xbe\xe6\xc4\xc5\xc9\xd3\xd5\xd6\xd7\xdc\xdf\xe4\xe5\xe9\xf3\xf5\xf6\xf7\xfc"},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa3\xa7\xa9\xad\xae\xb6\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xff"},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa5\xa7\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb5\xb6\xb7\xb9\xba\xbb\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff"},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa7\xa9\xab\xad\xb0\xb1\xb6\xb7\xbb\xc0\xc1\xc2\xc4\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd2\xd3\xd4\xd6\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe4\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf2\xf3\xf4\xf6\xf9\xfa\xfb\xfc\xff"},cp28606:"iso885916",cp437:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xef\xee\xec\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xf2\xfb\xf9\xff\xd6\xdc\xa2\xa3\xa5\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\xac\xbd\xbc\xa1\xab\xbb\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:"\xb1\xf7\xb0\xb7\xb2\xa0"},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:"\xfc\xe9\xe4\xe5\xc4\xc5\xc9\xe6\xc6\xf6\xa2\xd6\xdc\xf8\xa3\xd8\xd7\xa4\xf3\xa6\xa9\xae\xac\xbd\xbc\xab\xbb\xd3\xdf\xf5\xd5\xb5\xad\xb1\xbe\xb6\xa7\xf7\xb0\xb7\xb9\xb3\xb2\xa0"},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xef\xee\xec\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xf2\xfb\xf9\xff\xd6\xdc\xf8\xa3\xd8\xd7\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\xae\xac\xbd\xbc\xa1\xab\xbb\xc1\xc2\xc0\xa9\xa2\xa5\xe3\xc3\xa4\xf0\xd0\xca\xcb\xc8\xcd\xce\xcf\xa6\xcc\xd3\xdf\xd4\xd2\xf5\xd5\xb5\xfe\xde\xda\xdb\xd9\xfd\xdd\xaf\xb4\xad\xb1\xbe\xb6\xa7\xf7\xb8\xb0\xa8\xb7\xb9\xb3\xb2\xa0"},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe7\xeb\xee\xc4\xc9\xf4\xf6\xd6\xdc\xd7\xe1\xed\xf3\xfa\xac\xab\xbb\xc1\xc2\xa4\xcb\xcd\xce\xd3\xdf\xd4\xda\xfd\xdd\xb4\xad\xa7\xf7\xb8\xb0\xa8\xa0"},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:"\xab\xbb\xa4\xad\xa7\xa0"},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:"\xa3\xd7\xae\xac\xbd\xbc\xab\xbb\xa9\xa2\xa5\xa4\xa6\xb5\xaf\xb4\xad\xb1\xbe\xb6\xa7\xf7\xb8\xb0\xa8\xb7\xb9\xb3\xb2\xa0"},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xef\xee\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xf2\xfb\xf9\xd6\xdc\xf8\xa3\xd8\xe1\xed\xf3\xfa\xf1\xd1\xbf\xae\xac\xbd\xbc\xa1\xab\xbb\xc1\xc2\xc0\xa9\xa2\xa5\xe3\xc3\xa4\xba\xaa\xca\xcb\xc8\xcd\xce\xcf\xa6\xcc\xd3\xdf\xd4\xd2\xf5\xd5\xb5\xd7\xda\xdb\xd9\xec\xff\xaf\xb4\xad\xb1\xbe\xb6\xa7\xf7\xb8\xb0\xa8\xb7\xb9\xb3\xb2\xa0"},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xef\xee\xec\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xf2\xfb\xf9\xff\xd6\xdc\xf8\xa3\xd8\xd7\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\xae\xac\xbd\xbc\xa1\xab\xbb\xc1\xc2\xc0\xa9\xa2\xa5\xe3\xc3\xa4\xf0\xd0\xca\xcb\xc8\xcd\xce\xcf\xa6\xcc\xd3\xdf\xd4\xd2\xf5\xd5\xb5\xfe\xde\xda\xdb\xd9\xfd\xdd\xaf\xb4\xad\xb1\xbe\xb6\xa7\xf7\xb8\xb0\xa8\xb7\xb9\xb3\xb2\xa0"},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe3\xe0\xc1\xe7\xea\xca\xe8\xcd\xd4\xec\xc3\xc2\xc9\xc0\xc8\xf4\xf5\xf2\xda\xf9\xcc\xd5\xdc\xa2\xa3\xd9\xd3\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\xd2\xac\xbd\xbc\xa1\xab\xbb\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xd0\xf0\xde\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xfe\xfb\xdd\xfd\xd6\xdc\xf8\xa3\xd8\xe1\xed\xf3\xfa\xc1\xcd\xd3\xda\xbf\xac\xbd\xbc\xa1\xab\xbb\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:"\xa2\xa3\xa5\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\xac\xbd\xbc\xa1\xab\xbb\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xc2\xe0\xb6\xe7\xea\xeb\xe8\xef\xee\xc0\xa7\xc9\xc8\xca\xf4\xcb\xcf\xfb\xf9\xa4\xd4\xdc\xa2\xa3\xd9\xdb\xa6\xb4\xf3\xfa\xa8\xb8\xb3\xaf\xce\xac\xbd\xbc\xbe\xab\xbb\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\0\x01\x02\x03\x04\x05\x06\x07\b	\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\x7f\xb0\xb7\xb1\xbd\xbc\xab\xbb\xa0\xad\xa3\xa4\xa2\xa6\xac\xf7\xd7"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xef\xee\xec\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xf2\xfb\xf9\xff\xd6\xdc\xf8\xa3\xd8\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\xac\xbd\xbc\xa1\xab\xa4\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:"\xb0\xb7\xa4\xa0"},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:"\xb7\xac\xa6\xa9\xb2\xb3\xa3\xbd\xab\xbb\xad\xb1\xa7\xb0\xa8\xa0"},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdd\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xff"},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:"\xd7\xf7\x88\xa0\xa4\xad"},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xad\xa7"},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:"\xb7\xa4\xa0"},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb5\xb6\xb7\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcd\xce\xcf\xd1\xd3\xd4\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xed\xee\xef\xf1\xf3\xf4\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xff"},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa2\xac\xa6"},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:"\xa2\xac\xa6\xa0"},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:"\x81\x82\x83\x84\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0"},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa5\xa6\xa7\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb5\xb6\xb7\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcd\xce\xcf\xd1\xd3\xd4\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xed\xee\xef\xf1\xf3\xf4\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xff"},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xb0\xa2\xa3\xa7\xb6\xdf\xae\xb4\xa8\xd8\xb1\xb5\xaa\xba\xf8\xbf\xa1\xac\xab\xa0\xc0\xc3\xd5\xf7\xa9\xa4\xc6\xbb\xb7\xc2\xc1\xc8\xcd\xce\xcf\xcc\xd3\xd4\xd2\xda\xdb\xd9\xaf\xcb\xb8\xca\xe6"},maccyrillic:{type:"_sbcs",chars:"\xb0\xa2\xa3\xa7\xb6\xae\xa9\xb1\xb5\xac\xab\xbb\xa0\xf7\xa4"},macgreek:{type:"_sbcs",chars:"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\xe0\xe2\xe4\xa8\xe7\xe9\xe8\xea\xeb\xa3\xee\xef\xbd\xf4\xf6\xa6\xad\xf9\xfb\xfc\xdf\xae\xa9\xa7\xb0\xb1\xa5\xac\xab\xbb\xa0\xf7"},maciceland:{type:"_sbcs",chars:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\xb6\xdf\xae\xa9\xb4\xa8\xc6\xd8\xb1\xa5\xb5\xaa\xba\xe6\xf8\xbf\xa1\xac\xab\xbb\xa0\xc0\xc3\xd5\xf7\xff\xa4\xd0\xf0\xde\xfe\xfd\xb7\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\xd2\xda\xdb\xd9\xaf\xb8"},macroman:{type:"_sbcs",chars:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xb0\xa2\xa3\xa7\xb6\xdf\xae\xa9\xb4\xa8\xc6\xd8\xb1\xa5\xb5\xaa\xba\xe6\xf8\xbf\xa1\xac\xab\xbb\xa0\xc0\xc3\xd5\xf7\xff\xa4\xb7\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\xd2\xda\xdb\xd9\xaf\xb8"},macromania:{type:"_sbcs",chars:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xb0\xa2\xa3\xa7\xb6\xdf\xae\xa9\xb4\xa8\xb1\xa5\xb5\xaa\xba\xbf\xa1\xac\xab\xbb\xa0\xc0\xc3\xd5\xf7\xff\xa4\xb7\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\xd2\xda\xdb\xd9\xaf\xb8"},macthai:{type:"_sbcs",chars:"\xab\xbb\xa0\uFEFF\xae\xa9"},macturkish:{type:"_sbcs",chars:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xb0\xa2\xa3\xa7\xb6\xdf\xae\xa9\xb4\xa8\xc6\xd8\xb1\xa5\xb5\xaa\xba\xe6\xf8\xbf\xa1\xac\xab\xbb\xa0\xc0\xc3\xd5\xf7\xff\xb7\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\xd2\xda\xdb\xd9\xaf\xb8"},macukraine:{type:"_sbcs",chars:"\xb0\xa3\xa7\xb6\xae\xa9\xb1\xb5\xac\xab\xbb\xa0\xf7\xa4"},koi8r:{type:"_sbcs",chars:"\xa0\xb0\xb2\xb7\xf7\xa9"},koi8u:{type:"_sbcs",chars:"\xa0\xb0\xb2\xb7\xf7\xa9"},koi8ru:{type:"_sbcs",chars:"\xa0\xb0\xb2\xb7\xf7\xa9"},koi8t:{type:"_sbcs",chars:"\xa4\xa6\xa7\xab\xac\xad\xae\xb0\xb1\xb2\xb6\xb7\xbb\xa9"},armscii8:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0)(\xbb\xab.,-"},rk1048:{type:"_sbcs",chars:"\xa0\xa4\xa6\xa7\xa9\xab\xac\xad\xae\xb0\xb1\xb5\xb6\xb7\xbb"},tcvn:{type:"_sbcs",chars:"\0\xda\x03\x07\b	\n\v\f\r\x0e\x0f\x10\xdd\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\x7f\xc0\xc3\xc1\xc8\xc9\xcc\xcd\xd2\xd5\xd3\xd9\xa0\xc2\xca\xd4\xe2\xea\xf4\xe0\xe3\xe1\xe8\xe9\xec\xed\xf2\xf5\xf3\xf9\xfa\xfd"},georgianacademy:{type:"_sbcs",chars:"\x80\x81\x8d\x8e\x8f\x90\x9d\x9e\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff"},georgianps:{type:"_sbcs",chars:"\x80\x81\x8d\x8e\x8f\x90\x9d\x9e\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff"},pt154:{type:"_sbcs",chars:"\xa0\xa7\xa9\xab\xac\xae\xb0\xb6\xb7\xbb"},viscii:{type:"_sbcs",chars:"\0\x01\x03\x04\x07\b	\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x15\x16\x17\x18\x1a\x1b\x1c\x1d\x1f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\x7f\xd5\xc0\xc1\xc2\xc3\xc8\xc9\xca\xcc\xcd\xd2\xd3\xd4\xd9\xda\xdd\xe0\xe1\xe2\xe3\xe8\xe9\xea\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\xfd"},iso646cn:{type:"_sbcs",chars:"\0\x01\x02\x03\x04\x05\x06\x07\b	\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f !\"#\xa5%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}\x7f"},iso646jp:{type:"_sbcs",chars:"\0\x01\x02\x03\x04\x05\x06\x07\b	\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\xa5]^_`abcdefghijklmnopqrstuvwxyz{|}\x7f"},hproman8:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xc0\xc2\xc8\xca\xcb\xce\xcf\xb4\xa8\xd9\xdb\xaf\xdd\xfd\xb0\xc7\xe7\xd1\xf1\xa1\xbf\xa4\xa3\xa5\xa7\xa2\xe2\xea\xf4\xfb\xe1\xe9\xf3\xfa\xe0\xe8\xf2\xf9\xe4\xeb\xf6\xfc\xc5\xee\xd8\xc6\xe5\xed\xf8\xe6\xc4\xec\xd6\xdc\xc9\xef\xdf\xd4\xc1\xc3\xe3\xd0\xf0\xcd\xcc\xd3\xd2\xd5\xf5\xda\xff\xde\xfe\xb7\xb5\xb6\xbe\xbc\xbd\xaa\xba\xab\xbb\xb1"},macintosh:{type:"_sbcs",chars:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xb0\xa2\xa3\xa7\xb6\xdf\xae\xa9\xb4\xa8\xc6\xd8\xb1\xa5\xb5\xaa\xba\xe6\xf8\xbf\xa1\xac\xab\xbb\xa0\xc0\xc3\xd5\xf7\xff\xa4\xb7\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\xd2\xda\xdb\xd9\xaf\xb8"},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}},80258:e=>{"use strict";e.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:"\xc4\xc9\xd6\xdc\xe1\xe4\xe9\xed\xf3\xf4\xf6\xf5\xfa\xfc\xb0\xa3\xa7\xb6\xdf\xae\xa9\xa8\xac\xab\xbb\xa0\xd5\xf7\xc1\xcd\xd3\xd4\xda\xdd\xfd"},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:"\xb0\xb7\xa0"},mik:{type:"_sbcs",chars:"\xa7\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},cp720:{type:"_sbcs",chars:"\x80\x81\xe9\xe2\x84\xe0\x86\xe7\xea\xeb\xe8\xef\xee\x8d\x8e\x8f\x90\xf4\xa4\xfb\xf9\xa3\xab\xbb\xb5\xb0\xb7\xb2\xa0"},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}},37701:(e,t,n)=>{"use strict";var r=n(57009).Buffer;function i(){}function o(){}function s(){this.overflowByte=-1}function a(e,t){this.iconv=t}function l(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder("utf-16le",e)}function c(e,t){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=e||{},this.iconv=t.iconv}function u(e,t){var n=[],r=0,i=0,o=0;t:for(var s=0;s<e.length;s++)for(var a=e[s],l=0;l<a.length;l++)if(n.push(a[l]),2===n.length){if(0===r){if(255===n[0]&&254===n[1])return"utf-16le";if(254===n[0]&&255===n[1])return"utf-16be"}if(0===n[0]&&0!==n[1]&&o++,0!==n[0]&&0===n[1]&&i++,n.length=0,++r>=100)break t}return o>i?"utf-16be":o<i?"utf-16le":t||"utf-16le"}t.utf16be=i,i.prototype.encoder=o,i.prototype.decoder=s,i.prototype.bomAware=!0,o.prototype.write=function(e){for(var t=r.from(e,"ucs2"),n=0;n<t.length;n+=2){var i=t[n];t[n]=t[n+1],t[n+1]=i}return t},o.prototype.end=function(){},s.prototype.write=function(e){if(0==e.length)return"";var t=r.alloc(e.length+1),n=0,i=0;for(-1!==this.overflowByte&&(t[0]=e[0],t[1]=this.overflowByte,n=1,i=2);n<e.length-1;n+=2,i+=2)t[i]=e[n+1],t[i+1]=e[n];return this.overflowByte=n==e.length-1?e[e.length-1]:-1,t.slice(0,i).toString("ucs2")},s.prototype.end=function(){this.overflowByte=-1},t.utf16=a,a.prototype.encoder=l,a.prototype.decoder=c,l.prototype.write=function(e){return this.encoder.write(e)},l.prototype.end=function(){return this.encoder.end()},c.prototype.write=function(e){if(!this.decoder){if(this.initialBufs.push(e),this.initialBufsLen+=e.length,this.initialBufsLen<16)return"";var t=u(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);for(var n="",r=0;r<this.initialBufs.length;r++)n+=this.decoder.write(this.initialBufs[r]);return this.initialBufs.length=this.initialBufsLen=0,n}return this.decoder.write(e)},c.prototype.end=function(){if(!this.decoder){var e=u(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options);for(var t="",n=0;n<this.initialBufs.length;n++)t+=this.decoder.write(this.initialBufs[n]);var r=this.decoder.end();return r&&(t+=r),this.initialBufs.length=this.initialBufsLen=0,t}return this.decoder.end()}},60444:(e,t,n)=>{"use strict";var r=n(57009).Buffer;function i(e,t){this.iconv=t,this.bomAware=!0,this.isLE=e.isLE}function o(e,t){this.isLE=t.isLE,this.highSurrogate=0}function s(e,t){this.isLE=t.isLE,this.badChar=t.iconv.defaultCharUnicode.charCodeAt(0),this.overflow=[]}function a(e,t,n,r){if((n<0||n>1114111)&&(n=r),n>=65536){var i=55296|(n-=65536)>>10;e[t++]=255&i,e[t++]=i>>8;var n=56320|1023&n}return e[t++]=255&n,e[t++]=n>>8,t}function l(e,t){this.iconv=t}function c(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder(e.defaultEncoding||"utf-32le",e)}function u(e,t){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=e||{},this.iconv=t.iconv}function h(e,t){var n=[],r=0,i=0,o=0,s=0,a=0;t:for(var l=0;l<e.length;l++)for(var c=e[l],u=0;u<c.length;u++)if(n.push(c[u]),4===n.length){if(0===r){if(255===n[0]&&254===n[1]&&0===n[2]&&0===n[3])return"utf-32le";if(0===n[0]&&0===n[1]&&254===n[2]&&255===n[3])return"utf-32be"}if((0!==n[0]||n[1]>16)&&o++,(0!==n[3]||n[2]>16)&&i++,0===n[0]&&0===n[1]&&(0!==n[2]||0!==n[3])&&a++,(0!==n[0]||0!==n[1])&&0===n[2]&&0===n[3]&&s++,n.length=0,++r>=100)break t}return a-o>s-i?"utf-32be":a-o<s-i?"utf-32le":t||"utf-32le"}t._utf32=i,t.utf32le={type:"_utf32",isLE:!0},t.utf32be={type:"_utf32",isLE:!1},t.ucs4le="utf32le",t.ucs4be="utf32be",i.prototype.encoder=o,i.prototype.decoder=s,o.prototype.write=function(e){for(var t=r.from(e,"ucs2"),n=r.alloc(2*t.length),i=this.isLE?n.writeUInt32LE:n.writeUInt32BE,o=0,s=0;s<t.length;s+=2){var a=t.readUInt16LE(s),l=55296<=a&&a<56320,c=56320<=a&&a<57344;if(this.highSurrogate){if(l||!c)i.call(n,this.highSurrogate,o),o+=4;else{var u=(this.highSurrogate-55296<<10|a-56320)+65536;i.call(n,u,o),o+=4,this.highSurrogate=0;continue}}l?this.highSurrogate=a:(i.call(n,a,o),o+=4,this.highSurrogate=0)}return o<n.length&&(n=n.slice(0,o)),n},o.prototype.end=function(){if(this.highSurrogate){var e=r.alloc(4);return this.isLE?e.writeUInt32LE(this.highSurrogate,0):e.writeUInt32BE(this.highSurrogate,0),this.highSurrogate=0,e}},s.prototype.write=function(e){if(0===e.length)return"";var t=0,n=0,i=r.alloc(e.length+4),o=0,s=this.isLE,l=this.overflow,c=this.badChar;if(l.length>0){for(;t<e.length&&l.length<4;t++)l.push(e[t]);4===l.length&&(n=s?l[t]|l[t+1]<<8|l[t+2]<<16|l[t+3]<<24:l[t+3]|l[t+2]<<8|l[t+1]<<16|l[t]<<24,l.length=0,o=a(i,o,n,c))}for(;t<e.length-3;t+=4)o=a(i,o,n=s?e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24:e[t+3]|e[t+2]<<8|e[t+1]<<16|e[t]<<24,c);for(;t<e.length;t++)l.push(e[t]);return i.slice(0,o).toString("ucs2")},s.prototype.end=function(){this.overflow.length=0},t.utf32=l,t.ucs4="utf32",l.prototype.encoder=c,l.prototype.decoder=u,c.prototype.write=function(e){return this.encoder.write(e)},c.prototype.end=function(){return this.encoder.end()},u.prototype.write=function(e){if(!this.decoder){if(this.initialBufs.push(e),this.initialBufsLen+=e.length,this.initialBufsLen<32)return"";var t=h(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);for(var n="",r=0;r<this.initialBufs.length;r++)n+=this.decoder.write(this.initialBufs[r]);return this.initialBufs.length=this.initialBufsLen=0,n}return this.decoder.write(e)},u.prototype.end=function(){if(!this.decoder){var e=h(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options);for(var t="",n=0;n<this.initialBufs.length;n++)t+=this.decoder.write(this.initialBufs[n]);var r=this.decoder.end();return r&&(t+=r),this.initialBufs.length=this.initialBufsLen=0,t}return this.decoder.end()}},63461:(e,t,n)=>{"use strict";var r=n(57009).Buffer;function i(e,t){this.iconv=t}t.utf7=i,t.unicode11utf7="utf7",i.prototype.encoder=s,i.prototype.decoder=a,i.prototype.bomAware=!0;var o=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function s(e,t){this.iconv=t.iconv}function a(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}s.prototype.write=function(e){return r.from(e.replace(o,(function(e){return"+"+("+"===e?"":this.iconv.encode(e,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}).bind(this)))},s.prototype.end=function(){};for(var l=/[A-Za-z0-9\/+]/,c=[],u=0;u<256;u++)c[u]=l.test(String.fromCharCode(u));function h(e,t){this.iconv=t}function d(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=r.alloc(6),this.base64AccumIdx=0}function f(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}a.prototype.write=function(e){for(var t="",n=0,i=this.inBase64,o=this.base64Accum,s=0;s<e.length;s++)if(i){if(!c[e[s]]){if(s==n&&45==e[s])t+="+";else{var a=o+this.iconv.decode(e.slice(n,s),"ascii");t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}45!=e[s]&&s--,n=s+1,i=!1,o=""}}else 43==e[s]&&(t+=this.iconv.decode(e.slice(n,s),"ascii"),n=s+1,i=!0);if(i){var a=o+this.iconv.decode(e.slice(n),"ascii"),l=a.length-a.length%8;o=a.slice(l),a=a.slice(0,l),t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(n),"ascii");return this.inBase64=i,this.base64Accum=o,t},a.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(r.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e},t.utf7imap=h,h.prototype.encoder=d,h.prototype.decoder=f,h.prototype.bomAware=!0,d.prototype.write=function(e){for(var t=this.inBase64,n=this.base64Accum,i=this.base64AccumIdx,o=r.alloc(5*e.length+10),s=0,a=0;a<e.length;a++){var l=e.charCodeAt(a);32<=l&&l<=126?(t&&(i>0&&(s+=o.write(n.slice(0,i).toString("base64").replace(/\//g,",").replace(/=+$/,""),s),i=0),o[s++]=45,t=!1),t||(o[s++]=l,38!==l||(o[s++]=45))):(t||(o[s++]=38,t=!0),t&&(n[i++]=l>>8,n[i++]=255&l,i==n.length&&(s+=o.write(n.toString("base64").replace(/\//g,","),s),i=0)))}return this.inBase64=t,this.base64AccumIdx=i,o.slice(0,s)},d.prototype.end=function(){var e=r.alloc(10),t=0;return this.inBase64&&(this.base64AccumIdx>0&&(t+=e.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),t),this.base64AccumIdx=0),e[t++]=45,this.inBase64=!1),e.slice(0,t)};var p=c.slice();p[",".charCodeAt(0)]=!0,f.prototype.write=function(e){for(var t="",n=0,i=this.inBase64,o=this.base64Accum,s=0;s<e.length;s++)if(i){if(!p[e[s]]){if(s==n&&45==e[s])t+="&";else{var a=o+this.iconv.decode(e.slice(n,s),"ascii").replace(/,/g,"/");t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}45!=e[s]&&s--,n=s+1,i=!1,o=""}}else 38==e[s]&&(t+=this.iconv.decode(e.slice(n,s),"ascii"),n=s+1,i=!0);if(i){var a=o+this.iconv.decode(e.slice(n),"ascii").replace(/,/g,"/"),l=a.length-a.length%8;o=a.slice(l),a=a.slice(0,l),t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(n),"ascii");return this.inBase64=i,this.base64Accum=o,t},f.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(r.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e}},94970:(e,t)=>{"use strict";function n(e,t){this.encoder=e,this.addBOM=!0}function r(e,t){this.decoder=e,this.pass=!1,this.options=t||{}}t.PrependBOM=n,n.prototype.write=function(e){return this.addBOM&&(e="\uFEFF"+e,this.addBOM=!1),this.encoder.write(e)},n.prototype.end=function(){return this.encoder.end()},t.StripBOM=r,r.prototype.write=function(e){var t=this.decoder.write(e);return this.pass||!t||("\uFEFF"===t[0]&&(t=t.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0),t},r.prototype.end=function(){return this.decoder.end()}},95813:(e,t,n)=>{"use strict";var r,i=n(57009).Buffer,o=n(94970),s=e.exports;s.encodings=null,s.defaultCharUnicode="",s.defaultCharSingleByte="?",s.encode=function(e,t,n){e=""+(e||"");var r=s.getEncoder(t,n),o=r.write(e),a=r.end();return a&&a.length>0?i.concat([o,a]):o},s.decode=function(e,t,n){"string"==typeof e&&(s.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),s.skipDecodeWarning=!0),e=i.from(""+(e||""),"binary"));var r=s.getDecoder(t,n),o=r.write(e),a=r.end();return a?o+a:o},s.encodingExists=function(e){try{return s.getCodec(e),!0}catch(e){return!1}},s.toEncoding=s.encode,s.fromEncoding=s.decode,s._codecDataCache={},s.getCodec=function(e){s.encodings||(s.encodings=n(55202));for(var t=s._canonicalizeEncoding(e),r={};;){var i=s._codecDataCache[t];if(i)return i;var o=s.encodings[t];switch(typeof o){case"string":t=o;break;case"object":for(var a in o)r[a]=o[a];r.encodingName||(r.encodingName=t),t=o.type;break;case"function":return r.encodingName||(r.encodingName=t),i=new o(r,s),s._codecDataCache[r.encodingName]=i,i;default:throw Error("Encoding not recognized: '"+e+"' (searched as: '"+t+"')")}}},s._canonicalizeEncoding=function(e){return(""+e).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},s.getEncoder=function(e,t){var n=s.getCodec(e),r=new n.encoder(t,n);return n.bomAware&&t&&t.addBOM&&(r=new o.PrependBOM(r,t)),r},s.getDecoder=function(e,t){var n=s.getCodec(e),r=new n.decoder(t,n);return n.bomAware&&!(t&&!1===t.stripBOM)&&(r=new o.StripBOM(r,t)),r},s.enableStreamingAPI=function(e){if(!s.supportsStreams){var t=n(71934)(e);s.IconvLiteEncoderStream=t.IconvLiteEncoderStream,s.IconvLiteDecoderStream=t.IconvLiteDecoderStream,s.encodeStream=function(e,t){return new s.IconvLiteEncoderStream(s.getEncoder(e,t),t)},s.decodeStream=function(e,t){return new s.IconvLiteDecoderStream(s.getDecoder(e,t),t)},s.supportsStreams=!0}};try{r=n(76162)}catch(e){}r&&r.Transform?s.enableStreamingAPI(r):s.encodeStream=s.decodeStream=function(){throw Error("iconv-lite Streaming API is not enabled. Use iconv.enableStreamingAPI(require('stream')); to enable it.")}},71934:(e,t,n)=>{"use strict";var r=n(57009).Buffer;e.exports=function(e){var t=e.Transform;function n(e,n){this.conv=e,(n=n||{}).decodeStrings=!1,t.call(this,n)}function i(e,n){this.conv=e,(n=n||{}).encoding=this.encoding="utf8",t.call(this,n)}return n.prototype=Object.create(t.prototype,{constructor:{value:n}}),n.prototype._transform=function(e,t,n){if("string"!=typeof e)return n(Error("Iconv encoding stream needs strings as its input."));try{var r=this.conv.write(e);r&&r.length&&this.push(r),n()}catch(e){n(e)}},n.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t),e()}catch(t){e(t)}},n.prototype.collect=function(e){var t=[];return this.on("error",e),this.on("data",function(e){t.push(e)}),this.on("end",function(){e(null,r.concat(t))}),this},i.prototype=Object.create(t.prototype,{constructor:{value:i}}),i.prototype._transform=function(e,t,n){if(!r.isBuffer(e)&&!(e instanceof Uint8Array))return n(Error("Iconv decoding stream needs buffers as its input."));try{var i=this.conv.write(e);i&&i.length&&this.push(i,this.encoding),n()}catch(e){n(e)}},i.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t,this.encoding),e()}catch(t){e(t)}},i.prototype.collect=function(e){var t="";return this.on("error",e),this.on("data",function(e){t+=e}),this.on("end",function(){e(null,t)}),this},{IconvLiteEncoderStream:n,IconvLiteDecoderStream:i}}},84874:(e,t,n)=>{try{var r=n(21764);if("function"!=typeof r.inherits)throw"";e.exports=r.inherits}catch(t){e.exports=n(17141)}},17141:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},81819:(e,t,n)=>{"use strict";var r=n(64995),i=n(49211)(),o=n(17445),s={assert:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new o("`O` is not an object");if("string"!=typeof t)throw new o("`slot` must be a string");if(i.assert(e),!s.has(e,t))throw new o("`"+t+"` is not present on `O`")},get:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new o("`O` is not an object");if("string"!=typeof t)throw new o("`slot` must be a string");var n=i.get(e);return n&&n["$"+t]},has:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new o("`O` is not an object");if("string"!=typeof t)throw new o("`slot` must be a string");var n=i.get(e);return!!n&&r(n,"$"+t)},set:function(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new o("`O` is not an object");if("string"!=typeof t)throw new o("`slot` must be a string");var r=i.get(e);r||(r={},i.set(e,r)),r["$"+t]=n}};Object.freeze&&Object.freeze(s),e.exports=s},8670:e=>{"use strict";var t,n,r=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},i(function(){throw 42},null,t)}catch(e){e!==n&&(i=null)}else i=null;var o=/^\s*class\b/,s=function(e){try{var t=r.call(e);return o.test(t)}catch(e){return!1}},a=function(e){try{if(s(e))return!1;return r.call(e),!0}catch(e){return!1}},l=Object.prototype.toString,c="function"==typeof Symbol&&!!Symbol.toStringTag,u=!(0 in[,]),h=function(){return!1};if("object"==typeof document){var d=document.all;l.call(d)===l.call(document.all)&&(h=function(e){if((u||!e)&&(void 0===e||"object"==typeof e))try{var t=l.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=i?function(e){if(h(e))return!0;if(!e||"function"!=typeof e&&"object"!=typeof e)return!1;try{i(e,null,t)}catch(e){if(e!==n)return!1}return!s(e)&&a(e)}:function(e){if(h(e))return!0;if(!e||"function"!=typeof e&&"object"!=typeof e)return!1;if(c)return a(e);if(s(e))return!1;var t=l.call(e);return!!("[object Function]"===t||"[object GeneratorFunction]"===t||/^\[object HTML/.test(t))&&a(e)}},89314:(e,t,n)=>{"use strict";let r;let i=n(92048);e.exports=()=>(void 0===r&&(r=function(){try{return i.statSync("/.dockerenv"),!0}catch(e){return!1}}()||function(){try{return i.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch(e){return!1}}()),r)},25257:(e,t,n)=>{"use strict";var r=n(98363),i=r("String.prototype.valueOf"),o=function(e){try{return i(e),!0}catch(e){return!1}},s=r("Object.prototype.toString"),a=n(23757)();e.exports=function(e){return"string"==typeof e||!!e&&"object"==typeof e&&(a?o(e):"[object String]"===s(e))}},80085:(e,t,n)=>{"use strict";let r=n(19801),i=n(92048),o=n(89314),s=()=>{if("linux"!==process.platform)return!1;if(r.release().toLowerCase().includes("microsoft"))return!o();try{return!!i.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")&&!o()}catch(e){return!1}};process.env.__IS_WSL_TEST__?e.exports=s:e.exports=s()},7303:(e,t,n)=>{var r;!function(){"use strict";var t="object"==typeof window?window:{},i=!t.JS_MD4_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;i&&(t=global);var o,s=!t.JS_MD4_NO_COMMON_JS&&e.exports,a=n.amdO,l=!t.JS_MD4_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,c="0123456789abcdef".split(""),u=[128,32768,8388608,-2147483648],h=[0,8,16,24],d=["hex","array","digest","buffer","arrayBuffer"],f=[];if(l){var p=new ArrayBuffer(68);o=new Uint8Array(p),f=new Uint32Array(p)}var m=function(e){return function(t){return new y(!0).update(t)[e]()}},g=function(e){var t=n(84770),r=n(78893).Buffer;return function(n){if("string"==typeof n)return t.createHash("md4").update(n,"utf8").digest("hex");if(l&&n instanceof ArrayBuffer)n=new Uint8Array(n);else if(void 0===n.length)return e(n);return t.createHash("md4").update(new r(n)).digest("hex")}};function y(e){if(e)f[0]=f[16]=f[1]=f[2]=f[3]=f[4]=f[5]=f[6]=f[7]=f[8]=f[9]=f[10]=f[11]=f[12]=f[13]=f[14]=f[15]=0,this.blocks=f,this.buffer8=o;else if(l){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t),this.blocks=new Uint32Array(t)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=0,this.finalized=this.hashed=!1,this.first=!0}y.prototype.update=function(e){if(!this.finalized){var t="string"!=typeof e;t&&l&&e instanceof ArrayBuffer&&(e=new Uint8Array(e));for(var n,r,i=0,o=e.length||0,s=this.blocks,a=this.buffer8;i<o;){if(this.hashed&&(this.hashed=!1,s[0]=s[16],s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),t){if(l)for(r=this.start;i<o&&r<64;++i)a[r++]=e[i];else for(r=this.start;i<o&&r<64;++i)s[r>>2]|=e[i]<<h[3&r++]}else if(l)for(r=this.start;i<o&&r<64;++i)(n=e.charCodeAt(i))<128?a[r++]=n:(n<2048?a[r++]=192|n>>6:(n<55296||n>=57344?a[r++]=224|n>>12:(n=65536+((1023&n)<<10|1023&e.charCodeAt(++i)),a[r++]=240|n>>18,a[r++]=128|n>>12&63),a[r++]=128|n>>6&63),a[r++]=128|63&n);else for(r=this.start;i<o&&r<64;++i)(n=e.charCodeAt(i))<128?s[r>>2]|=n<<h[3&r++]:(n<2048?s[r>>2]|=(192|n>>6)<<h[3&r++]:(n<55296||n>=57344?s[r>>2]|=(224|n>>12)<<h[3&r++]:(n=65536+((1023&n)<<10|1023&e.charCodeAt(++i)),s[r>>2]|=(240|n>>18)<<h[3&r++],s[r>>2]|=(128|n>>12&63)<<h[3&r++]),s[r>>2]|=(128|n>>6&63)<<h[3&r++]),s[r>>2]|=(128|63&n)<<h[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=64?(this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return this}},y.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[t>>2]|=u[3&t],t>=56&&(this.hashed||this.hash(),e[0]=e[16],e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.bytes<<3,this.hash()}},y.prototype.hash=function(){var e,t,n,r,i,o,s,a,l=this.blocks;this.first?t=(t=((n=(n=((r=(r=(4023233417&(e=(e=l[0]-1)<<3|e>>>29)|2562383102&~e)+l[1]+271733878)<<7|r>>>25)&e|4023233417&~r)+l[2]-1732584194)<<11|n>>>21)&r|~n&e)+l[3]-271733879)<<19|t>>>13:(e=this.h0,e+=((t=this.h1)&(n=this.h2)|~t&(r=this.h3))+l[0],r+=((e=e<<3|e>>>29)&t|~e&n)+l[1],n+=((r=r<<7|r>>>25)&e|~r&t)+l[2],t+=((n=n<<11|n>>>21)&r|~n&e)+l[3],t=t<<19|t>>>13),e+=(t&n|~t&r)+l[4],r+=((e=e<<3|e>>>29)&t|~e&n)+l[5],n+=((r=r<<7|r>>>25)&e|~r&t)+l[6],t+=((n=n<<11|n>>>21)&r|~n&e)+l[7],e+=((t=t<<19|t>>>13)&n|~t&r)+l[8],r+=((e=e<<3|e>>>29)&t|~e&n)+l[9],n+=((r=r<<7|r>>>25)&e|~r&t)+l[10],t+=((n=n<<11|n>>>21)&r|~n&e)+l[11],e+=((t=t<<19|t>>>13)&n|~t&r)+l[12],r+=((e=e<<3|e>>>29)&t|~e&n)+l[13],n+=((r=r<<7|r>>>25)&e|~r&t)+l[14],t+=((n=n<<11|n>>>21)&r|~n&e)+l[15],e+=((o=(t=t<<19|t>>>13)&n)|t&r|n&r)+l[0]+1518500249,r+=((i=(e=e<<3|e>>>29)&t)|e&n|o)+l[4]+1518500249,n+=((a=(r=r<<5|r>>>27)&e)|r&t|i)+l[8]+1518500249,t+=((s=(n=n<<9|n>>>23)&r)|n&e|a)+l[12]+1518500249,e+=((o=(t=t<<13|t>>>19)&n)|t&r|s)+l[1]+1518500249,r+=((i=(e=e<<3|e>>>29)&t)|e&n|o)+l[5]+1518500249,n+=((a=(r=r<<5|r>>>27)&e)|r&t|i)+l[9]+1518500249,t+=((s=(n=n<<9|n>>>23)&r)|n&e|a)+l[13]+1518500249,e+=((o=(t=t<<13|t>>>19)&n)|t&r|s)+l[2]+1518500249,r+=((i=(e=e<<3|e>>>29)&t)|e&n|o)+l[6]+1518500249,n+=((a=(r=r<<5|r>>>27)&e)|r&t|i)+l[10]+1518500249,t+=((s=(n=n<<9|n>>>23)&r)|n&e|a)+l[14]+1518500249,e+=((o=(t=t<<13|t>>>19)&n)|t&r|s)+l[3]+1518500249,r+=((i=(e=e<<3|e>>>29)&t)|e&n|o)+l[7]+1518500249,n+=((a=(r=r<<5|r>>>27)&e)|r&t|i)+l[11]+1518500249,t+=((n=n<<9|n>>>23)&r|n&e|a)+l[15]+1518500249,e+=((o=(t=t<<13|t>>>19)^n)^r)+l[0]+1859775393,r+=(o^(e=e<<3|e>>>29))+l[8]+1859775393,n+=((a=(r=r<<9|r>>>23)^e)^t)+l[4]+1859775393,t+=(a^(n=n<<11|n>>>21))+l[12]+1859775393,e+=((o=(t=t<<15|t>>>17)^n)^r)+l[2]+1859775393,r+=(o^(e=e<<3|e>>>29))+l[10]+1859775393,n+=((a=(r=r<<9|r>>>23)^e)^t)+l[6]+1859775393,t+=(a^(n=n<<11|n>>>21))+l[14]+1859775393,e+=((o=(t=t<<15|t>>>17)^n)^r)+l[1]+1859775393,r+=(o^(e=e<<3|e>>>29))+l[9]+1859775393,n+=((a=(r=r<<9|r>>>23)^e)^t)+l[5]+1859775393,t+=(a^(n=n<<11|n>>>21))+l[13]+1859775393,e+=((o=(t=t<<15|t>>>17)^n)^r)+l[3]+1859775393,r+=(o^(e=e<<3|e>>>29))+l[11]+1859775393,n+=((a=(r=r<<9|r>>>23)^e)^t)+l[7]+1859775393,t+=(a^(n=n<<11|n>>>21))+l[15]+1859775393,t=t<<15|t>>>17,this.first?(this.h0=e+1732584193<<0,this.h1=t-271733879<<0,this.h2=n-1732584194<<0,this.h3=r+271733878<<0,this.first=!1):(this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0)},y.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3;return c[e>>4&15]+c[15&e]+c[e>>12&15]+c[e>>8&15]+c[e>>20&15]+c[e>>16&15]+c[e>>28&15]+c[e>>24&15]+c[t>>4&15]+c[15&t]+c[t>>12&15]+c[t>>8&15]+c[t>>20&15]+c[t>>16&15]+c[t>>28&15]+c[t>>24&15]+c[n>>4&15]+c[15&n]+c[n>>12&15]+c[n>>8&15]+c[n>>20&15]+c[n>>16&15]+c[n>>28&15]+c[n>>24&15]+c[r>>4&15]+c[15&r]+c[r>>12&15]+c[r>>8&15]+c[r>>20&15]+c[r>>16&15]+c[r>>28&15]+c[r>>24&15]},y.prototype.toString=y.prototype.hex,y.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3;return[255&e,e>>8&255,e>>16&255,e>>24&255,255&t,t>>8&255,t>>16&255,t>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,255&r,r>>8&255,r>>16&255,r>>24&255]},y.prototype.array=y.prototype.digest,y.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(16),t=new Uint32Array(e);return t[0]=this.h0,t[1]=this.h1,t[2]=this.h2,t[3]=this.h3,e},y.prototype.buffer=y.prototype.arrayBuffer;var _=function(){var e=m("hex");i&&(e=g(e)),e.create=function(){return new y},e.update=function(t){return e.create().update(t)};for(var t=0;t<d.length;++t){var n=d[t];e[n]=m(n)}return e}();s?e.exports=_:(t.md4=_,a&&void 0!==(r=(function(){return _}).call(_,n,_,e))&&(e.exports=r))}()},42857:(e,t,n)=>{var r=n(87126);e.exports=function(e,t){t=t||{};var n=r.decode(e,t);if(!n)return null;var i=n.payload;if("string"==typeof i)try{var o=JSON.parse(i);null!==o&&"object"==typeof o&&(i=o)}catch(e){}return!0===t.complete?{header:n.header,payload:i,signature:n.signature}:i}},41482:(e,t,n)=>{e.exports={decode:n(42857),verify:n(88061),sign:n(73601),JsonWebTokenError:n(453),NotBeforeError:n(37565),TokenExpiredError:n(32658)}},453:e=>{var t=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,e.exports=t},37565:(e,t,n)=>{var r=n(453),i=function(e,t){r.call(this,e),this.name="NotBeforeError",this.date=t};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,e.exports=i},32658:(e,t,n)=>{var r=n(453),i=function(e,t){r.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,e.exports=i},91440:(e,t,n)=>{let r=n(90799);e.exports=r.satisfies(process.version,">=15.7.0")},33051:(e,t,n)=>{var r=n(90799);e.exports=r.satisfies(process.version,"^6.12.0 || >=8.0.0")},41790:(e,t,n)=>{let r=n(90799);e.exports=r.satisfies(process.version,">=16.9.0")},73258:(e,t,n)=>{var r=n(13974);e.exports=function(e,t){var n=t||Math.floor(Date.now()/1e3);if("string"==typeof e){var i=r(e);if(void 0===i)return;return Math.floor(n+i/1e3)}if("number"==typeof e)return n+e}},59279:(e,t,n)=>{let r=n(91440),i=n(41790),o={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},s={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};e.exports=function(e,t){if(!e||!t)return;let n=t.asymmetricKeyType;if(!n)return;let a=o[n];if(!a)throw Error(`Unknown key type "${n}".`);if(!a.includes(e))throw Error(`"alg" parameter for "${n}" key type must be one of: ${a.join(", ")}.`);if(r)switch(n){case"ec":let l=t.asymmetricKeyDetails.namedCurve,c=s[e];if(l!==c)throw Error(`"alg" parameter "${e}" requires curve "${c}".`);break;case"rsa-pss":if(i){let n=parseInt(e.slice(-3),10),{hashAlgorithm:r,mgf1HashAlgorithm:i,saltLength:o}=t.asymmetricKeyDetails;if(r!==`sha${n}`||i!==r)throw Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`);if(void 0!==o&&o>n>>3)throw Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}}}},91853:(e,t,n)=>{var r,i=n(18243).Buffer,o=n(84770),s=n(97145),a=n(21764),l="secret must be a string or buffer",c="key must be a string or a buffer",u="function"==typeof o.createPublicKey;function h(e){if(!i.isBuffer(e)&&"string"!=typeof e&&(!u||"object"!=typeof e||"string"!=typeof e.type||"string"!=typeof e.asymmetricKeyType||"function"!=typeof e.export))throw m(c)}function d(e){if(!i.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw m("key must be a string, a buffer or an object")}function f(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function p(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var n=0;n<t;++n)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function m(e){var t=[].slice.call(arguments,1);return TypeError(a.format.bind(a,e).apply(null,t))}function g(e){var t;return t=e,i.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function y(e){return function(t,n){(function(e){if(!i.isBuffer(e)&&"string"!=typeof e&&(!u||"object"!=typeof e||"secret"!==e.type||"function"!=typeof e.export))throw m(l)})(n),t=g(t);var r=o.createHmac("sha"+e,n);return f((r.update(t),r.digest("base64")))}}u&&(c+=" or a KeyObject",l+="or a KeyObject");var _="timingSafeEqual"in o?function(e,t){return e.byteLength===t.byteLength&&o.timingSafeEqual(e,t)}:function(e,t){return r||(r=n(89121)),r(e,t)};function E(e){return function(t,n,r){var o=y(e)(t,r);return _(i.from(n),i.from(o))}}function T(e){return function(t,n){d(n),t=g(t);var r=o.createSign("RSA-SHA"+e);return f((r.update(t),r.sign(n,"base64")))}}function w(e){return function(t,n,r){h(r),t=g(t),n=p(n);var i=o.createVerify("RSA-SHA"+e);return i.update(t),i.verify(r,n,"base64")}}function b(e){return function(t,n){d(n),t=g(t);var r=o.createSign("RSA-SHA"+e);return f((r.update(t),r.sign({key:n,padding:o.constants.RSA_PKCS1_PSS_PADDING,saltLength:o.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function v(e){return function(t,n,r){h(r),t=g(t),n=p(n);var i=o.createVerify("RSA-SHA"+e);return i.update(t),i.verify({key:r,padding:o.constants.RSA_PKCS1_PSS_PADDING,saltLength:o.constants.RSA_PSS_SALTLEN_DIGEST},n,"base64")}}function S(e){var t=T(e);return function(){var n=t.apply(null,arguments);return s.derToJose(n,"ES"+e)}}function A(e){var t=w(e);return function(n,r,i){return t(n,r=s.joseToDer(r,"ES"+e).toString("base64"),i)}}function I(){return function(){return""}}function C(){return function(e,t){return""===t}}e.exports=function(e){var t=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!t)throw m('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var n=(t[1]||t[3]).toLowerCase(),r=t[2];return{sign:({hs:y,rs:T,ps:b,es:S,none:I})[n](r),verify:({hs:E,rs:w,ps:v,es:A,none:C})[n](r)}}},87126:(e,t,n)=>{var r=n(26993),i=n(21642);t.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign=r.sign,t.verify=i.verify,t.decode=i.decode,t.isValid=i.isValid,t.createSign=function(e){return new r(e)},t.createVerify=function(e){return new i(e)}},83853:(e,t,n)=>{var r=n(18243).Buffer,i=n(76162);function o(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=r.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=r.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,process.nextTick((function(){this.emit("end",e),this.readable=!1,this.emit("close")}).bind(this)),this;throw TypeError("Unexpected data type ("+typeof e+")")}n(21764).inherits(o,i),o.prototype.write=function(e){this.buffer=r.concat([this.buffer,r.from(e)]),this.emit("data",e)},o.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},e.exports=o},26993:(e,t,n)=>{var r=n(18243).Buffer,i=n(83853),o=n(91853),s=n(76162),a=n(42164),l=n(21764);function c(e,t){return r.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(e){var t,n,r,i=e.header,s=e.payload,u=e.secret||e.privateKey,h=e.encoding,d=o(i.alg),f=(t=(t=h)||"utf8",n=c(a(i),"binary"),r=c(a(s),t),l.format("%s.%s",n,r)),p=d.sign(f,u);return l.format("%s.%s",f,p)}function h(e){var t=new i(e.secret||e.privateKey||e.key);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=t,this.payload=new i(e.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}l.inherits(h,s),h.prototype.sign=function(){try{var e=u({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},h.sign=u,e.exports=h},42164:(e,t,n)=>{var r=n(78893).Buffer;e.exports=function(e){return"string"==typeof e?e:"number"==typeof e||r.isBuffer(e)?e.toString():JSON.stringify(e)}},21642:(e,t,n)=>{var r=n(18243).Buffer,i=n(83853),o=n(91853),s=n(76162),a=n(42164),l=n(21764),c=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function u(e){var t=e.split(".",1)[0];return function(e){if("[object Object]"===Object.prototype.toString.call(e))return e;try{return JSON.parse(e)}catch(e){return}}(r.from(t,"base64").toString("binary"))}function h(e){return e.split(".")[2]}function d(e){return c.test(e)&&!!u(e)}function f(e,t,n){if(!t){var r=Error("Missing algorithm parameter for jws.verify");throw r.code="MISSING_ALGORITHM",r}var i=h(e=a(e)),s=e.split(".",2).join(".");return o(t).verify(s,i,n)}function p(e,t){if(t=t||{},!d(e=a(e)))return null;var n,i,o=u(e);if(!o)return null;var s=(n=n||"utf8",i=e.split(".")[1],r.from(i,"base64").toString(n));return("JWT"===o.typ||t.json)&&(s=JSON.parse(s,t.encoding)),{header:o,payload:s,signature:h(e)}}function m(e){var t=new i((e=e||{}).secret||e.publicKey||e.key);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=t,this.signature=new i(e.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}l.inherits(m,s),m.prototype.verify=function(){try{var e=f(this.signature.buffer,this.algorithm,this.key.buffer),t=p(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},m.decode=p,m.isValid=d,m.verify=f,e.exports=m},73601:(e,t,n)=>{let r=n(73258),i=n(33051),o=n(59279),s=n(87126),a=n(22086),l=n(21724),c=n(54591),u=n(59366),h=n(29080),d=n(71380),f=n(32144),{KeyObject:p,createSecretKey:m,createPrivateKey:g}=n(84770),y=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];i&&y.splice(3,0,"PS256","PS384","PS512");let _={expiresIn:{isValid:function(e){return c(e)||d(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return c(e)||d(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return d(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:a.bind(null,y),message:'"algorithm" must be a valid string enum value'},header:{isValid:h,message:'"header" must be an object'},encoding:{isValid:d,message:'"encoding" must be a string'},issuer:{isValid:d,message:'"issuer" must be a string'},subject:{isValid:d,message:'"subject" must be a string'},jwtid:{isValid:d,message:'"jwtid" must be a string'},noTimestamp:{isValid:l,message:'"noTimestamp" must be a boolean'},keyid:{isValid:d,message:'"keyid" must be a string'},mutatePayload:{isValid:l,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:l,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:l,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},E={iat:{isValid:u,message:'"iat" should be a number of seconds'},exp:{isValid:u,message:'"exp" should be a number of seconds'},nbf:{isValid:u,message:'"nbf" should be a number of seconds'}};function T(e,t,n,r){if(!h(n))throw Error('Expected "'+r+'" to be a plain object.');Object.keys(n).forEach(function(i){let o=e[i];if(!o){if(!t)throw Error('"'+i+'" is not allowed in "'+r+'"');return}if(!o.isValid(n[i]))throw Error(o.message)})}let w={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},b=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];e.exports=function(e,t,n,i){var a,l;"function"==typeof n?(i=n,n={}):n=n||{};let c="object"==typeof e&&!Buffer.isBuffer(e),u=Object.assign({alg:n.algorithm||"HS256",typ:c?"JWT":void 0,kid:n.keyid},n.header);function h(e){if(i)return i(e);throw e}if(!t&&"none"!==n.algorithm)return h(Error("secretOrPrivateKey must have a value"));if(null!=t&&!(t instanceof p))try{t=g(t)}catch(e){try{t=m("string"==typeof t?Buffer.from(t):t)}catch(e){return h(Error("secretOrPrivateKey is not valid key material"))}}if(u.alg.startsWith("HS")&&"secret"!==t.type)return h(Error(`secretOrPrivateKey must be a symmetric key when using ${u.alg}`));if(/^(?:RS|PS|ES)/.test(u.alg)){if("private"!==t.type)return h(Error(`secretOrPrivateKey must be an asymmetric key when using ${u.alg}`));if(!n.allowInsecureKeySizes&&!u.alg.startsWith("ES")&&void 0!==t.asymmetricKeyDetails&&t.asymmetricKeyDetails.modulusLength<2048)return h(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`))}if(void 0===e)return h(Error("payload is required"));if(c){try{a=e,T(E,!0,a,"payload")}catch(e){return h(e)}n.mutatePayload||(e=Object.assign({},e))}else{let t=b.filter(function(e){return void 0!==n[e]});if(t.length>0)return h(Error("invalid "+t.join(",")+" option for "+typeof e+" payload"))}if(void 0!==e.exp&&void 0!==n.expiresIn)return h(Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==e.nbf&&void 0!==n.notBefore)return h(Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{l=n,T(_,!1,l,"options")}catch(e){return h(e)}if(!n.allowInvalidAsymmetricKeyTypes)try{o(u.alg,t)}catch(e){return h(e)}let d=e.iat||Math.floor(Date.now()/1e3);if(n.noTimestamp?delete e.iat:c&&(e.iat=d),void 0!==n.notBefore){try{e.nbf=r(n.notBefore,d)}catch(e){return h(e)}if(void 0===e.nbf)return h(Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==n.expiresIn&&"object"==typeof e){try{e.exp=r(n.expiresIn,d)}catch(e){return h(e)}if(void 0===e.exp)return h(Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(w).forEach(function(t){let r=w[t];if(void 0!==n[t]){if(void 0!==e[r])return h(Error('Bad "options.'+t+'" option. The payload already has an "'+r+'" property.'));e[r]=n[t]}});let y=n.encoding||"utf8";if("function"==typeof i)i=i&&f(i),s.createSign({header:u,privateKey:t,payload:e,encoding:y}).once("error",i).once("done",function(e){if(!n.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&e.length<256)return i(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`));i(null,e)});else{let r=s.sign({header:u,payload:e,secret:t,encoding:y});if(!n.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&r.length<256)throw Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`);return r}}},88061:(e,t,n)=>{let r=n(453),i=n(37565),o=n(32658),s=n(42857),a=n(73258),l=n(59279),c=n(33051),u=n(87126),{KeyObject:h,createSecretKey:d,createPublicKey:f}=n(84770),p=["RS256","RS384","RS512"],m=["ES256","ES384","ES512"],g=["RS256","RS384","RS512"],y=["HS256","HS384","HS512"];c&&(p.splice(p.length,0,"PS256","PS384","PS512"),g.splice(g.length,0,"PS256","PS384","PS512")),e.exports=function(e,t,n,c){let _,E,T;if("function"!=typeof n||c||(c=n,n={}),n||(n={}),n=Object.assign({},n),_=c||function(e,t){if(e)throw e;return t},n.clockTimestamp&&"number"!=typeof n.clockTimestamp)return _(new r("clockTimestamp must be a number"));if(void 0!==n.nonce&&("string"!=typeof n.nonce||""===n.nonce.trim()))return _(new r("nonce must be a non-empty string"));if(void 0!==n.allowInvalidAsymmetricKeyTypes&&"boolean"!=typeof n.allowInvalidAsymmetricKeyTypes)return _(new r("allowInvalidAsymmetricKeyTypes must be a boolean"));let w=n.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return _(new r("jwt must be provided"));if("string"!=typeof e)return _(new r("jwt must be a string"));let b=e.split(".");if(3!==b.length)return _(new r("jwt malformed"));try{E=s(e,{complete:!0})}catch(e){return _(e)}if(!E)return _(new r("invalid token"));let v=E.header;if("function"==typeof t){if(!c)return _(new r("verify must be called asynchronous if secret or public key is provided as a callback"));T=t}else T=function(e,n){return n(null,t)};return T(v,function(t,s){let c;if(t)return _(new r("error in secret or public key callback: "+t.message));let T=""!==b[2].trim();if(!T&&s)return _(new r("jwt signature is required"));if(T&&!s)return _(new r("secret or public key must be provided"));if(!T&&!n.algorithms)return _(new r('please specify "none" in "algorithms" to verify unsigned tokens'));if(null!=s&&!(s instanceof h))try{s=f(s)}catch(e){try{s=d("string"==typeof s?Buffer.from(s):s)}catch(e){return _(new r("secretOrPublicKey is not valid key material"))}}if(n.algorithms||("secret"===s.type?n.algorithms=y:["rsa","rsa-pss"].includes(s.asymmetricKeyType)?n.algorithms=g:"ec"===s.asymmetricKeyType?n.algorithms=m:n.algorithms=p),-1===n.algorithms.indexOf(E.header.alg))return _(new r("invalid algorithm"));if(v.alg.startsWith("HS")&&"secret"!==s.type)return _(new r(`secretOrPublicKey must be a symmetric key when using ${v.alg}`));if(/^(?:RS|PS|ES)/.test(v.alg)&&"public"!==s.type)return _(new r(`secretOrPublicKey must be an asymmetric key when using ${v.alg}`));if(!n.allowInvalidAsymmetricKeyTypes)try{l(v.alg,s)}catch(e){return _(e)}try{c=u.verify(e,E.header.alg,s)}catch(e){return _(e)}if(!c)return _(new r("invalid signature"));let S=E.payload;if(void 0!==S.nbf&&!n.ignoreNotBefore){if("number"!=typeof S.nbf)return _(new r("invalid nbf value"));if(S.nbf>w+(n.clockTolerance||0))return _(new i("jwt not active",new Date(1e3*S.nbf)))}if(void 0!==S.exp&&!n.ignoreExpiration){if("number"!=typeof S.exp)return _(new r("invalid exp value"));if(w>=S.exp+(n.clockTolerance||0))return _(new o("jwt expired",new Date(1e3*S.exp)))}if(n.audience){let e=Array.isArray(n.audience)?n.audience:[n.audience];if(!(Array.isArray(S.aud)?S.aud:[S.aud]).some(function(t){return e.some(function(e){return e instanceof RegExp?e.test(t):e===t})}))return _(new r("jwt audience invalid. expected: "+e.join(" or ")))}if(n.issuer&&("string"==typeof n.issuer&&S.iss!==n.issuer||Array.isArray(n.issuer)&&-1===n.issuer.indexOf(S.iss)))return _(new r("jwt issuer invalid. expected: "+n.issuer));if(n.subject&&S.sub!==n.subject)return _(new r("jwt subject invalid. expected: "+n.subject));if(n.jwtid&&S.jti!==n.jwtid)return _(new r("jwt jwtid invalid. expected: "+n.jwtid));if(n.nonce&&S.nonce!==n.nonce)return _(new r("jwt nonce invalid. expected: "+n.nonce));if(n.maxAge){if("number"!=typeof S.iat)return _(new r("iat required when maxAge is specified"));let e=a(n.maxAge,S.iat);if(void 0===e)return _(new r('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(w>=e+(n.clockTolerance||0))return _(new o("maxAge exceeded",new Date(1e3*e)))}return!0===n.complete?_(null,{header:v,payload:S,signature:E.signature}):_(null,S)})}},22086:e=>{var t,n,r=1/0,i=0/0,o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=/^(?:0|[1-9]\d*)$/,u=parseInt;function h(e){return e!=e}var d=Object.prototype,f=d.hasOwnProperty,p=d.toString,m=d.propertyIsEnumerable,g=(t=Object.keys,n=Object,function(e){return t(n(e))}),y=Math.max,_=Array.isArray;function E(e){var t,n;return null!=e&&"number"==typeof(t=e.length)&&t>-1&&t%1==0&&t<=9007199254740991&&!("[object Function]"==(n=T(e)?p.call(e):"")||"[object GeneratorFunction]"==n)}function T(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function w(e){return!!e&&"object"==typeof e}e.exports=function(e,t,n,b){e=E(e)?e:(v=e)?function(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(E(v)?function(e,t){var n,r=_(e)||w(e)&&E(e)&&f.call(e,"callee")&&(!m.call(e,"callee")||"[object Arguments]"==p.call(e))?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],i=r.length,o=!!i;for(var s in e)f.call(e,s)&&!(o&&("length"==s||(n=null==(n=i)?9007199254740991:n)&&("number"==typeof s||c.test(s))&&s>-1&&s%1==0&&s<n))&&r.push(s);return r}(v):function(e){if(t=e&&e.constructor,e!==("function"==typeof t&&t.prototype||d))return g(e);var t,n=[];for(var r in Object(e))f.call(e,r)&&"constructor"!=r&&n.push(r);return n}(v),function(e){return v[e]}):[],n=n&&!b?(I=(A=(S=n)?(S=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||w(t)&&"[object Symbol]"==p.call(t))return i;if(T(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=T(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var r=a.test(e);return r||l.test(e)?u(e.slice(2),r?2:8):s.test(e)?i:+e}(S))===r||S===-r?(S<0?-1:1)*17976931348623157e292:S==S?S:0:0===S?S:0)%1,A==A?I?A-I:A:0):0;var v,S,A,I,C,O=e.length;return n<0&&(n=y(O+n,0)),"string"==typeof(C=e)||!_(C)&&w(C)&&"[object String]"==p.call(C)?n<=O&&e.indexOf(t,n)>-1:!!O&&function(e,t,n){if(t!=t)return function(e,t,n,r){for(var i=e.length,o=n+-1;++o<i;)if(t(e[o],o,e))return o;return -1}(e,h,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return -1}(e,t,n)>-1}},21724:e=>{var t=Object.prototype.toString;e.exports=function(e){return!0===e||!1===e||!!e&&"object"==typeof e&&"[object Boolean]"==t.call(e)}},54591:e=>{var t=1/0,n=0/0,r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){var u,h,d;return"number"==typeof e&&e==(d=(h=(u=e)?(u=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==l.call(t))return n;if(c(e)){var t,u="function"==typeof e.valueOf?e.valueOf():e;e=c(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var h=o.test(e);return h||s.test(e)?a(e.slice(2),h?2:8):i.test(e)?n:+e}(u))===t||u===-t?(u<0?-1:1)*17976931348623157e292:u==u?u:0:0===u?u:0)%1,h==h?d?h-d:h:0)}},59366:e=>{var t=Object.prototype.toString;e.exports=function(e){return"number"==typeof e||!!e&&"object"==typeof e&&"[object Number]"==t.call(e)}},29080:e=>{var t,n,r=Object.prototype,i=Function.prototype.toString,o=r.hasOwnProperty,s=i.call(Object),a=r.toString,l=(t=Object.getPrototypeOf,n=Object,function(e){return t(n(e))});e.exports=function(e){if(!(e&&"object"==typeof e)||"[object Object]"!=a.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=l(e);if(null===t)return!0;var n=o.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&i.call(n)==s}},71380:e=>{var t=Object.prototype.toString,n=Array.isArray;e.exports=function(e){var r;return"string"==typeof e||!n(e)&&!!(r=e)&&"object"==typeof r&&"[object String]"==t.call(e)}},32144:e=>{var t=1/0,n=0/0,r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return function(e,u){var h,d,f,p;if("function"!=typeof u)throw TypeError("Expected a function");return p=(f=(d=e)?(d=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==l.call(t))return n;if(c(e)){var t,u="function"==typeof e.valueOf?e.valueOf():e;e=c(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var h=o.test(e);return h||s.test(e)?a(e.slice(2),h?2:8):i.test(e)?n:+e}(d))===t||d===-t?(d<0?-1:1)*17976931348623157e292:d==d?d:0:0===d?d:0)%1,e=f==f?p?f-p:f:0,function(){return--e>0&&(h=u.apply(this,arguments)),e<=1&&(u=void 0),h}}(2,e)}},68551:e=>{"use strict";e.exports=Number.MAX_SAFE_INTEGER||9007199254740991},8252:(e,t,n)=>{"use strict";var r=n(61781);e.exports=function(e){return("number"==typeof e||"bigint"==typeof e)&&!r(e)&&e!==1/0&&e!==-1/0}},21069:(e,t,n)=>{"use strict";var r=n(95175),i=n(22334),o=n(61781),s=n(8252);e.exports=function(e){if("number"!=typeof e||o(e)||!s(e))return!1;var t=r(e);return i(t)===t}},34568:(e,t,n)=>{"use strict";let r=n(76162).Duplex,i=Symbol("Callback"),o=Symbol("Other");class s extends r{constructor(e){super(e),this[i]=null,this[o]=null}_read(){let e=this[i];e&&(this[i]=null,e())}_write(e,t,n){this[o][i]=n,this[o].push(e)}_final(e){this[o].on("end",e),this[o].push(null)}}class a{constructor(e){this.socket1=new s(e),this.socket2=new s(e),this.socket1[o]=this.socket2,this.socket2[o]=this.socket1}}e.exports=a},46180:(e,t,n)=>{let{EventEmitter:r}=n(17702);class AbortSignal{constructor(){this.eventEmitter=new r,this.onabort=null,this.aborted=!1,this.reason=void 0}toString(){return"[object AbortSignal]"}get[Symbol.toStringTag](){return"AbortSignal"}removeEventListener(e,t){this.eventEmitter.removeListener(e,t)}addEventListener(e,t){this.eventEmitter.on(e,t)}dispatchEvent(e){let t={type:e,target:this},n=`on${e}`;"function"==typeof this[n]&&this[n](t),this.eventEmitter.emit(e,t)}throwIfAborted(){if(this.aborted)throw this.reason}static abort(e){let t=new i;return t.abort(),t.signal}static timeout(e){let t=new i;return setTimeout(()=>t.abort(Error("TimeoutError")),e),t.signal}}class i{constructor(){this.signal=new AbortSignal}abort(e){this.signal.aborted||(this.signal.aborted=!0,e?this.signal.reason=e:this.signal.reason=Error("AbortError"),this.signal.dispatchEvent("abort"))}toString(){return"[object AbortController]"}get[Symbol.toStringTag](){return"AbortController"}}e.exports={AbortController:i,AbortSignal}},29900:(e,t,n)=>{"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=n(90264),a=Object.prototype.propertyIsEnumerable,l=!a.call({toString:null},"toString"),c=a.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{h(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),p=function(e){if("undefined"==typeof window||!f)return h(e);try{return h(e)}catch(e){return!1}};r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===o.call(e),r=s(e),a=t&&"[object String]"===o.call(e),h=[];if(!t&&!n&&!r)throw TypeError("Object.keys called on a non-object");var d=c&&n;if(a&&e.length>0&&!i.call(e,0))for(var f=0;f<e.length;++f)h.push(String(f));if(r&&e.length>0)for(var m=0;m<e.length;++m)h.push(String(m));else for(var g in e)!(d&&"prototype"===g)&&i.call(e,g)&&h.push(String(g));if(l)for(var y=p(e),_=0;_<u.length;++_)!(y&&"constructor"===u[_])&&i.call(e,u[_])&&h.push(u[_]);return h}}e.exports=r},73132:(e,t,n)=>{"use strict";var r=Array.prototype.slice,i=n(90264),o=Object.keys,s=o?function(e){return o(e)}:n(29900),a=Object.keys;s.shim=function(){return Object.keys?!function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)&&(Object.keys=function(e){return i(e)?a(r.call(e)):a(e)}):Object.keys=s,Object.keys||s},e.exports=s},90264:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r}},21437:(e,t,n)=>{let r;let i=n(55315),o=n(61282),{promises:s,constants:a}=n(92048),l=n(80085),c=n(89314),u=n(92509),h=i.join(__dirname,"xdg-open"),{platform:d,arch:f}=process,p=()=>{try{return s.statSync("/run/.containerenv"),!0}catch{return!1}},m=(()=>{let e;let t="/mnt/";return async function(){if(e)return e;let n="/etc/wsl.conf",r=!1;try{await s.access(n,a.F_OK),r=!0}catch{}if(!r)return t;let i=await s.readFile(n,{encoding:"utf8"}),o=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(i);return o?e=(e=o.groups.mountPoint.trim()).endsWith("/")?e:`${e}/`:t}})(),g=async(e,t)=>{let n;for(let r of e)try{return await t(r)}catch(e){n=e}throw n},y=async e=>{let t;if(Array.isArray((e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e}).app))return g(e.app,t=>y({...e,app:t}));let{name:n,arguments:i=[]}=e.app||{};if(i=[...i],Array.isArray(n))return g(n,t=>y({...e,app:{name:t,arguments:i}}));let u=[],f={};if("darwin"===d)t="open",e.wait&&u.push("--wait-apps"),e.background&&u.push("--background"),e.newInstance&&u.push("--new"),n&&u.push("-a",n);else if("win32"!==d&&(!l||(void 0===r&&(r=p()||c()),r)||n)){if(n)t=n;else{let e="/"===__dirname,n=!1;try{await s.access(h,a.X_OK),n=!0}catch{}t=process.versions.electron||"android"===d||e||!n?"xdg-open":h}i.length>0&&u.push(...i),e.wait||(f.stdio="ignore",f.detached=!0)}else{let r=await m();t=l?`${r}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,u.push("-NoProfile","-NonInteractive","ExecutionPolicy","Bypass","-EncodedCommand"),l||(f.windowsVerbatimArguments=!0);let o=["Start"];e.wait&&o.push("-Wait"),n?(o.push(`"\`"${n}\`""`,"-ArgumentList"),e.target&&i.unshift(e.target)):e.target&&o.push(`"${e.target}"`),i.length>0&&o.push((i=i.map(e=>`"\`"${e}\`""`)).join(",")),e.target=Buffer.from(o.join(" "),"utf16le").toString("base64")}e.target&&u.push(e.target),"darwin"===d&&i.length>0&&u.push("--args",...i);let _=o.spawn(t,u,f);return e.wait?new Promise((t,n)=>{_.once("error",n),_.once("close",r=>{if(!e.allowNonzeroExitCode&&r>0){n(Error(`Exited with code ${r}`));return}t(_)})}):(_.unref(),_)},_=(e,t)=>{if("string"!=typeof e)throw TypeError("Expected a `target`");return y({...t,target:e})};function E(e){if("string"==typeof e||Array.isArray(e))return e;let{[f]:t}=e;if(!t)throw Error(`${f} is not supported`);return t}function T({[d]:e},{wsl:t}){if(t&&l)return E(t);if(!e)throw Error(`${d} is not supported`);return E(e)}let w={};u(w,"chrome",()=>T({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}})),u(w,"firefox",()=>T({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"})),u(w,"edge",()=>T({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"})),_.apps=w,_.openApp=(e,t)=>{if("string"!=typeof e)throw TypeError("Expected a `name`");let{arguments:n=[]}=t||{};if(null!=n&&!Array.isArray(n))throw TypeError("Expected `appArguments` as Array type");return y({...t,app:{name:e,arguments:n}})},e.exports=_},83806:e=>{e.exports=global.process},81799:(e,t,n)=>{"use strict";let r;let{SymbolDispose:i}=n(19472),{AbortError:o,codes:s}=n(42782),{isNodeStream:a,isWebStream:l,kControllerErrorFunction:c}=n(95975),u=n(90920),{ERR_INVALID_ARG_TYPE:h}=s,d=(e,t)=>{if("object"!=typeof e||!("aborted"in e))throw new h(t,"AbortSignal",e)};e.exports.addAbortSignal=function(t,n){if(d(t,"signal"),!a(n)&&!l(n))throw new h("stream",["ReadableStream","WritableStream","Stream"],n);return e.exports.addAbortSignalNoValidate(t,n)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;let s=a(t)?()=>{t.destroy(new o(void 0,{cause:e.reason}))}:()=>{t[c](new o(void 0,{cause:e.reason}))};return e.aborted?s():u(t,(r=r||n(449).addAbortListener)(e,s)[i]),t}},7726:(e,t,n)=>{"use strict";let{StringPrototypeSlice:r,SymbolIterator:i,TypedArrayPrototypeSet:o,Uint8Array:s}=n(19472),{Buffer:a}=n(78893),{inspect:l}=n(449);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){let t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;let e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,n=""+t.data;for(;null!==(t=t.next);)n+=e+t.data;return n}concat(e){if(0===this.length)return a.alloc(0);let t=a.allocUnsafe(e>>>0),n=this.head,r=0;for(;n;)o(t,n.data,r),r+=n.data.length,n=n.next;return t}consume(e,t){let n=this.head.data;if(e<n.length){let t=n.slice(0,e);return this.head.data=n.slice(e),t}return e===n.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[i](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",n=this.head,i=0;do{let o=n.data;if(e>o.length)t+=o,e-=o.length;else{e===o.length?(t+=o,++i,n.next?this.head=n.next:this.head=this.tail=null):(t+=r(o,0,e),this.head=n,n.data=r(o,e));break}++i}while(null!==(n=n.next));return this.length-=i,t}_getBuffer(e){let t=a.allocUnsafe(e),n=e,r=this.head,i=0;do{let a=r.data;if(e>a.length)o(t,a,n-e),e-=a.length;else{e===a.length?(o(t,a,n-e),++i,r.next?this.head=r.next:this.head=this.tail=null):(o(t,new s(a.buffer,a.byteOffset,e),n-e),this.head=r,r.data=a.slice(e));break}++i}while(null!==(r=r.next));return this.length-=i,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return l(this,{...t,depth:0,customInspect:!1})}}},61442:(e,t,n)=>{"use strict";let{pipeline:r}=n(97038),i=n(6011),{destroyer:o}=n(63346),{isNodeStream:s,isReadable:a,isWritable:l,isWebStream:c,isTransformStream:u,isWritableStream:h,isReadableStream:d}=n(95975),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:m}}=n(42782),g=n(90920);e.exports=function(...e){let t,n,y,_,E;if(0===e.length)throw new m("streams");if(1===e.length)return i.from(e[0]);let T=[...e];if("function"==typeof e[0]&&(e[0]=i.from(e[0])),"function"==typeof e[e.length-1]){let t=e.length-1;e[t]=i.from(e[t])}for(let t=0;t<e.length;++t)if(s(e[t])||c(e[t])){if(t<e.length-1&&!(a(e[t])||d(e[t])||u(e[t])))throw new p(`streams[${t}]`,T[t],"must be readable");if(t>0&&!(l(e[t])||h(e[t])||u(e[t])))throw new p(`streams[${t}]`,T[t],"must be writable")}let w=e[0],b=r(e,function(e){let t=_;_=null,t?t(e):e?E.destroy(e):S||v||E.destroy()}),v=!!(l(w)||h(w)||u(w)),S=!!(a(b)||d(b)||u(b));if(E=new i({writableObjectMode:!!(null!=w&&w.writableObjectMode),readableObjectMode:!!(null!=b&&b.readableObjectMode),writable:v,readable:S}),v){if(s(w))E._write=function(e,n,r){w.write(e,n)?r():t=r},E._final=function(e){w.end(),n=e},w.on("drain",function(){if(t){let e=t;t=null,e()}});else if(c(w)){let e=(u(w)?w.writable:w).getWriter();E._write=async function(t,n,r){try{await e.ready,e.write(t).catch(()=>{}),r()}catch(e){r(e)}},E._final=async function(t){try{await e.ready,e.close().catch(()=>{}),n=t}catch(e){t(e)}}}g(u(b)?b.readable:b,()=>{if(n){let e=n;n=null,e()}})}if(S){if(s(b))b.on("readable",function(){if(y){let e=y;y=null,e()}}),b.on("end",function(){E.push(null)}),E._read=function(){for(;;){let e=b.read();if(null===e){y=E._read;return}if(!E.push(e))return}};else if(c(b)){let e=(u(b)?b.readable:b).getReader();E._read=async function(){for(;;)try{let{value:t,done:n}=await e.read();if(!E.push(t))return;if(n){E.push(null);return}}catch{return}}}}return E._destroy=function(e,r){e||null===_||(e=new f),y=null,t=null,n=null,null===_?r(e):(_=r,s(b)&&o(b,e))},E}},63346:(e,t,n)=>{"use strict";let r=n(83806),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:s}=n(42782),{Symbol:a}=n(19472),{kIsDestroyed:l,isDestroyed:c,isFinished:u,isServerRequest:h}=n(95975),d=a("kDestroy"),f=a("kConstruct");function p(e,t,n){e&&(e.stack,t&&!t.errored&&(t.errored=e),n&&!n.errored&&(n.errored=e))}function m(e,t,n){let i=!1;function o(t){if(i)return;i=!0;let o=e._readableState,s=e._writableState;p(t,s,o),s&&(s.closed=!0),o&&(o.closed=!0),"function"==typeof n&&n(t),t?r.nextTick(g,e,t):r.nextTick(y,e)}try{e._destroy(t||null,o)}catch(e){o(e)}}function g(e,t){_(e,t),y(e)}function y(e){let t=e._readableState,n=e._writableState;n&&(n.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=n&&n.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function _(e,t){let n=e._readableState,r=e._writableState;null!=r&&r.errorEmitted||null!=n&&n.errorEmitted||(r&&(r.errorEmitted=!0),n&&(n.errorEmitted=!0),e.emit("error",t))}function E(e,t,n){let i=e._readableState,o=e._writableState;if(null!=o&&o.destroyed||null!=i&&i.destroyed)return this;null!=i&&i.autoDestroy||null!=o&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),i&&!i.errored&&(i.errored=t),n?r.nextTick(_,e,t):_(e,t))}function T(e){let t=!1;function n(n){if(t){E(e,null!=n?n:new o);return}t=!0;let i=e._readableState,s=e._writableState,a=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),a.destroyed?e.emit(d,n):n?E(e,n,!0):r.nextTick(w,e)}try{e._construct(e=>{r.nextTick(n,e)})}catch(e){r.nextTick(n,e)}}function w(e){e.emit(f)}function b(e){return(null==e?void 0:e.setHeader)&&"function"==typeof e.abort}function v(e){e.emit("close")}function S(e,t){e.emit("error",t),r.nextTick(v,e)}e.exports={construct:function(e,t){if("function"!=typeof e._construct)return;let n=e._readableState,i=e._writableState;n&&(n.constructed=!1),i&&(i.constructed=!1),e.once(f,t),e.listenerCount(f)>1||r.nextTick(T,e)},destroyer:function(e,t){!(!e||c(e))&&(t||u(e)||(t=new s),h(e)?(e.socket=null,e.destroy(t)):b(e)?e.abort():b(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?r.nextTick(S,e,t):r.nextTick(v,e),e.destroyed||(e[l]=!0))},destroy:function(e,t){let n=this._readableState,r=this._writableState,o=r||n;return null!=r&&r.destroyed||null!=n&&n.destroyed?"function"==typeof t&&t():(p(e,r,n),r&&(r.destroyed=!0),n&&(n.destroyed=!0),o.constructed?m(this,e,t):this.once(d,function(n){m(this,i(n,e),t)})),this},undestroy:function(){let e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:E}},6011:(e,t,n)=>{"use strict";let r,i;let{ObjectDefineProperties:o,ObjectGetOwnPropertyDescriptor:s,ObjectKeys:a,ObjectSetPrototypeOf:l}=n(19472);e.exports=h;let c=n(36412),u=n(67973);l(h.prototype,c.prototype),l(h,c);{let e=a(u.prototype);for(let t=0;t<e.length;t++){let n=e[t];h.prototype[n]||(h.prototype[n]=u.prototype[n])}}function h(e){if(!(this instanceof h))return new h(e);c.call(this,e),u.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}function d(){return void 0===r&&(r={}),r}o(h.prototype,{writable:{__proto__:null,...s(u.prototype,"writable")},writableHighWaterMark:{__proto__:null,...s(u.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...s(u.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...s(u.prototype,"writableBuffer")},writableLength:{__proto__:null,...s(u.prototype,"writableLength")},writableFinished:{__proto__:null,...s(u.prototype,"writableFinished")},writableCorked:{__proto__:null,...s(u.prototype,"writableCorked")},writableEnded:{__proto__:null,...s(u.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...s(u.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),h.fromWeb=function(e,t){return d().newStreamDuplexFromReadableWritablePair(e,t)},h.toWeb=function(e){return d().newReadableWritablePairFromDuplex(e)},h.from=function(e){return i||(i=n(37342)),i(e,"body")}},37342:(e,t,n)=>{"use strict";let r=n(83806),i=n(78893),{isReadable:o,isWritable:s,isIterable:a,isNodeStream:l,isReadableNodeStream:c,isWritableNodeStream:u,isDuplexNodeStream:h,isReadableStream:d,isWritableStream:f}=n(95975),p=n(90920),{AbortError:m,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:y}}=n(42782),{destroyer:_}=n(63346),E=n(6011),T=n(36412),w=n(67973),{createDeferredPromise:b}=n(449),v=n(18042),S=globalThis.Blob||i.Blob,A=void 0!==S?function(e){return e instanceof S}:function(e){return!1},I=globalThis.AbortController||n(54769).AbortController,{FunctionPrototypeCall:C}=n(19472);class O extends E{constructor(e){super(e),(null==e?void 0:e.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(null==e?void 0:e.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function N(e){let t,n,r,i,a;let l=e.readable&&"function"!=typeof e.readable.read?T.wrap(e.readable):e.readable,c=e.writable,u=!!o(l),h=!!s(c);function d(e){let t=i;i=null,t?t(e):e&&a.destroy(e)}return a=new O({readableObjectMode:!!(null!=l&&l.readableObjectMode),writableObjectMode:!!(null!=c&&c.writableObjectMode),readable:u,writable:h}),h&&(p(c,e=>{h=!1,e&&_(l,e),d(e)}),a._write=function(e,n,r){c.write(e,n)?r():t=r},a._final=function(e){c.end(),n=e},c.on("drain",function(){if(t){let e=t;t=null,e()}}),c.on("finish",function(){if(n){let e=n;n=null,e()}})),u&&(p(l,e=>{u=!1,e&&_(l,e),d(e)}),l.on("readable",function(){if(r){let e=r;r=null,e()}}),l.on("end",function(){a.push(null)}),a._read=function(){for(;;){let e=l.read();if(null===e){r=a._read;return}if(!a.push(e))return}}),a._destroy=function(e,o){e||null===i||(e=new m),r=null,t=null,n=null,null===i?o(e):(i=o,_(c,e),_(l,e))},a}e.exports=function e(t,n){if(h(t))return t;if(c(t))return N({readable:t});if(u(t))return N({writable:t});if(l(t))return N({writable:!1,readable:!1});if(d(t))return N({readable:T.fromWeb(t)});if(f(t))return N({writable:w.fromWeb(t)});if("function"==typeof t){let{value:e,write:i,final:o,destroy:s}=function(e){let{promise:t,resolve:n}=b(),i=new I,o=i.signal;return{value:e(async function*(){for(;;){let e=t;t=null;let{chunk:i,done:s,cb:a}=await e;if(r.nextTick(a),s)return;if(o.aborted)throw new m(void 0,{cause:o.reason});({promise:t,resolve:n}=b()),yield i}}(),{signal:o}),write(e,t,r){let i=n;n=null,i({chunk:e,done:!1,cb:r})},final(e){let t=n;n=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(a(e))return v(O,e,{objectMode:!0,write:i,final:o,destroy:s});let l=null==e?void 0:e.then;if("function"==typeof l){let t;let n=C(l,e,e=>{if(null!=e)throw new y("nully","body",e)},e=>{_(t,e)});return t=new O({objectMode:!0,readable:!1,write:i,final(e){o(async()=>{try{await n,r.nextTick(e,null)}catch(t){r.nextTick(e,t)}})},destroy:s})}throw new y("Iterable, AsyncIterable or AsyncFunction",n,e)}if(A(t))return e(t.arrayBuffer());if(a(t))return v(O,t,{objectMode:!0,writable:!1});if(d(null==t?void 0:t.readable)&&f(null==t?void 0:t.writable))return O.fromWeb(t);if("object"==typeof(null==t?void 0:t.writable)||"object"==typeof(null==t?void 0:t.readable))return N({readable:null!=t&&t.readable?c(null==t?void 0:t.readable)?null==t?void 0:t.readable:e(t.readable):void 0,writable:null!=t&&t.writable?u(null==t?void 0:t.writable)?null==t?void 0:t.writable:e(t.writable):void 0});let i=null==t?void 0:t.then;if("function"==typeof i){let e;return C(i,t,t=>{null!=t&&e.push(t),e.push(null)},t=>{_(e,t)}),e=new O({objectMode:!0,writable:!1,read(){}})}throw new g(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},90920:(e,t,n)=>{"use strict";let r;let i=n(83806),{AbortError:o,codes:s}=n(42782),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:l}=s,{kEmptyObject:c,once:u}=n(449),{validateAbortSignal:h,validateFunction:d,validateObject:f,validateBoolean:p}=n(11150),{Promise:m,PromisePrototypeThen:g,SymbolDispose:y}=n(19472),{isClosed:_,isReadable:E,isReadableNodeStream:T,isReadableStream:w,isReadableFinished:b,isReadableErrored:v,isWritable:S,isWritableNodeStream:A,isWritableStream:I,isWritableFinished:C,isWritableErrored:O,isNodeStream:N,willEmitClose:R,kIsClosedPromise:D}=n(95975),k=()=>{};function P(e,t,s){var p,m;if(2==arguments.length?(s=t,t=c):null==t?t=c:f(t,"options"),d(s,"callback"),h(t.signal,"options.signal"),s=u(s),w(e)||I(e))return function(e,t,s){let a=!1,l=k;if(t.signal){if(l=()=>{a=!0,s.call(e,new o(void 0,{cause:t.signal.reason}))},t.signal.aborted)i.nextTick(l);else{let i=(r=r||n(449).addAbortListener)(t.signal,l),o=s;s=u((...t)=>{i[y](),o.apply(e,t)})}}let c=(...t)=>{a||i.nextTick(()=>s.apply(e,t))};return g(e[D].promise,c,c),k}(e,t,s);if(!N(e))throw new a("stream",["ReadableStream","WritableStream","Stream"],e);let P=null!==(p=t.readable)&&void 0!==p?p:T(e),M=null!==(m=t.writable)&&void 0!==m?m:A(e),L=e._writableState,U=e._readableState,x=()=>{e.writable||q()},F=R(e)&&T(e)===P&&A(e)===M,B=C(e,!1),q=()=>{B=!0,e.destroyed&&(F=!1),F&&(!e.readable||P)||P&&!Y||s.call(e)},Y=b(e,!1),j=()=>{Y=!0,e.destroyed&&(F=!1),F&&(!e.writable||M)||M&&!B||s.call(e)},H=t=>{s.call(e,t)},V=_(e),$=()=>{V=!0;let t=O(e)||v(e);return t&&"boolean"!=typeof t?s.call(e,t):P&&!Y&&T(e,!0)&&!b(e,!1)||M&&!B&&!C(e,!1)?s.call(e,new l):void s.call(e)},z=()=>{V=!0;let t=O(e)||v(e);if(t&&"boolean"!=typeof t)return s.call(e,t);s.call(e)},W=()=>{e.req.on("finish",q)};e.setHeader&&"function"==typeof e.abort?(e.on("complete",q),F||e.on("abort",$),e.req?W():e.on("request",W)):M&&!L&&(e.on("end",x),e.on("close",x)),F||"boolean"!=typeof e.aborted||e.on("aborted",$),e.on("end",j),e.on("finish",q),!1!==t.error&&e.on("error",H),e.on("close",$),V?i.nextTick($):null!=L&&L.errorEmitted||null!=U&&U.errorEmitted?F||i.nextTick(z):!P&&(!F||E(e))&&(B||!1===S(e))?i.nextTick(z):!M&&(!F||S(e))&&(Y||!1===E(e))?i.nextTick(z):U&&e.req&&e.aborted&&i.nextTick(z);let G=()=>{s=k,e.removeListener("aborted",$),e.removeListener("complete",q),e.removeListener("abort",$),e.removeListener("request",W),e.req&&e.req.removeListener("finish",q),e.removeListener("end",x),e.removeListener("close",x),e.removeListener("finish",q),e.removeListener("end",j),e.removeListener("error",H),e.removeListener("close",$)};if(t.signal&&!V){let a=()=>{let n=s;G(),n.call(e,new o(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)i.nextTick(a);else{let i=(r=r||n(449).addAbortListener)(t.signal,a),o=s;s=u((...t)=>{i[y](),o.apply(e,t)})}}return G}e.exports=P,e.exports.finished=function(e,t){var n;let r=!1;return null===t&&(t=c),null!==(n=t)&&void 0!==n&&n.cleanup&&(p(t.cleanup,"cleanup"),r=t.cleanup),new m((n,i)=>{let o=P(e,t,e=>{r&&o(),e?i(e):n()})})}},18042:(e,t,n)=>{"use strict";let r=n(83806),{PromisePrototypeThen:i,SymbolAsyncIterator:o,SymbolIterator:s}=n(19472),{Buffer:a}=n(78893),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_NULL_VALUES:c}=n(42782).codes;e.exports=function(e,t,n){let u,h;if("string"==typeof t||t instanceof a)return new e({objectMode:!0,...n,read(){this.push(t),this.push(null)}});if(t&&t[o])h=!0,u=t[o]();else if(t&&t[s])h=!1,u=t[s]();else throw new l("iterable",["Iterable"],t);let d=new e({objectMode:!0,highWaterMark:1,...n}),f=!1;async function p(e){let t=null!=e,n="function"==typeof u.throw;if(t&&n){let{value:t,done:n}=await u.throw(e);if(await t,n)return}if("function"==typeof u.return){let{value:e}=await u.return();await e}}async function m(){for(;;){try{let{value:e,done:t}=h?await u.next():u.next();if(t)d.push(null);else{let t=e&&"function"==typeof e.then?await e:e;if(null===t)throw f=!1,new c;if(d.push(t))continue;f=!1}}catch(e){d.destroy(e)}break}}return d._read=function(){f||(f=!0,m())},d._destroy=function(e,t){i(p(e),()=>r.nextTick(t,e),n=>r.nextTick(t,n||e))},d}},80899:(e,t,n)=>{"use strict";let{ArrayIsArray:r,ObjectSetPrototypeOf:i}=n(19472),{EventEmitter:o}=n(17702);function s(e){o.call(this,e)}function a(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?r(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}i(s.prototype,o.prototype),i(s,o),s.prototype.pipe=function(e,t){let n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",l),n.on("close",c));let s=!1;function l(){s||(s=!0,e.end())}function c(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){h(),0===o.listenerCount(this,"error")&&this.emit("error",e)}function h(){n.removeListener("data",r),e.removeListener("drain",i),n.removeListener("end",l),n.removeListener("close",c),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",h),n.removeListener("close",h),e.removeListener("close",h)}return a(n,"error",u),a(e,"error",u),n.on("end",h),n.on("close",h),e.on("close",h),e.emit("pipe",n),e},e.exports={Stream:s,prependListener:a}},55714:(e,t,n)=>{"use strict";let r=globalThis.AbortController||n(54769).AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:s,ERR_OUT_OF_RANGE:a},AbortError:l}=n(42782),{validateAbortSignal:c,validateInteger:u,validateObject:h}=n(11150),d=n(19472).Symbol("kWeak"),f=n(19472).Symbol("kResistStopPropagation"),{finished:p}=n(90920),m=n(61442),{addAbortSignalNoValidate:g}=n(81799),{isWritable:y,isNodeStream:_}=n(95975),{deprecate:E}=n(449),{ArrayPrototypePush:T,Boolean:w,MathFloor:b,Number:v,NumberIsNaN:S,Promise:A,PromiseReject:I,PromiseResolve:C,PromisePrototypeThen:O,Symbol:N}=n(19472),R=N("kEmpty"),D=N("kEof");function k(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);null!=t&&h(t,"options"),(null==t?void 0:t.signal)!=null&&c(t.signal,"options.signal");let r=1;(null==t?void 0:t.concurrency)!=null&&(r=b(t.concurrency));let i=r-1;return(null==t?void 0:t.highWaterMark)!=null&&(i=b(t.highWaterMark)),u(r,"options.concurrency",1),u(i,"options.highWaterMark",0),i+=r,(async function*(){let o,s;let a=n(449).AbortSignalAny([null==t?void 0:t.signal].filter(w)),c=this,u=[],h={signal:a},d=!1,f=0;function p(){d=!0,m()}function m(){f-=1,g()}function g(){s&&!d&&f<r&&u.length<i&&(s(),s=null)}(async function(){try{for await(let t of c){if(d)return;if(a.aborted)throw new l;try{if((t=e(t,h))===R)continue;t=C(t)}catch(e){t=I(e)}f+=1,O(t,m,p),u.push(t),o&&(o(),o=null),!d&&(u.length>=i||f>=r)&&await new A(e=>{s=e})}u.push(D)}catch(t){let e=I(t);O(e,m,p),u.push(e)}finally{d=!0,o&&(o(),o=null)}})();try{for(;;){for(;u.length>0;){let e=await u[0];if(e===D)return;if(a.aborted)throw new l;e!==R&&(yield e),u.shift(),g()}await new A(e=>{o=e})}}finally{d=!0,s&&(s(),s=null)}}).call(this)}async function P(e,t){for await(let n of x.call(this,e,t))return!0;return!1}async function M(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);return!await P.call(this,async(...t)=>!await e(...t),t)}async function L(e,t){for await(let n of x.call(this,e,t))return n}async function U(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);async function n(t,n){return await e(t,n),R}for await(let e of k.call(this,n,t));}function x(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);async function n(t,n){return await e(t,n)?t:R}return k.call(this,n,t)}class F extends s{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function B(e,t,n){var i,s;if("function"!=typeof e)throw new o("reducer",["Function","AsyncFunction"],e);null!=n&&h(n,"options"),(null==n?void 0:n.signal)!=null&&c(n.signal,"options.signal");let a=arguments.length>1;if(null!=n&&null!==(i=n.signal)&&void 0!==i&&i.aborted){let e=new l(void 0,{cause:n.signal.reason});throw this.once("error",()=>{}),await p(this.destroy(e)),e}let u=new r,m=u.signal;null!=n&&n.signal&&n.signal.addEventListener("abort",()=>u.abort(),{once:!0,[d]:this,[f]:!0});let g=!1;try{for await(let r of this){if(g=!0,null!=n&&null!==(s=n.signal)&&void 0!==s&&s.aborted)throw new l;a?t=await e(t,r,{signal:m}):(t=r,a=!0)}if(!g&&!a)throw new F}finally{u.abort()}return t}async function q(e){null!=e&&h(e,"options"),(null==e?void 0:e.signal)!=null&&c(e.signal,"options.signal");let t=[];for await(let r of this){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new l(void 0,{cause:e.signal.reason});T(t,r)}return t}function Y(e){if(S(e=v(e)))return 0;if(e<0)throw new a("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:E(function(e){return null!=e&&h(e,"options"),(null==e?void 0:e.signal)!=null&&c(e.signal,"options.signal"),(async function*(){let t=0;for await(let r of this){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new l({cause:e.signal.reason});yield[t++,r]}}).call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(e,t){return null!=t&&h(t,"options"),(null==t?void 0:t.signal)!=null&&c(t.signal,"options.signal"),e=Y(e),(async function*(){var n,r;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;for await(let n of this){if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;e--<=0&&(yield n)}}).call(this)},filter:x,flatMap:function(e,t){let n=k.call(this,e,t);return(async function*(){for await(let e of n)yield*e}).call(this)},map:k,take:function(e,t){return null!=t&&h(t,"options"),(null==t?void 0:t.signal)!=null&&c(t.signal,"options.signal"),e=Y(e),(async function*(){var n,r;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;for await(let n of this){if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;if(e-- >0&&(yield n),e<=0)return}}).call(this)},compose:function(e,t){if(null!=t&&h(t,"options"),(null==t?void 0:t.signal)!=null&&c(t.signal,"options.signal"),_(e)&&!y(e))throw new i("stream",e,"must be writable");let n=m(this,e);return null!=t&&t.signal&&g(t.signal,n),n}},e.exports.promiseReturningOperators={every:M,forEach:U,reduce:B,toArray:q,some:P,find:L}},63994:(e,t,n)=>{"use strict";let{ObjectSetPrototypeOf:r}=n(19472);e.exports=o;let i=n(70466);function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}r(o.prototype,i.prototype),r(o,i),o.prototype._transform=function(e,t,n){n(null,e)}},97038:(e,t,n)=>{let r,i,o;"use strict";let s=n(83806),{ArrayIsArray:a,Promise:l,SymbolAsyncIterator:c,SymbolDispose:u}=n(19472),h=n(90920),{once:d}=n(449),f=n(63346),p=n(6011),{aggregateTwoErrors:m,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:y,ERR_MISSING_ARGS:_,ERR_STREAM_DESTROYED:E,ERR_STREAM_PREMATURE_CLOSE:T},AbortError:w}=n(42782),{validateFunction:b,validateAbortSignal:v}=n(11150),{isIterable:S,isReadable:A,isReadableNodeStream:I,isNodeStream:C,isTransformStream:O,isWebStream:N,isReadableStream:R,isReadableFinished:D}=n(95975),k=globalThis.AbortController||n(54769).AbortController;function P(e,t,n){let r=!1;return e.on("close",()=>{r=!0}),{destroy:t=>{r||(r=!0,f.destroyer(e,t||new E("pipe")))},cleanup:h(e,{readable:t,writable:n},e=>{r=!e})}}function M(e){if(S(e))return e;if(I(e))return L(e);throw new g("val",["Readable","Iterable","AsyncIterable"],e)}async function*L(e){i||(i=n(36412)),yield*i.prototype[c].call(e)}async function U(e,t,n,{end:r}){let i;let o=null,s=e=>{if(e&&(i=e),o){let e=o;o=null,e()}},a=()=>new l((e,t)=>{i?t(i):o=()=>{i?t(i):e()}});t.on("drain",s);let c=h(t,{readable:!1},s);try{for await(let n of(t.writableNeedDrain&&await a(),e))t.write(n)||await a();r&&(t.end(),await a()),n()}catch(e){n(i!==e?m(i,e):e)}finally{c(),t.off("drain",s)}}async function x(e,t,n,{end:r}){O(t)&&(t=t.writable);let i=t.getWriter();try{for await(let t of e)await i.ready,i.write(t).catch(()=>{});await i.ready,r&&await i.close(),n()}catch(e){try{await i.abort(e),n(e)}catch(e){n(e)}}}function F(e,t,i){let l,c,d,f;if(1===e.length&&a(e[0])&&(e=e[0]),e.length<2)throw new _("streams");let m=new k,E=m.signal,b=null==i?void 0:i.signal,L=[];function F(){j(new w)}v(b,"options.signal"),o=o||n(449).addAbortListener,b&&(l=o(b,F));let B=[],q=0;function Y(e){j(e,0==--q)}function j(e,n){var r;if(e&&(!c||"ERR_STREAM_PREMATURE_CLOSE"===c.code)&&(c=e),c||n){for(;B.length;)B.shift()(c);null===(r=l)||void 0===r||r[u](),m.abort(),n&&(c||L.forEach(e=>e()),s.nextTick(t,c,d))}}for(let t=0;t<e.length;t++){let o=e[t],a=t<e.length-1,l=t>0,c=a||(null==i?void 0:i.end)!==!1,u=t===e.length-1;if(C(o)){if(c){let{destroy:e,cleanup:t}=P(o,a,l);B.push(e),A(o)&&u&&L.push(t)}function H(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&Y(e)}o.on("error",H),A(o)&&u&&L.push(()=>{o.removeListener("error",H)})}if(0===t){if("function"==typeof o){if(!S(f=o({signal:E})))throw new y("Iterable, AsyncIterable or Stream","source",f)}else f=S(o)||I(o)||O(o)?o:p.from(o)}else if("function"==typeof o){var V,$;if(f=o(f=O(f)?M(null===(V=f)||void 0===V?void 0:V.readable):M(f),{signal:E}),a){if(!S(f,!0))throw new y("AsyncIterable",`transform[${t-1}]`,f)}else{r||(r=n(63994));let e=new r({objectMode:!0}),t=null===($=f)||void 0===$?void 0:$.then;if("function"==typeof t)q++,t.call(f,t=>{d=t,null!=t&&e.write(t),c&&e.end(),s.nextTick(Y)},t=>{e.destroy(t),s.nextTick(Y,t)});else if(S(f,!0))q++,U(f,e,Y,{end:c});else if(R(f)||O(f)){let t=f.readable||f;q++,U(t,e,Y,{end:c})}else throw new y("AsyncIterable or Promise","destination",f);let{destroy:i,cleanup:o}=P(f=e,!1,!0);B.push(i),u&&L.push(o)}}else if(C(o)){if(I(f)){q+=2;let e=function(e,t,n,{end:r}){let i=!1;if(t.on("close",()=>{i||n(new T)}),e.pipe(t,{end:!1}),r){function o(){i=!0,t.end()}D(e)?s.nextTick(o):e.once("end",o)}else n();return h(e,{readable:!0,writable:!1},t=>{let r=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&r&&r.ended&&!r.errored&&!r.errorEmitted?e.once("end",n).once("error",n):n(t)}),h(t,{readable:!1,writable:!0},n)}(f,o,Y,{end:c});A(o)&&u&&L.push(e)}else if(O(f)||R(f)){let e=f.readable||f;q++,U(e,o,Y,{end:c})}else if(S(f))q++,U(f,o,Y,{end:c});else throw new g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],f);f=o}else if(N(o)){if(I(f))q++,x(M(f),o,Y,{end:c});else if(R(f)||S(f))q++,x(f,o,Y,{end:c});else if(O(f))q++,x(f.readable,o,Y,{end:c});else throw new g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],f);f=o}else f=p.from(o)}return(null!=E&&E.aborted||null!=b&&b.aborted)&&s.nextTick(F),f}e.exports={pipelineImpl:F,pipeline:function(...e){return F(e,d((b(e[e.length-1],"streams[stream.length - 1]"),e.pop())))}}},36412:(e,t,n)=>{"use strict";let r;let i=n(83806),{ArrayPrototypeIndexOf:o,NumberIsInteger:s,NumberIsNaN:a,NumberParseInt:l,ObjectDefineProperties:c,ObjectKeys:u,ObjectSetPrototypeOf:h,Promise:d,SafeSet:f,SymbolAsyncDispose:p,SymbolAsyncIterator:m,Symbol:g}=n(19472);e.exports=H,H.ReadableState=j;let{EventEmitter:y}=n(17702),{Stream:_,prependListener:E}=n(80899),{Buffer:T}=n(78893),{addAbortSignal:w}=n(81799),b=n(90920),v=n(449).debuglog("stream",e=>{v=e}),S=n(7726),A=n(63346),{getHighWaterMark:I,getDefaultHighWaterMark:C}=n(70301),{aggregateTwoErrors:O,codes:{ERR_INVALID_ARG_TYPE:N,ERR_METHOD_NOT_IMPLEMENTED:R,ERR_OUT_OF_RANGE:D,ERR_STREAM_PUSH_AFTER_EOF:k,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:P},AbortError:M}=n(42782),{validateObject:L}=n(11150),U=g("kPaused"),{StringDecoder:x}=n(80985),F=n(18042);h(H.prototype,_.prototype),h(H,_);let B=()=>{},{errorOrDestroy:q}=A;function Y(e){return{enumerable:!1,get(){return(this.state&e)!=0},set(t){t?this.state|=e:this.state&=~e}}}function j(e,t,r){"boolean"!=typeof r&&(r=t instanceof n(6011)),this.state=6192,e&&e.objectMode&&(this.state|=1),r&&e&&e.readableObjectMode&&(this.state|=1),this.highWaterMark=e?I(this,e,"readableHighWaterMark",r):C(!1),this.buffer=new S,this.length=0,this.pipes=[],this.flowing=null,this[U]=null,e&&!1===e.emitClose&&(this.state&=-2049),e&&!1===e.autoDestroy&&(this.state&=-4097),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new x(e.encoding),this.encoding=e.encoding)}function H(e){if(!(this instanceof H))return new H(e);let t=this instanceof n(6011);this._readableState=new j(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&w(e.signal,this)),_.call(this,e),A.construct(this,()=>{this._readableState.needReadable&&K(this,this._readableState)})}function V(e,t,n,r){let i;v("readableAddChunk",t);let o=e._readableState;if((1&o.state)==0&&("string"==typeof t?(n=n||o.defaultEncoding,o.encoding!==n&&(r&&o.encoding?t=T.from(t,n).toString(o.encoding):(t=T.from(t,n),n=""))):t instanceof T?n="":_._isUint8Array(t)?(t=_._uint8ArrayToBuffer(t),n=""):null!=t&&(i=new N("chunk",["string","Buffer","Uint8Array"],t))),i)q(e,i);else if(null===t)o.state&=-9,function(e,t){if(v("onEofChunk"),!t.ended){if(t.decoder){let e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?W(e):(t.needReadable=!1,t.emittedReadable=!0,G(e))}}(e,o);else if((1&o.state)!=0||t&&t.length>0){if(r){if((4&o.state)!=0)q(e,new P);else{if(o.destroyed||o.errored)return!1;$(e,o,t,!0)}}else if(o.ended)q(e,new k);else{if(o.destroyed||o.errored)return!1;o.state&=-9,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?$(e,o,t,!1):K(e,o)):$(e,o,t,!1)}}else r||(o.state&=-9,K(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function $(e,t,n,r){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?((65536&t.state)!=0?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),(64&t.state)!=0&&W(e)),K(e,t)}function z(e,t){return e<=0||0===t.length&&t.ended?0:(1&t.state)!=0?1:a(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function W(e){let t=e._readableState;v("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(v("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(G,e))}function G(e){let t=e._readableState;v("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,ee(e)}function K(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,i.nextTick(Z,e,t))}function Z(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){let n=t.length;if(v("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function Q(e){let t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[U]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function X(e){v("readable nexttick read 0"),e.read(0)}function J(e,t){v("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),ee(e),t.flowing&&!t.reading&&e.read(0)}function ee(e){let t=e._readableState;for(v("flow",t.flowing);t.flowing&&null!==e.read(););}function et(e,t){"function"!=typeof e.read&&(e=H.wrap(e,{objectMode:!0}));let n=en(e,t);return n.stream=e,n}async function*en(e,t){let n,r=B;function i(t){this===e?(r(),r=B):r=t}e.on("readable",i);let o=b(e,{writable:!1},e=>{n=e?O(n,e):null,r(),r=B});try{for(;;){let t=e.destroyed?null:e.read();if(null!==t)yield t;else if(n)throw n;else{if(null===n)return;await new d(i)}}}catch(e){throw n=O(n,e)}finally{(n||(null==t?void 0:t.destroyOnReturn)!==!1)&&(void 0===n||e._readableState.autoDestroy)?A.destroyer(e,null):(e.off("readable",i),o())}}function er(e,t){let n;return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n)}function ei(e){let t=e._readableState;v("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(eo,t,e))}function eo(e,t){if(v("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length){if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)i.nextTick(es,t);else if(e.autoDestroy){let e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}}function es(e){!e.writable||e.writableEnded||e.destroyed||e.end()}function ea(){return void 0===r&&(r={}),r}c(j.prototype,{objectMode:Y(1),ended:Y(2),endEmitted:Y(4),reading:Y(8),constructed:Y(16),sync:Y(32),needReadable:Y(64),emittedReadable:Y(128),readableListening:Y(256),resumeScheduled:Y(512),errorEmitted:Y(1024),emitClose:Y(2048),autoDestroy:Y(4096),destroyed:Y(8192),closed:Y(16384),closeEmitted:Y(32768),multiAwaitDrain:Y(65536),readingMore:Y(131072),dataEmitted:Y(262144)}),H.prototype.destroy=A.destroy,H.prototype._undestroy=A.undestroy,H.prototype._destroy=function(e,t){t(e)},H.prototype[y.captureRejectionSymbol]=function(e){this.destroy(e)},H.prototype[p]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new M,this.destroy(e)),new d((t,n)=>b(this,r=>r&&r!==e?n(r):t(null)))},H.prototype.push=function(e,t){return V(this,e,t,!1)},H.prototype.unshift=function(e,t){return V(this,e,t,!0)},H.prototype.isPaused=function(){let e=this._readableState;return!0===e[U]||!1===e.flowing},H.prototype.setEncoding=function(e){let t=new x(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;let n=this._readableState.buffer,r="";for(let e of n)r+=t.write(e);return n.clear(),""!==r&&n.push(r),this._readableState.length=r.length,this},H.prototype.read=function(e){let t;v("read",e),void 0===e?e=NaN:s(e)||(e=l(e,10));let n=this._readableState,r=e;if(e>n.highWaterMark&&(n.highWaterMark=function(e){if(e>1073741824)throw new D("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(n.state&=-129),0===e&&n.needReadable&&((0!==n.highWaterMark?n.length>=n.highWaterMark:n.length>0)||n.ended))return v("read: emitReadable",n.length,n.ended),0===n.length&&n.ended?ei(this):W(this),null;if(0===(e=z(e,n))&&n.ended)return 0===n.length&&ei(this),null;let i=(64&n.state)!=0;if(v("need readable",i),(0===n.length||n.length-e<n.highWaterMark)&&v("length less than watermark",i=!0),n.ended||n.reading||n.destroyed||n.errored||!n.constructed)v("reading, ended or constructing",i=!1);else if(i){v("do read"),n.state|=40,0===n.length&&(n.state|=64);try{this._read(n.highWaterMark)}catch(e){q(this,e)}n.state&=-33,n.reading||(e=z(r,n))}return null===(t=e>0?er(e,n):null)?(n.needReadable=n.length<=n.highWaterMark,e=0):(n.length-=e,n.multiAwaitDrain?n.awaitDrainWriters.clear():n.awaitDrainWriters=null),0===n.length&&(n.ended||(n.needReadable=!0),r!==e&&n.ended&&ei(this)),null===t||n.errorEmitted||n.closeEmitted||(n.dataEmitted=!0,this.emit("data",t)),t},H.prototype._read=function(e){throw new R("_read()")},H.prototype.pipe=function(e,t){let n;let r=this,o=this._readableState;1!==o.pipes.length||o.multiAwaitDrain||(o.multiAwaitDrain=!0,o.awaitDrainWriters=new f(o.awaitDrainWriters?[o.awaitDrainWriters]:[])),o.pipes.push(e),v("pipe count=%d opts=%j",o.pipes.length,t);let s=t&&!1===t.end||e===i.stdout||e===i.stderr?m:a;function a(){v("onend"),e.end()}o.endEmitted?i.nextTick(s):r.once("end",s),e.on("unpipe",function t(i,s){v("onunpipe"),i===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,v("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),n&&e.removeListener("drain",n),e.removeListener("error",h),e.removeListener("unpipe",t),r.removeListener("end",a),r.removeListener("end",m),r.removeListener("data",u),l=!0,n&&o.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&n())});let l=!1;function c(){l||(1===o.pipes.length&&o.pipes[0]===e?(v("false write response, pause",0),o.awaitDrainWriters=e,o.multiAwaitDrain=!1):o.pipes.length>1&&o.pipes.includes(e)&&(v("false write response, pause",o.awaitDrainWriters.size),o.awaitDrainWriters.add(e)),r.pause()),n||(n=function(){let t=r._readableState;t.awaitDrainWriters===e?(v("pipeOnDrain",1),t.awaitDrainWriters=null):t.multiAwaitDrain&&(v("pipeOnDrain",t.awaitDrainWriters.size),t.awaitDrainWriters.delete(e)),(!t.awaitDrainWriters||0===t.awaitDrainWriters.size)&&r.listenerCount("data")&&r.resume()},e.on("drain",n))}function u(t){v("ondata");let n=e.write(t);v("dest.write",n),!1===n&&c()}function h(t){if(v("onerror",t),m(),e.removeListener("error",h),0===e.listenerCount("error")){let n=e._writableState||e._readableState;n&&!n.errorEmitted?q(e,t):e.emit("error",t)}}function d(){e.removeListener("finish",p),m()}function p(){v("onfinish"),e.removeListener("close",d),m()}function m(){v("unpipe"),r.unpipe(e)}return r.on("data",u),E(e,"error",h),e.once("close",d),e.once("finish",p),e.emit("pipe",r),!0===e.writableNeedDrain?c():o.flowing||(v("pipe resume"),r.resume()),e},H.prototype.unpipe=function(e){let t=this._readableState;if(0===t.pipes.length)return this;if(!e){let e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}let n=o(t.pipes,e);return -1===n||(t.pipes.splice(n,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},H.prototype.on=function(e,t){let n=_.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"!==e||r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,v("on readable",r.length,r.reading),r.length?W(this):r.reading||i.nextTick(X,this)),n},H.prototype.addListener=H.prototype.on,H.prototype.removeListener=function(e,t){let n=_.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(Q,this),n},H.prototype.off=H.prototype.removeListener,H.prototype.removeAllListeners=function(e){let t=_.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&i.nextTick(Q,this),t},H.prototype.resume=function(){let e=this._readableState;return e.flowing||(v("resume"),e.flowing=!e.readableListening,e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(J,this,e))),e[U]=!1,this},H.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[U]=!0,this},H.prototype.wrap=function(e){let t=!1;e.on("data",n=>{!this.push(n)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",e=>{q(this,e)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};let n=u(e);for(let t=1;t<n.length;t++){let r=n[t];void 0===this[r]&&"function"==typeof e[r]&&(this[r]=e[r].bind(e))}return this},H.prototype[m]=function(){return et(this)},H.prototype.iterator=function(e){return void 0!==e&&L(e,"options"),et(this,e)},c(H.prototype,{readable:{__proto__:null,get(){let e=this._readableState;return!!e&&!1!==e.readable&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(!1!==this._readableState.readable&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),c(j.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[U]},set(e){this[U]=!!e}}}),H._fromList=er,H.from=function(e,t){return F(H,e,t)},H.fromWeb=function(e,t){return ea().newStreamReadableFromReadableStream(e,t)},H.toWeb=function(e,t){return ea().newReadableStreamFromStreamReadable(e,t)},H.wrap=function(e,t){var n,r;return new H({objectMode:null===(n=null!==(r=e.readableObjectMode)&&void 0!==r?r:e.objectMode)||void 0===n||n,...t,destroy(t,n){A.destroyer(e,t),n(t)}}).wrap(e)}},70301:(e,t,n)=>{"use strict";let{MathFloor:r,NumberIsInteger:i}=n(19472),{validateInteger:o}=n(11150),{ERR_INVALID_ARG_VALUE:s}=n(42782).codes,a=16384,l=16;function c(e){return e?l:a}e.exports={getHighWaterMark:function(e,t,n,o){let a=null!=t.highWaterMark?t.highWaterMark:o?t[n]:null;if(null!=a){if(!i(a)||a<0)throw new s(o?`options.${n}`:"options.highWaterMark",a);return r(a)}return c(e.objectMode)},getDefaultHighWaterMark:c,setDefaultHighWaterMark:function(e,t){o(t,"value",0),e?l=t:a=t}}},70466:(e,t,n)=>{"use strict";let{ObjectSetPrototypeOf:r,Symbol:i}=n(19472);e.exports=c;let{ERR_METHOD_NOT_IMPLEMENTED:o}=n(42782).codes,s=n(6011),{getHighWaterMark:a}=n(70301);r(c.prototype,s.prototype),r(c,s);let l=i("kCallback");function c(e){if(!(this instanceof c))return new c(e);let t=e?a(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),s.call(this,e),this._readableState.sync=!1,this[l]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function u(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush((t,n)=>{if(t){e?e(t):this.destroy(t);return}null!=n&&this.push(n),this.push(null),e&&e()})}function h(){this._final!==u&&u.call(this)}c.prototype._final=u,c.prototype._transform=function(e,t,n){throw new o("_transform()")},c.prototype._write=function(e,t,n){let r=this._readableState,i=this._writableState,o=r.length;this._transform(e,t,(e,t)=>{if(e){n(e);return}null!=t&&this.push(t),i.ended||o===r.length||r.length<r.highWaterMark?n():this[l]=n})},c.prototype._read=function(){if(this[l]){let e=this[l];this[l]=null,e()}}},95975:(e,t,n)=>{"use strict";let{SymbolAsyncIterator:r,SymbolIterator:i,SymbolFor:o}=n(19472),s=o("nodejs.stream.destroyed"),a=o("nodejs.stream.errored"),l=o("nodejs.stream.readable"),c=o("nodejs.stream.writable"),u=o("nodejs.stream.disturbed"),h=o("nodejs.webstream.isClosedPromise"),d=o("nodejs.webstream.controllerErrorFunction");function f(e,t=!1){var n;return!!(e&&"function"==typeof e.pipe&&"function"==typeof e.on&&(!t||"function"==typeof e.pause&&"function"==typeof e.resume)&&(!e._writableState||(null===(n=e._readableState)||void 0===n?void 0:n.readable)!==!1)&&(!e._writableState||e._readableState))}function p(e){var t;return!!(e&&"function"==typeof e.write&&"function"==typeof e.on&&(!e._readableState||(null===(t=e._writableState)||void 0===t?void 0:t.writable)!==!1))}function m(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function g(e){return!!(e&&!m(e)&&"function"==typeof e.pipeThrough&&"function"==typeof e.getReader&&"function"==typeof e.cancel)}function y(e){return!!(e&&!m(e)&&"function"==typeof e.getWriter&&"function"==typeof e.abort)}function _(e){return!!(e&&!m(e)&&"object"==typeof e.readable&&"object"==typeof e.writable)}function E(e){if(!m(e))return null;let t=e._writableState,n=e._readableState,r=t||n;return!!(e.destroyed||e[s]||null!=r&&r.destroyed)}function T(e){if(!p(e))return null;if(!0===e.writableEnded)return!0;let t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)}function w(e,t){if(!f(e))return null;let n=e._readableState;return(null==n||!n.errored)&&("boolean"!=typeof(null==n?void 0:n.endEmitted)?null:!!(n.endEmitted||!1===t&&!0===n.ended&&0===n.length))}function b(e){return e&&null!=e[l]?e[l]:"boolean"!=typeof(null==e?void 0:e.readable)?null:!E(e)&&f(e)&&e.readable&&!w(e)}function v(e){return e&&null!=e[c]?e[c]:"boolean"!=typeof(null==e?void 0:e.writable)?null:!E(e)&&p(e)&&e.writable&&!T(e)}function S(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function A(e){return"boolean"==typeof e._sent100&&S(e)}e.exports={isDestroyed:E,kIsDestroyed:s,isDisturbed:function(e){var t;return!!(e&&(null!==(t=e[u])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:u,isErrored:function(e){var t,n,r,i,o,s,l,c,u,h;return!!(e&&(null!==(t=null!==(n=null!==(r=null!==(i=null!==(o=null!==(s=e[a])&&void 0!==s?s:e.readableErrored)&&void 0!==o?o:e.writableErrored)&&void 0!==i?i:null===(l=e._readableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==r?r:null===(c=e._writableState)||void 0===c?void 0:c.errorEmitted)&&void 0!==n?n:null===(u=e._readableState)||void 0===u?void 0:u.errored)&&void 0!==t?t:null===(h=e._writableState)||void 0===h?void 0:h.errored))},kIsErrored:a,isReadable:b,kIsReadable:l,kIsClosedPromise:h,kControllerErrorFunction:d,kIsWritable:c,isClosed:function(e){if(!m(e))return null;if("boolean"==typeof e.closed)return e.closed;let t=e._writableState,n=e._readableState;return"boolean"==typeof(null==t?void 0:t.closed)||"boolean"==typeof(null==n?void 0:n.closed)?(null==t?void 0:t.closed)||(null==n?void 0:n.closed):"boolean"==typeof e._closed&&S(e)?e._closed:null},isDuplexNodeStream:function(e){return!!(e&&"function"==typeof e.pipe&&e._readableState&&"function"==typeof e.on&&"function"==typeof e.write)},isFinished:function(e,t){return m(e)?!!E(e)||!((null==t?void 0:t.readable)!==!1&&b(e)||(null==t?void 0:t.writable)!==!1&&v(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[r]:!1===t?"function"==typeof e[i]:"function"==typeof e[r]||"function"==typeof e[i])},isReadableNodeStream:f,isReadableStream:g,isReadableEnded:function(e){if(!f(e))return null;if(!0===e.readableEnded)return!0;let t=e._readableState;return!!t&&!t.errored&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)},isReadableFinished:w,isReadableErrored:function(e){var t,n;return m(e)?e.readableErrored?e.readableErrored:null!==(t=null===(n=e._readableState)||void 0===n?void 0:n.errored)&&void 0!==t?t:null:null},isNodeStream:m,isWebStream:function(e){return g(e)||y(e)||_(e)},isWritable:v,isWritableNodeStream:p,isWritableStream:y,isWritableEnded:T,isWritableFinished:function(e,t){if(!p(e))return null;if(!0===e.writableFinished)return!0;let n=e._writableState;return(null==n||!n.errored)&&("boolean"!=typeof(null==n?void 0:n.finished)?null:!!(n.finished||!1===t&&!0===n.ended&&0===n.length))},isWritableErrored:function(e){var t,n;return m(e)?e.writableErrored?e.writableErrored:null!==(t=null===(n=e._writableState)||void 0===n?void 0:n.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)===void 0},isServerResponse:A,willEmitClose:function(e){if(!m(e))return null;let t=e._writableState,n=e._readableState,r=t||n;return!r&&A(e)||!!(r&&r.autoDestroy&&r.emitClose&&!1===r.closed)},isTransformStream:_}},67973:(e,t,n)=>{"use strict";let r;let i=n(83806),{ArrayPrototypeSlice:o,Error:s,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:l,ObjectDefineProperties:c,ObjectSetPrototypeOf:u,StringPrototypeToLowerCase:h,Symbol:d,SymbolHasInstance:f}=n(19472);e.exports=L,L.WritableState=P;let{EventEmitter:p}=n(17702),m=n(80899).Stream,{Buffer:g}=n(78893),y=n(63346),{addAbortSignal:_}=n(81799),{getHighWaterMark:E,getDefaultHighWaterMark:T}=n(70301),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:b,ERR_MULTIPLE_CALLBACK:v,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:A,ERR_STREAM_ALREADY_FINISHED:I,ERR_STREAM_NULL_VALUES:C,ERR_STREAM_WRITE_AFTER_END:O,ERR_UNKNOWN_ENCODING:N}=n(42782).codes,{errorOrDestroy:R}=y;function D(){}u(L.prototype,m.prototype),u(L,m);let k=d("kOnFinished");function P(e,t,r){"boolean"!=typeof r&&(r=t instanceof n(6011)),this.objectMode=!!(e&&e.objectMode),r&&(this.objectMode=this.objectMode||!!(e&&e.writableObjectMode)),this.highWaterMark=e?E(this,e,"writableHighWaterMark",r):T(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let i=!!(e&&!1===e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=B.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,M(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[k]=[]}function M(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function L(e){let t=this instanceof n(6011);if(!t&&!a(L,this))return new L(e);this._writableState=new P(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&_(e.signal,this)),m.call(this,e),y.construct(this,()=>{let e=this._writableState;e.writing||H(this,e),$(this,e)})}function U(e,t,n,r){let o;let s=e._writableState;if("function"==typeof n)r=n,n=s.defaultEncoding;else{if(n){if("buffer"!==n&&!g.isEncoding(n))throw new N(n)}else n=s.defaultEncoding;"function"!=typeof r&&(r=D)}if(null===t)throw new C;if(!s.objectMode){if("string"==typeof t)!1!==s.decodeStrings&&(t=g.from(t,n),n="buffer");else if(t instanceof g)n="buffer";else if(m._isUint8Array(t))t=m._uint8ArrayToBuffer(t),n="buffer";else throw new w("chunk",["string","Buffer","Uint8Array"],t)}return(s.ending?o=new O:s.destroyed&&(o=new A("write")),o)?(i.nextTick(r,o),R(e,o,!0),o):(s.pendingcb++,function(e,t,n,r,i){let o=t.objectMode?1:n.length;t.length+=o;let s=t.length<t.highWaterMark;return s||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:n,encoding:r,callback:i}),t.allBuffers&&"buffer"!==r&&(t.allBuffers=!1),t.allNoop&&i!==D&&(t.allNoop=!1)):(t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(n,r,t.onwrite),t.sync=!1),s&&!t.errored&&!t.destroyed}(e,s,t,n,r))}function x(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new A("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function F(e,t,n,r){--t.pendingcb,r(n),j(t),R(e,n)}function B(e,t){let n=e._writableState,r=n.sync,o=n.writecb;if("function"!=typeof o){R(e,new v);return}n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,t?(t.stack,n.errored||(n.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),r?i.nextTick(F,e,n,t,o):F(e,n,t,o)):(n.buffered.length>n.bufferedIndex&&H(e,n),r?null!==n.afterWriteTickInfo&&n.afterWriteTickInfo.cb===o?n.afterWriteTickInfo.count++:(n.afterWriteTickInfo={count:1,cb:o,stream:e,state:n},i.nextTick(q,n.afterWriteTickInfo)):Y(e,n,1,o))}function q({stream:e,state:t,count:n,cb:r}){return t.afterWriteTickInfo=null,Y(e,t,n,r)}function Y(e,t,n,r){for(t.ending||e.destroyed||0!==t.length||!t.needDrain||(t.needDrain=!1,e.emit("drain"));n-- >0;)t.pendingcb--,r();t.destroyed&&j(t),$(e,t)}function j(e){var t,n;if(e.writing)return;for(let n=e.bufferedIndex;n<e.buffered.length;++n){let{chunk:r,callback:i}=e.buffered[n],o=e.objectMode?1:r.length;e.length-=o,i(null!==(t=e.errored)&&void 0!==t?t:new A("write"))}let r=e[k].splice(0);for(let t=0;t<r.length;t++)r[t](null!==(n=e.errored)&&void 0!==n?n:new A("end"));M(e)}function H(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;let{buffered:n,bufferedIndex:r,objectMode:i}=t,s=n.length-r;if(!s)return;let a=r;if(t.bufferProcessing=!0,s>1&&e._writev){t.pendingcb-=s-1;let r=t.allNoop?D:e=>{for(let t=a;t<n.length;++t)n[t].callback(e)},i=t.allNoop&&0===a?n:o(n,a);i.allBuffers=t.allBuffers,x(e,t,!0,t.length,i,"",r),M(t)}else{do{let{chunk:r,encoding:o,callback:s}=n[a];n[a++]=null,x(e,t,!1,i?1:r.length,r,o,s)}while(a<n.length&&!t.writing);a===n.length?M(t):a>256?(n.splice(0,a),t.bufferedIndex=0):t.bufferedIndex=a}t.bufferProcessing=!1}function V(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function $(e,t,n){V(t)&&(t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let n=!1;function r(r){if(n){R(e,null!=r?r:v());return}if(n=!0,t.pendingcb--,r){let n=t[k].splice(0);for(let e=0;e<n.length;e++)n[e](r);R(e,r,t.sync)}else V(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,i.nextTick(z,e,t))}t.sync=!0,t.pendingcb++;try{e._final(r)}catch(e){r(e)}t.sync=!1}(e,t))),0===t.pendingcb&&(n?(t.pendingcb++,i.nextTick((e,t)=>{V(t)?z(e,t):t.pendingcb--},e,t)):V(t)&&(t.pendingcb++,z(e,t))))}function z(e,t){t.pendingcb--,t.finished=!0;let n=t[k].splice(0);for(let e=0;e<n.length;e++)n[e]();if(e.emit("finish"),t.autoDestroy){let t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}P.prototype.getBuffer=function(){return o(this.buffered,this.bufferedIndex)},l(P.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),l(L,f,{__proto__:null,value:function(e){return!!a(this,e)||this===L&&e&&e._writableState instanceof P}}),L.prototype.pipe=function(){R(this,new S)},L.prototype.write=function(e,t,n){return!0===U(this,e,t,n)},L.prototype.cork=function(){this._writableState.corked++},L.prototype.uncork=function(){let e=this._writableState;e.corked&&(e.corked--,e.writing||H(this,e))},L.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=h(e)),!g.isEncoding(e))throw new N(e);return this._writableState.defaultEncoding=e,this},L.prototype._write=function(e,t,n){if(this._writev)this._writev([{chunk:e,encoding:t}],n);else throw new b("_write()")},L.prototype._writev=null,L.prototype.end=function(e,t,n){let r;let o=this._writableState;if("function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e){let n=U(this,e,t);n instanceof s&&(r=n)}return o.corked&&(o.corked=1,this.uncork()),r||(o.errored||o.ending?o.finished?r=new I("end"):o.destroyed&&(r=new A("end")):(o.ending=!0,$(this,o,!0),o.ended=!0)),"function"==typeof n&&(r||o.finished?i.nextTick(n,r):o[k].push(n)),this},c(L.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){let e=this._writableState;return!!e&&!1!==e.writable&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){let e=this._writableState;return!!e&&!e.destroyed&&!e.ending&&e.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(!1!==this._writableState.writable&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});let W=y.destroy;function G(){return void 0===r&&(r={}),r}L.prototype.destroy=function(e,t){let n=this._writableState;return!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[k].length)&&i.nextTick(j,n),W.call(this,e,t),this},L.prototype._undestroy=y.undestroy,L.prototype._destroy=function(e,t){t(e)},L.prototype[p.captureRejectionSymbol]=function(e){this.destroy(e)},L.fromWeb=function(e,t){return G().newStreamWritableFromWritableStream(e,t)},L.toWeb=function(e){return G().newWritableStreamFromStreamWritable(e)}},11150:(e,t,n)=>{"use strict";let{ArrayIsArray:r,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:o,ArrayPrototypeMap:s,NumberIsInteger:a,NumberIsNaN:l,NumberMAX_SAFE_INTEGER:c,NumberMIN_SAFE_INTEGER:u,NumberParseInt:h,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:f,String:p,StringPrototypeToUpperCase:m,StringPrototypeTrim:g}=n(19472),{hideStackFrames:y,codes:{ERR_SOCKET_BAD_PORT:_,ERR_INVALID_ARG_TYPE:E,ERR_INVALID_ARG_VALUE:T,ERR_OUT_OF_RANGE:w,ERR_UNKNOWN_SIGNAL:b}}=n(42782),{normalizeEncoding:v}=n(449),{isAsyncFunction:S,isArrayBufferView:A}=n(449).types,I={},C=/^[0-7]+$/,O=y((e,t,n=u,r=c)=>{if("number"!=typeof e)throw new E(t,"number",e);if(!a(e))throw new w(t,"an integer",e);if(e<n||e>r)throw new w(t,`>= ${n} && <= ${r}`,e)}),N=y((e,t,n=-2147483648,r=2147483647)=>{if("number"!=typeof e)throw new E(t,"number",e);if(!a(e))throw new w(t,"an integer",e);if(e<n||e>r)throw new w(t,`>= ${n} && <= ${r}`,e)}),R=y((e,t,n=!1)=>{if("number"!=typeof e)throw new E(t,"number",e);if(!a(e))throw new w(t,"an integer",e);let r=n?1:0;if(e<r||e>4294967295)throw new w(t,`>= ${r} && <= 4294967295`,e)});function D(e,t){if("string"!=typeof e)throw new E(t,"string",e)}let k=y((e,t,n)=>{if(!i(n,e))throw new T(t,e,"must be one of: "+o(s(n,e=>"string"==typeof e?`'${e}'`:p(e)),", "))});function P(e,t){if("boolean"!=typeof e)throw new E(t,"boolean",e)}function M(e,t,n){return null!=e&&d(e,t)?e[t]:n}let L=y((e,t,n=null)=>{let i=M(n,"allowArray",!1),o=M(n,"allowFunction",!1);if(!M(n,"nullable",!1)&&null===e||!i&&r(e)||"object"!=typeof e&&(!o||"function"!=typeof e))throw new E(t,"Object",e)}),U=y((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new E(t,"a dictionary",e)}),x=y((e,t,n=0)=>{if(!r(e))throw new E(t,"Array",e);if(e.length<n)throw new T(t,e,`must be longer than ${n}`)}),F=y((e,t="buffer")=>{if(!A(e))throw new E(t,["Buffer","TypedArray","DataView"],e)}),B=y((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new E(t,"AbortSignal",e)}),q=y((e,t)=>{if("function"!=typeof e)throw new E(t,"Function",e)}),Y=y((e,t)=>{if("function"!=typeof e||S(e))throw new E(t,"Function",e)}),j=y((e,t)=>{if(void 0!==e)throw new E(t,"undefined",e)}),H=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function V(e,t){if(void 0===e||!f(H,e))throw new T(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,n){if(void 0===e&&(e=n),"string"==typeof e){if(null===f(C,e))throw new T(t,e,"must be a 32-bit unsigned integer or an octal string");e=h(e,8)}return R(e,t),e},validateArray:x,validateStringArray:function(e,t){x(e,t);for(let n=0;n<e.length;n++)D(e[n],`${t}[${n}]`)},validateBooleanArray:function(e,t){x(e,t);for(let n=0;n<e.length;n++)P(e[n],`${t}[${n}]`)},validateAbortSignalArray:function(e,t){x(e,t);for(let n=0;n<e.length;n++){let r=e[n],i=`${t}[${n}]`;if(null==r)throw new E(i,"AbortSignal",r);B(r,i)}},validateBoolean:P,validateBuffer:F,validateDictionary:U,validateEncoding:function(e,t){let n=v(t),r=e.length;if("hex"===n&&r%2!=0)throw new T("encoding",t,`is invalid for data of length ${r}`)},validateFunction:q,validateInt32:N,validateInteger:O,validateNumber:function(e,t,n,r){if("number"!=typeof e)throw new E(t,"number",e);if(null!=n&&e<n||null!=r&&e>r||(null!=n||null!=r)&&l(e))throw new w(t,`${null!=n?`>= ${n}`:""}${null!=n&&null!=r?" && ":""}${null!=r?`<= ${r}`:""}`,e)},validateObject:L,validateOneOf:k,validatePlainFunction:Y,validatePort:function(e,t="Port",n=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===g(e).length||+e!=+e>>>0||e>65535||0===e&&!n)throw new _(t,e,n);return 0|e},validateSignalName:function(e,t="signal"){if(D(e,t),void 0===I[e]){if(void 0!==I[m(e)])throw new b(e+" (signals must use all capital letters)");throw new b(e)}},validateString:D,validateUint32:R,validateUndefined:j,validateUnion:function(e,t,n){if(!i(n,e))throw new E(t,`('${o(n,"|")}')`,e)},validateAbortSignal:B,validateLinkHeaderValue:function(e){if("string"==typeof e)return V(e,"hints"),e;if(r(e)){let t=e.length,n="";if(0===t)return n;for(let r=0;r<t;r++){let i=e[r];V(i,"hints"),n+=i,r!==t-1&&(n+=", ")}return n}throw new T("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},42782:(e,t,n)=>{"use strict";let{format:r,inspect:i}=n(13618),{AggregateError:o}=n(19472),s=globalThis.AggregateError||o,a=Symbol("kIsNodeError"),l=["string","function","number","object","Function","Object","boolean","bigint","symbol"],c=/^([A-Z][a-z0-9]*)+$/,u={};function h(e,t){if(!e)throw new u.ERR_INTERNAL_ASSERTION(t)}function d(e){let t="",n=e.length,r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function f(e,t,n){n||(n=Error);class i extends n{constructor(...n){super(function(e,t,n){if("function"==typeof t)return h(t.length<=n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${t.length}).`),t(...n);let i=(t.match(/%[dfijoOs]/g)||[]).length;return(h(i===n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${i}).`),0===n.length)?t:r(t,...n)}(e,t,n))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[a]=!0,u[e]=i}function p(e){let t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class m extends Error{constructor(e="The operation was aborted",t){if(void 0!==t&&"object"!=typeof t)throw new u.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}f("ERR_ASSERTION","%s",Error),f("ERR_INVALID_ARG_TYPE",(e,t,n)=>{h("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let r="The ";e.endsWith(" argument")?r+=`${e} `:r+=`"${e}" ${e.includes(".")?"property":"argument"} `,r+="must be ";let o=[],s=[],a=[];for(let e of t)h("string"==typeof e,"All expected entries have to be of type string"),l.includes(e)?o.push(e.toLowerCase()):c.test(e)?s.push(e):(h("object"!==e,'The value "object" should be written as "Object"'),a.push(e));if(s.length>0){let e=o.indexOf("object");-1!==e&&(o.splice(o,e,1),s.push("Object"))}if(o.length>0){switch(o.length){case 1:r+=`of type ${o[0]}`;break;case 2:r+=`one of type ${o[0]} or ${o[1]}`;break;default:{let e=o.pop();r+=`one of type ${o.join(", ")}, or ${e}`}}(s.length>0||a.length>0)&&(r+=" or ")}if(s.length>0){switch(s.length){case 1:r+=`an instance of ${s[0]}`;break;case 2:r+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let e=s.pop();r+=`an instance of ${s.join(", ")}, or ${e}`}}a.length>0&&(r+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(r+="an "),r+=`${a[0]}`;break;case 2:r+=`one of ${a[0]} or ${a[1]}`;break;default:{let e=a.pop();r+=`one of ${a.join(", ")}, or ${e}`}}if(null==n)r+=`. Received ${n}`;else if("function"==typeof n&&n.name)r+=`. Received function ${n.name}`;else if("object"==typeof n){var u;if(null!==(u=n.constructor)&&void 0!==u&&u.name)r+=`. Received an instance of ${n.constructor.name}`;else{let e=i(n,{depth:-1});r+=`. Received ${e}`}}else{let e=i(n,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),r+=`. Received type ${typeof n} (${e})`}return r},TypeError),f("ERR_INVALID_ARG_VALUE",(e,t,n="is invalid")=>{let r=i(t);r.length>128&&(r=r.slice(0,128)+"...");let o=e.includes(".")?"property":"argument";return`The ${o} '${e}' ${n}. Received ${r}`},TypeError),f("ERR_INVALID_RETURN_VALUE",(e,t,n)=>{var r;let i=null!=n&&null!==(r=n.constructor)&&void 0!==r&&r.name?`instance of ${n.constructor.name}`:`type ${typeof n}`;return`Expected ${e} to be returned from the "${t}" function but got ${i}.`},TypeError),f("ERR_MISSING_ARGS",(...e)=>{let t;h(e.length>0,"At least one arg needs to be specified");let n=e.length;switch(e=(Array.isArray(e)?e:[e]).map(e=>`"${e}"`).join(" or "),n){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{let n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}}return`${t} must be specified`},TypeError),f("ERR_OUT_OF_RANGE",(e,t,n)=>{let r;if(h(t,'Missing "range" argument'),Number.isInteger(n)&&Math.abs(n)>4294967296)r=d(String(n));else if("bigint"==typeof n){r=String(n);let e=BigInt(2)**BigInt(32);(n>e||n<-e)&&(r=d(r)),r+="n"}else r=i(n);return`The value of "${e}" is out of range. It must be ${t}. Received ${r}`},RangeError),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),f("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),f("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),f("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),f("ERR_STREAM_WRITE_AFTER_END","write after end",Error),f("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:m,aggregateTwoErrors:p(function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;let n=new s([t,e],t.message);return n.code=t.code,n}return e||t}),hideStackFrames:p,codes:u}},56832:(e,t,n)=>{"use strict";let r=n(76162);if(r&&"disable"===process.env.READABLE_STREAM){let t=r.promises;e.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,e.exports._isUint8Array=r._isUint8Array,e.exports.isDisturbed=r.isDisturbed,e.exports.isErrored=r.isErrored,e.exports.isReadable=r.isReadable,e.exports.Readable=r.Readable,e.exports.Writable=r.Writable,e.exports.Duplex=r.Duplex,e.exports.Transform=r.Transform,e.exports.PassThrough=r.PassThrough,e.exports.addAbortSignal=r.addAbortSignal,e.exports.finished=r.finished,e.exports.destroy=r.destroy,e.exports.pipeline=r.pipeline,e.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get:()=>t}),e.exports.Stream=r.Stream}else{let t=n(52900),r=n(68290),i=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=i,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get:()=>r}),e.exports.Stream=t.Stream}e.exports.default=e.exports},19472:e=>{"use strict";class t extends Error{constructor(e){if(!Array.isArray(e))throw TypeError(`Expected input to be an Array, got ${typeof e}`);let t="";for(let n=0;n<e.length;n++)t+=`    ${e[n].stack}
`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:t,ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,n)=>e.slice(t,n),Error,FunctionPrototypeCall:(e,t,...n)=>e.call(t,...n),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,n)=>Object.defineProperty(e,t,n),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,n)=>e.then(t,n),PromiseReject:e=>Promise.reject(e),PromiseResolve:e=>Promise.resolve(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,n)=>e.slice(t,n),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(e,t,n)=>e.set(t,n),Boolean,Uint8Array}},449:(e,t,n)=>{"use strict";let r=n(78893),{format:i,inspect:o}=n(13618),{codes:{ERR_INVALID_ARG_TYPE:s}}=n(42782),{kResistStopPropagation:a,AggregateError:l,SymbolDispose:c}=n(19472),AbortSignal=globalThis.AbortSignal||n(54769).AbortSignal,u=globalThis.AbortController||n(54769).AbortController,h=Object.getPrototypeOf(async function(){}).constructor,d=globalThis.Blob||r.Blob,f=(e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new s(t,"AbortSignal",e)},p=(e,t)=>{if("function"!=typeof e)throw new s(t,"Function",e)};e.exports={AggregateError:l,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...n){t||(t=!0,e.apply(this,n))}},createDeferredPromise:function(){let e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}},promisify:e=>new Promise((t,n)=>{e((e,...r)=>e?n(e):t(...r))}),debuglog:()=>function(){},format:i,inspect:o,types:{isAsyncFunction:e=>e instanceof h,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:void 0!==d?function(e){return e instanceof d}:function(e){return!1},deprecate:(e,t)=>e,addAbortListener:n(17702).addAbortListener||function(e,t){let n;if(void 0===e)throw new s("signal","AbortSignal",e);return f(e,"signal"),p(t,"listener"),e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0,[a]:!0}),n=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[c](){var e;null===(e=n)||void 0===e||e()}}},AbortSignalAny:AbortSignal.any||function(e){if(1===e.length)return e[0];let t=new u,n=()=>t.abort();return e.forEach(e=>{f(e,"signals"),e.addEventListener("abort",n,{once:!0})}),t.signal.addEventListener("abort",()=>{e.forEach(e=>e.removeEventListener("abort",n))},{once:!0}),t.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},13618:e=>{"use strict";e.exports={format:(e,...t)=>e.replace(/%([sdifj])/g,function(...[e,n]){let r=t.shift();if("f"===n)return r.toFixed(6);if("j"===n)return JSON.stringify(r);if("s"!==n||"object"!=typeof r)return r.toString();{let e=r.constructor!==Object?r.constructor.name:"";return`${e} {}`.trim()}}),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":if(isNaN(e))return"NaN";if(Object.is(e,-0))return String(e);return e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}},52900:(e,t,n)=>{"use strict";let{Buffer:r}=n(78893),{ObjectDefineProperty:i,ObjectKeys:o,ReflectApply:s}=n(19472),{promisify:{custom:a}}=n(449),{streamReturningOperators:l,promiseReturningOperators:c}=n(55714),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=n(42782),h=n(61442),{setDefaultHighWaterMark:d,getDefaultHighWaterMark:f}=n(70301),{pipeline:p}=n(97038),{destroyer:m}=n(63346),g=n(90920),y=n(68290),_=n(95975),E=e.exports=n(80899).Stream;for(let e of(E.isDestroyed=_.isDestroyed,E.isDisturbed=_.isDisturbed,E.isErrored=_.isErrored,E.isReadable=_.isReadable,E.isWritable=_.isWritable,E.Readable=n(36412),o(l))){let t=l[e];function T(...e){if(new.target)throw u();return E.Readable.from(s(t,this,e))}i(T,"name",{__proto__:null,value:t.name}),i(T,"length",{__proto__:null,value:t.length}),i(E.Readable.prototype,e,{__proto__:null,value:T,enumerable:!1,configurable:!0,writable:!0})}for(let e of o(c)){let t=c[e];function w(...e){if(new.target)throw u();return s(t,this,e)}i(w,"name",{__proto__:null,value:t.name}),i(w,"length",{__proto__:null,value:t.length}),i(E.Readable.prototype,e,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}E.Writable=n(67973),E.Duplex=n(6011),E.Transform=n(70466),E.PassThrough=n(63994),E.pipeline=p;let{addAbortSignal:b}=n(81799);E.addAbortSignal=b,E.finished=g,E.destroy=m,E.compose=h,E.setDefaultHighWaterMark=d,E.getDefaultHighWaterMark=f,i(E,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>y}),i(p,a,{__proto__:null,enumerable:!0,get:()=>y.pipeline}),i(g,a,{__proto__:null,enumerable:!0,get:()=>y.finished}),E.Stream=E,E._isUint8Array=function(e){return e instanceof Uint8Array},E._uint8ArrayToBuffer=function(e){return r.from(e.buffer,e.byteOffset,e.byteLength)}},68290:(e,t,n)=>{"use strict";let{ArrayPrototypePop:r,Promise:i}=n(19472),{isIterable:o,isNodeStream:s,isWebStream:a}=n(95975),{pipelineImpl:l}=n(97038),{finished:c}=n(90920);n(52900),e.exports={finished:c,pipeline:function(...e){return new i((t,n)=>{let i,c;let u=e[e.length-1];if(u&&"object"==typeof u&&!s(u)&&!o(u)&&!a(u)){let t=r(e);i=t.signal,c=t.end}l(e,(e,r)=>{e?n(e):t(r)},{signal:i,end:c})})}}},19385:(e,t,n)=>{"use strict";e.exports=n(33828)()},33828:e=>{"use strict";function t(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}e.exports=function(e){if((e=e||{}).circles)return function(e){let n=[],r=[],i=new Map;if(i.set(Date,e=>new Date(e)),i.set(Map,(e,t)=>new Map(s(Array.from(e),t))),i.set(Set,(e,t)=>new Set(s(Array.from(e),t))),e.constructorHandlers)for(let t of e.constructorHandlers)i.set(t[0],t[1]);let o=null;return e.proto?function e(a){if("object"!=typeof a||null===a)return a;if(Array.isArray(a))return s(a,e);if(a.constructor!==Object&&(o=i.get(a.constructor)))return o(a,e);let l={};for(let s in n.push(a),r.push(l),a){let c=a[s];if("object"!=typeof c||null===c)l[s]=c;else if(c.constructor!==Object&&(o=i.get(c.constructor)))l[s]=o(c,e);else if(ArrayBuffer.isView(c))l[s]=t(c);else{let t=n.indexOf(c);-1!==t?l[s]=r[t]:l[s]=e(c)}}return n.pop(),r.pop(),l}:function e(a){if("object"!=typeof a||null===a)return a;if(Array.isArray(a))return s(a,e);if(a.constructor!==Object&&(o=i.get(a.constructor)))return o(a,e);let l={};for(let s in n.push(a),r.push(l),a){if(!1===Object.hasOwnProperty.call(a,s))continue;let c=a[s];if("object"!=typeof c||null===c)l[s]=c;else if(c.constructor!==Object&&(o=i.get(c.constructor)))l[s]=o(c,e);else if(ArrayBuffer.isView(c))l[s]=t(c);else{let t=n.indexOf(c);-1!==t?l[s]=r[t]:l[s]=e(c)}}return n.pop(),r.pop(),l};function s(e,s){let a=Object.keys(e),l=Array(a.length);for(let c=0;c<a.length;c++){let u=a[c],h=e[u];if("object"!=typeof h||null===h)l[u]=h;else if(h.constructor!==Object&&(o=i.get(h.constructor)))l[u]=o(h,s);else if(ArrayBuffer.isView(h))l[u]=t(h);else{let e=n.indexOf(h);-1!==e?l[u]=r[e]:l[u]=s(h)}}return l}}(e);let n=new Map;if(n.set(Date,e=>new Date(e)),n.set(Map,(e,t)=>new Map(i(Array.from(e),t))),n.set(Set,(e,t)=>new Set(i(Array.from(e),t))),e.constructorHandlers)for(let t of e.constructorHandlers)n.set(t[0],t[1]);let r=null;return e.proto?function e(o){if("object"!=typeof o||null===o)return o;if(Array.isArray(o))return i(o,e);if(o.constructor!==Object&&(r=n.get(o.constructor)))return r(o,e);let s={};for(let i in o){let a=o[i];"object"!=typeof a||null===a?s[i]=a:a.constructor!==Object&&(r=n.get(a.constructor))?s[i]=r(a,e):ArrayBuffer.isView(a)?s[i]=t(a):s[i]=e(a)}return s}:function e(o){if("object"!=typeof o||null===o)return o;if(Array.isArray(o))return i(o,e);if(o.constructor!==Object&&(r=n.get(o.constructor)))return r(o,e);let s={};for(let i in o){if(!1===Object.hasOwnProperty.call(o,i))continue;let a=o[i];"object"!=typeof a||null===a?s[i]=a:a.constructor!==Object&&(r=n.get(a.constructor))?s[i]=r(a,e):ArrayBuffer.isView(a)?s[i]=t(a):s[i]=e(a)}return s};function i(e,i){let o=Object.keys(e),s=Array(o.length);for(let a=0;a<o.length;a++){let l=o[a],c=e[l];"object"!=typeof c||null===c?s[l]=c:c.constructor!==Object&&(r=n.get(c.constructor))?s[l]=r(c,i):ArrayBuffer.isView(c)?s[l]=t(c):s[l]=i(c)}return s}}},18243:(e,t,n)=>{var r=n(78893),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,n){if("number"==typeof e)throw TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return r.SlowBuffer(e)}},57009:(e,t,n)=>{"use strict";var r,i=n(78893),o=i.Buffer,s={};for(r in i)i.hasOwnProperty(r)&&"SlowBuffer"!==r&&"Buffer"!==r&&(s[r]=i[r]);var a=s.Buffer={};for(r in o)o.hasOwnProperty(r)&&"allocUnsafe"!==r&&"allocUnsafeSlow"!==r&&(a[r]=o[r]);if(s.Buffer.prototype=o.prototype,a.from&&a.from!==Uint8Array.from||(a.from=function(e,t,n){if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return o(e,t,n)}),a.alloc||(a.alloc=function(e,t,n){if("number"!=typeof e)throw TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*1073741824)throw RangeError('The value "'+e+'" is invalid for option "size"');var r=o(e);return t&&0!==t.length?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r}),!s.kStringMaxLength)try{s.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(e){}!s.constants&&(s.constants={MAX_LENGTH:s.kMaxLength},s.kStringMaxLength&&(s.constants.MAX_STRING_LENGTH=s.kStringMaxLength)),e.exports=s},12925:(e,t,n)=>{"use strict";let r=Symbol("SemVer ANY");class i{static get ANY(){return r}constructor(e,t){if(t=o(t),e instanceof i){if(!!t.loose===e.loose)return e;e=e.value}c("comparator",e=e.trim().split(/\s+/).join(" "),t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){let t=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],n=e.match(t);if(!n)throw TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new u(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new h(e.value,t).test(this.value):""===e.operator?""===e.value||new h(this.value,t).test(e.semver):!((t=o(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">"))}}e.exports=i;let o=n(78949),{safeRe:s,t:a}=n(81520),l=n(43978),c=n(1410),u=n(28871),h=n(88889)},88889:(e,t,n)=>{"use strict";let r=/\s+/g;class i{constructor(e,t){if(t=s(t),e instanceof i){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;return new i(e.raw,t)}if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(r," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let e=this.set[0];if(this.set=this.set.filter(e=>!y(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1){for(let e of this.set)if(1===e.length&&_(e[0])){this.set=[e];break}}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,n=o.get(t);if(n)return n;let r=this.options.loose,i=r?u[h.HYPHENRANGELOOSE]:u[h.HYPHENRANGE];l("hyphen replace",e=e.replace(i,R(this.options.includePrerelease))),l("comparator trim",e=e.replace(u[h.COMPARATORTRIM],d)),l("tilde trim",e=e.replace(u[h.TILDETRIM],f)),l("caret trim",e=e.replace(u[h.CARETTRIM],p));let s=e.split(" ").map(e=>T(e,this.options)).join(" ").split(/\s+/).map(e=>N(e,this.options));r&&(s=s.filter(e=>(l("loose invalid filter",e,this.options),!!e.match(u[h.COMPARATORLOOSE])))),l("range list",s);let c=new Map;for(let e of s.map(e=>new a(e,this.options))){if(y(e))return[e];c.set(e.value,e)}c.size>1&&c.has("")&&c.delete("");let _=[...c.values()];return o.set(t,_),_}intersects(e,t){if(!(e instanceof i))throw TypeError("a Range is required");return this.set.some(n=>E(n,t)&&e.set.some(e=>E(e,t)&&n.every(n=>e.every(e=>n.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(D(this.set[t],e,this.options))return!0;return!1}}e.exports=i;let o=new(n(50241)),s=n(78949),a=n(12925),l=n(1410),c=n(28871),{safeRe:u,t:h,comparatorTrimReplace:d,tildeTrimReplace:f,caretTrimReplace:p}=n(81520),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=n(73651),y=e=>"<0.0.0-0"===e.value,_=e=>""===e.value,E=(e,t)=>{let n=!0,r=e.slice(),i=r.pop();for(;n&&r.length;)n=r.every(e=>i.intersects(e,t)),i=r.pop();return n},T=(e,t)=>(l("comp",e=e.replace(u[h.BUILD],""),t),l("caret",e=S(e,t)),l("tildes",e=b(e,t)),l("xrange",e=I(e,t)),l("stars",e=O(e,t)),e),w=e=>!e||"x"===e.toLowerCase()||"*"===e,b=(e,t)=>e.trim().split(/\s+/).map(e=>v(e,t)).join(" "),v=(e,t)=>{let n=t.loose?u[h.TILDELOOSE]:u[h.TILDE];return e.replace(n,(t,n,r,i,o)=>{let s;return l("tilde",e,t,n,r,i,o),w(n)?s="":w(r)?s=`>=${n}.0.0 <${+n+1}.0.0-0`:w(i)?s=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:o?(l("replaceTilde pr",o),s=`>=${n}.${r}.${i}-${o} <${n}.${+r+1}.0-0`):s=`>=${n}.${r}.${i} <${n}.${+r+1}.0-0`,l("tilde return",s),s})},S=(e,t)=>e.trim().split(/\s+/).map(e=>A(e,t)).join(" "),A=(e,t)=>{l("caret",e,t);let n=t.loose?u[h.CARETLOOSE]:u[h.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(t,n,i,o,s)=>{let a;return l("caret",e,t,n,i,o,s),w(n)?a="":w(i)?a=`>=${n}.0.0${r} <${+n+1}.0.0-0`:w(o)?a="0"===n?`>=${n}.${i}.0${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.0${r} <${+n+1}.0.0-0`:s?(l("replaceCaret pr",s),a="0"===n?"0"===i?`>=${n}.${i}.${o}-${s} <${n}.${i}.${+o+1}-0`:`>=${n}.${i}.${o}-${s} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${o}-${s} <${+n+1}.0.0-0`):(l("no pr"),a="0"===n?"0"===i?`>=${n}.${i}.${o}${r} <${n}.${i}.${+o+1}-0`:`>=${n}.${i}.${o}${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${o} <${+n+1}.0.0-0`),l("caret return",a),a})},I=(e,t)=>(l("replaceXRanges",e,t),e.split(/\s+/).map(e=>C(e,t)).join(" ")),C=(e,t)=>{e=e.trim();let n=t.loose?u[h.XRANGELOOSE]:u[h.XRANGE];return e.replace(n,(n,r,i,o,s,a)=>{l("xRange",e,n,r,i,o,s,a);let c=w(i),u=c||w(o),h=u||w(s);return"="===r&&h&&(r=""),a=t.includePrerelease?"-0":"",c?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&h?(u&&(o=0),s=0,">"===r?(r=">=",u?(i=+i+1,o=0):o=+o+1,s=0):"<="===r&&(r="<",u?i=+i+1:o=+o+1),"<"===r&&(a="-0"),n=`${r+i}.${o}.${s}${a}`):u?n=`>=${i}.0.0${a} <${+i+1}.0.0-0`:h&&(n=`>=${i}.${o}.0${a} <${i}.${+o+1}.0-0`),l("xRange return",n),n})},O=(e,t)=>(l("replaceStars",e,t),e.trim().replace(u[h.STAR],"")),N=(e,t)=>(l("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?h.GTE0PRE:h.GTE0],"")),R=e=>(t,n,r,i,o,s,a,l,c,u,h,d)=>(n=w(r)?"":w(i)?`>=${r}.0.0${e?"-0":""}`:w(o)?`>=${r}.${i}.0${e?"-0":""}`:s?`>=${n}`:`>=${n}${e?"-0":""}`,l=w(c)?"":w(u)?`<${+c+1}.0.0-0`:w(h)?`<${c}.${+u+1}.0-0`:d?`<=${c}.${u}.${h}-${d}`:e?`<${c}.${u}.${+h+1}-0`:`<=${l}`,`${n} ${l}`.trim()),D=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(l(e[n].semver),e[n].semver!==a.ANY&&e[n].semver.prerelease.length>0){let r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},28871:(e,t,n)=>{"use strict";let r=n(1410),{MAX_LENGTH:i,MAX_SAFE_INTEGER:o}=n(73651),{safeRe:s,t:a}=n(81520),l=n(78949),{compareIdentifiers:c}=n(88178);class u{constructor(e,t){if(t=l(t),e instanceof u){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i)throw TypeError(`version is longer than ${i} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?s[a.LOOSE]:s[a.FULL]);if(!n)throw TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<o)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return(e instanceof u||(e=new u(e,this.options)),this.major<e.major)?-1:this.major>e.major?1:this.minor<e.minor?-1:this.minor>e.minor?1:this.patch<e.patch?-1:this.patch>e.patch?1:0}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return -1;if(n===i)continue;else return c(n,i)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{let n=this.build[t],i=e.build[t];if(r("build compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return -1;if(n===i)continue;else return c(n,i)}while(++t)}inc(e,t,n){if(e.startsWith("pre")){if(!t&&!1===n)throw Error("invalid increment argument: identifier is empty");if(t){let e=`-${t}`.match(this.options.loose?s[a.PRERELEASELOOSE]:s[a.PRERELEASE]);if(!e||e[1]!==t)throw Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"release":if(0===this.prerelease.length)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let e=Number(n)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},62485:(e,t,n)=>{"use strict";let r=n(48242);e.exports=(e,t)=>{let n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},43978:(e,t,n)=>{"use strict";let r=n(58884),i=n(28305),o=n(58368),s=n(76483),a=n(89673),l=n(94106);e.exports=(e,t,n,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,c);case"!=":return i(e,n,c);case">":return o(e,n,c);case">=":return s(e,n,c);case"<":return a(e,n,c);case"<=":return l(e,n,c);default:throw TypeError(`Invalid operator: ${t}`)}}},39150:(e,t,n)=>{"use strict";let r=n(28871),i=n(48242),{safeRe:o,t:s}=n(81520);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){let r;let i=t.includePrerelease?o[s.COERCERTLFULL]:o[s.COERCERTL];for(;(r=i.exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&r.index+r[0].length===n.index+n[0].length||(n=r),i.lastIndex=r.index+r[1].length+r[2].length;i.lastIndex=-1}else n=e.match(t.includePrerelease?o[s.COERCEFULL]:o[s.COERCE]);if(null===n)return null;let a=n[2],l=n[3]||"0",c=n[4]||"0",u=t.includePrerelease&&n[5]?`-${n[5]}`:"",h=t.includePrerelease&&n[6]?`+${n[6]}`:"";return i(`${a}.${l}.${c}${u}${h}`,t)}},84472:(e,t,n)=>{"use strict";let r=n(28871);e.exports=(e,t,n)=>{let i=new r(e,n),o=new r(t,n);return i.compare(o)||i.compareBuild(o)}},98136:(e,t,n)=>{"use strict";let r=n(51586);e.exports=(e,t)=>r(e,t,!0)},51586:(e,t,n)=>{"use strict";let r=n(28871);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},10906:(e,t,n)=>{"use strict";let r=n(48242);e.exports=(e,t)=>{let n=r(e,null,!0),i=r(t,null,!0),o=n.compare(i);if(0===o)return null;let s=o>0,a=s?n:i,l=s?i:n,c=!!a.prerelease.length;if(l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(0===l.compareMain(a))return l.minor&&!l.patch?"minor":"patch"}let u=c?"pre":"";return n.major!==i.major?u+"major":n.minor!==i.minor?u+"minor":n.patch!==i.patch?u+"patch":"prerelease"}},58884:(e,t,n)=>{"use strict";let r=n(51586);e.exports=(e,t,n)=>0===r(e,t,n)},58368:(e,t,n)=>{"use strict";let r=n(51586);e.exports=(e,t,n)=>r(e,t,n)>0},76483:(e,t,n)=>{"use strict";let r=n(51586);e.exports=(e,t,n)=>r(e,t,n)>=0},44580:(e,t,n)=>{"use strict";let r=n(28871);e.exports=(e,t,n,i,o)=>{"string"==typeof n&&(o=i,i=n,n=void 0);try{return new r(e instanceof r?e.version:e,n).inc(t,i,o).version}catch(e){return null}}},89673:(e,t,n)=>{"use strict";let r=n(51586);e.exports=(e,t,n)=>0>r(e,t,n)},94106:(e,t,n)=>{"use strict";let r=n(51586);e.exports=(e,t,n)=>0>=r(e,t,n)},31148:(e,t,n)=>{"use strict";let r=n(28871);e.exports=(e,t)=>new r(e,t).major},95662:(e,t,n)=>{"use strict";let r=n(28871);e.exports=(e,t)=>new r(e,t).minor},28305:(e,t,n)=>{"use strict";let r=n(51586);e.exports=(e,t,n)=>0!==r(e,t,n)},48242:(e,t,n)=>{"use strict";let r=n(28871);e.exports=(e,t,n=!1)=>{if(e instanceof r)return e;try{return new r(e,t)}catch(e){if(!n)return null;throw e}}},34234:(e,t,n)=>{"use strict";let r=n(28871);e.exports=(e,t)=>new r(e,t).patch},92606:(e,t,n)=>{"use strict";let r=n(48242);e.exports=(e,t)=>{let n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},92490:(e,t,n)=>{"use strict";let r=n(51586);e.exports=(e,t,n)=>r(t,e,n)},11302:(e,t,n)=>{"use strict";let r=n(84472);e.exports=(e,t)=>e.sort((e,n)=>r(n,e,t))},24520:(e,t,n)=>{"use strict";let r=n(88889);e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}},83975:(e,t,n)=>{"use strict";let r=n(84472);e.exports=(e,t)=>e.sort((e,n)=>r(e,n,t))},40628:(e,t,n)=>{"use strict";let r=n(48242);e.exports=(e,t)=>{let n=r(e,t);return n?n.version:null}},90799:(e,t,n)=>{"use strict";let r=n(81520),i=n(73651),o=n(28871),s=n(88178),a=n(48242),l=n(40628),c=n(62485),u=n(44580),h=n(10906),d=n(31148),f=n(95662),p=n(34234),m=n(92606),g=n(51586),y=n(92490),_=n(98136),E=n(84472),T=n(83975),w=n(11302),b=n(58368),v=n(89673),S=n(58884),A=n(28305),I=n(76483),C=n(94106),O=n(43978),N=n(39150),R=n(12925),D=n(88889),k=n(24520),P=n(19835),M=n(1446),L=n(75030),U=n(30091),x=n(16269),F=n(45400),B=n(45760),q=n(62884),Y=n(53225),j=n(86861),H=n(64550);e.exports={parse:a,valid:l,clean:c,inc:u,diff:h,major:d,minor:f,patch:p,prerelease:m,compare:g,rcompare:y,compareLoose:_,compareBuild:E,sort:T,rsort:w,gt:b,lt:v,eq:S,neq:A,gte:I,lte:C,cmp:O,coerce:N,Comparator:R,Range:D,satisfies:k,toComparators:P,maxSatisfying:M,minSatisfying:L,minVersion:U,validRange:x,outside:F,gtr:B,ltr:q,intersects:Y,simplifyRange:j,subset:H,SemVer:o,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},73651:e=>{"use strict";let t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},1410:e=>{"use strict";let t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},88178:e=>{"use strict";let t=/^[0-9]+$/,n=(e,n)=>{if("number"==typeof e&&"number"==typeof n)return e===n?0:e<n?-1:1;let r=t.test(e),i=t.test(n);return r&&i&&(e=+e,n=+n),e===n?0:r&&!i?-1:i&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},50241:e=>{"use strict";class t{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(void 0!==t)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){let e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}e.exports=t},78949:e=>{"use strict";let t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:n},81520:(e,t,n)=>{"use strict";let{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:o}=n(73651),s=n(1410),a=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],u=t.safeSrc=[],h=t.t={},d=0,f="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",o],[f,i]],m=e=>{for(let[t,n]of p)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e},g=(e,t,n)=>{let r=m(t),i=d++;s(e,i,t),h[e]=i,c[i]=t,u[i]=r,a[i]=new RegExp(t,n?"g":void 0),l[i]=new RegExp(r,n?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),g("MAINVERSION",`(${c[h.NUMERICIDENTIFIER]})\\.(${c[h.NUMERICIDENTIFIER]})\\.(${c[h.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${c[h.NUMERICIDENTIFIERLOOSE]})\\.(${c[h.NUMERICIDENTIFIERLOOSE]})\\.(${c[h.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${c[h.NONNUMERICIDENTIFIER]}|${c[h.NUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${c[h.NONNUMERICIDENTIFIER]}|${c[h.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASE",`(?:-(${c[h.PRERELEASEIDENTIFIER]}(?:\\.${c[h.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${c[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[h.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${f}+`),g("BUILD",`(?:\\+(${c[h.BUILDIDENTIFIER]}(?:\\.${c[h.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${c[h.MAINVERSION]}${c[h.PRERELEASE]}?${c[h.BUILD]}?`),g("FULL",`^${c[h.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${c[h.MAINVERSIONLOOSE]}${c[h.PRERELEASELOOSE]}?${c[h.BUILD]}?`),g("LOOSE",`^${c[h.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${c[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${c[h.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${c[h.XRANGEIDENTIFIER]})(?:\\.(${c[h.XRANGEIDENTIFIER]})(?:\\.(${c[h.XRANGEIDENTIFIER]})(?:${c[h.PRERELEASE]})?${c[h.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${c[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[h.XRANGEIDENTIFIERLOOSE]})(?:${c[h.PRERELEASELOOSE]})?${c[h.BUILD]}?)?)?`),g("XRANGE",`^${c[h.GTLT]}\\s*${c[h.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${c[h.GTLT]}\\s*${c[h.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),g("COERCE",`${c[h.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",c[h.COERCEPLAIN]+`(?:${c[h.PRERELEASE]})?`+`(?:${c[h.BUILD]})?`+"(?:$|[^\\d])"),g("COERCERTL",c[h.COERCE],!0),g("COERCERTLFULL",c[h.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${c[h.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${c[h.LONETILDE]}${c[h.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${c[h.LONETILDE]}${c[h.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${c[h.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${c[h.LONECARET]}${c[h.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${c[h.LONECARET]}${c[h.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${c[h.GTLT]}\\s*(${c[h.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${c[h.GTLT]}\\s*(${c[h.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${c[h.GTLT]}\\s*(${c[h.LOOSEPLAIN]}|${c[h.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${c[h.XRANGEPLAIN]})\\s+-\\s+(${c[h.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${c[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[h.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},45760:(e,t,n)=>{"use strict";let r=n(45400);e.exports=(e,t,n)=>r(e,t,">",n)},53225:(e,t,n)=>{"use strict";let r=n(88889);e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t,n))},62884:(e,t,n)=>{"use strict";let r=n(45400);e.exports=(e,t,n)=>r(e,t,"<",n)},1446:(e,t,n)=>{"use strict";let r=n(28871),i=n(88889);e.exports=(e,t,n)=>{let o=null,s=null,a=null;try{a=new i(t,n)}catch(e){return null}return e.forEach(e=>{a.test(e)&&(!o||-1===s.compare(e))&&(s=new r(o=e,n))}),o}},75030:(e,t,n)=>{"use strict";let r=n(28871),i=n(88889);e.exports=(e,t,n)=>{let o=null,s=null,a=null;try{a=new i(t,n)}catch(e){return null}return e.forEach(e=>{a.test(e)&&(!o||1===s.compare(e))&&(s=new r(o=e,n))}),o}},30091:(e,t,n)=>{"use strict";let r=n(28871),i=n(88889),o=n(58368);e.exports=(e,t)=>{e=new i(e,t);let n=new r("0.0.0");if(e.test(n)||(n=new r("0.0.0-0"),e.test(n)))return n;n=null;for(let t=0;t<e.set.length;++t){let i=e.set[t],s=null;i.forEach(e=>{let t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!s||o(t,s))&&(s=t);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${e.operator}`)}}),s&&(!n||o(n,s))&&(n=s)}return n&&e.test(n)?n:null}},45400:(e,t,n)=>{"use strict";let r=n(28871),i=n(12925),{ANY:o}=i,s=n(88889),a=n(24520),l=n(58368),c=n(89673),u=n(94106),h=n(76483);e.exports=(e,t,n,d)=>{let f,p,m,g,y;switch(e=new r(e,d),t=new s(t,d),n){case">":f=l,p=u,m=c,g=">",y=">=";break;case"<":f=c,p=h,m=l,g="<",y="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let n=0;n<t.set.length;++n){let r=t.set[n],s=null,a=null;if(r.forEach(e=>{e.semver===o&&(e=new i(">=0.0.0")),s=s||e,a=a||e,f(e.semver,s.semver,d)?s=e:m(e.semver,a.semver,d)&&(a=e)}),s.operator===g||s.operator===y||(!a.operator||a.operator===g)&&p(e,a.semver)||a.operator===y&&m(e,a.semver))return!1}return!0}},86861:(e,t,n)=>{"use strict";let r=n(24520),i=n(51586);e.exports=(e,t,n)=>{let o=[],s=null,a=null,l=e.sort((e,t)=>i(e,t,n));for(let e of l)r(e,t,n)?(a=e,s||(s=e)):(a&&o.push([s,a]),a=null,s=null);s&&o.push([s,null]);let c=[];for(let[e,t]of o)e===t?c.push(e):t||e!==l[0]?t?e===l[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");let u=c.join(" || "),h="string"==typeof t.raw?t.raw:String(t);return u.length<h.length?u:t}},64550:(e,t,n)=>{"use strict";let r=n(88889),i=n(12925),{ANY:o}=i,s=n(24520),a=n(51586),l=[new i(">=0.0.0-0")],c=[new i(">=0.0.0")],u=(e,t,n)=>{let r,i,u,f,p,m,g;if(e===t)return!0;if(1===e.length&&e[0].semver===o){if(1===t.length&&t[0].semver===o)return!0;e=n.includePrerelease?l:c}if(1===t.length&&t[0].semver===o){if(n.includePrerelease)return!0;t=c}let y=new Set;for(let t of e)">"===t.operator||">="===t.operator?r=h(r,t,n):"<"===t.operator||"<="===t.operator?i=d(i,t,n):y.add(t.semver);if(y.size>1||r&&i&&((u=a(r.semver,i.semver,n))>0||0===u&&(">="!==r.operator||"<="!==i.operator)))return null;for(let e of y){if(r&&!s(e,String(r),n)||i&&!s(e,String(i),n))return null;for(let r of t)if(!s(e,String(r),n))return!1;return!0}let _=!!i&&!n.includePrerelease&&!!i.semver.prerelease.length&&i.semver,E=!!r&&!n.includePrerelease&&!!r.semver.prerelease.length&&r.semver;for(let e of(_&&1===_.prerelease.length&&"<"===i.operator&&0===_.prerelease[0]&&(_=!1),t)){if(g=g||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,r){if(E&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===E.major&&e.semver.minor===E.minor&&e.semver.patch===E.patch&&(E=!1),">"===e.operator||">="===e.operator){if((f=h(r,e,n))===e&&f!==r)return!1}else if(">="===r.operator&&!s(r.semver,String(e),n))return!1}if(i){if(_&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===_.major&&e.semver.minor===_.minor&&e.semver.patch===_.patch&&(_=!1),"<"===e.operator||"<="===e.operator){if((p=d(i,e,n))===e&&p!==i)return!1}else if("<="===i.operator&&!s(i.semver,String(e),n))return!1}if(!e.operator&&(i||r)&&0!==u)return!1}return(!r||!m||!!i||0===u)&&(!i||!g||!!r||0===u)&&!E&&!_},h=(e,t,n)=>{if(!e)return t;let r=a(e.semver,t.semver,n);return r>0?e:r<0?t:">"===t.operator&&">="===e.operator?t:e},d=(e,t,n)=>{if(!e)return t;let r=a(e.semver,t.semver,n);return r<0?e:r>0?t:"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n={})=>{if(e===t)return!0;e=new r(e,n),t=new r(t,n);let i=!1;n:for(let r of e.set){for(let e of t.set){let t=u(r,e,n);if(i=i||null!==t,t)continue n}if(i)return!1}return!0}},19835:(e,t,n)=>{"use strict";let r=n(88889);e.exports=(e,t)=>new r(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},16269:(e,t,n)=>{"use strict";let r=n(88889);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}},81632:(e,t,n)=>{"use strict";var r=n(2749),i=n(6420),o=n(25995)(),s=n(86737),a=n(17445),l=r("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new a("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||l(t)!==t)throw new a("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,c=!0;if("length"in e&&s){var u=s(e,"length");u&&!u.configurable&&(r=!1),u&&!u.writable&&(c=!1)}return(r||c||!n)&&(o?i(e,"length",t,!0,!0):i(e,"length",t)),e}},59564:(e,t,n)=>{"use strict";var r=n(6420),i=n(25995)(),o=n(39038).functionsHaveConfigurableNames(),s=n(17445);e.exports=function(e,t){if("function"!=typeof e)throw new s("`fn` is not a function");var n=arguments.length>2&&!!arguments[2];return(!n||o)&&(i?r(e,"name",t,!0,!0):r(e,"name",t)),e}},24489:(e,t,n)=>{"use strict";var r=n(15678);e.exports=r.setPrototypeOf||null},80785:e=>{"use strict";e.exports="undefined"!=typeof Reflect&&Reflect.setPrototypeOf||null},31671:(e,t,n)=>{"use strict";var r=n(80785),i=n(24489),o=n(57952),s=n(17445);e.exports=r?function(e,t){if(r(e,t))return e;throw new s("Reflect.setPrototypeOf: failed to set [[Prototype]]")}:i||(o?function(e,t){return o(e,t),e}:null)},78950:(e,t,n)=>{var r;!function(){"use strict";var i={not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function o(e){return function(e,t){var n,r,s,a,l,c,u,h,d,f=1,p=e.length,m="";for(r=0;r<p;r++)if("string"==typeof e[r])m+=e[r];else if("object"==typeof e[r]){if((a=e[r]).keys)for(s=0,n=t[f];s<a.keys.length;s++){if(void 0==n)throw Error(o('[sprintf] Cannot access property "%s" of undefined value "%s"',a.keys[s],a.keys[s-1]));n=n[a.keys[s]]}else n=a.param_no?t[a.param_no]:t[f++];if(i.not_type.test(a.type)&&i.not_primitive.test(a.type)&&n instanceof Function&&(n=n()),i.numeric_arg.test(a.type)&&"number"!=typeof n&&isNaN(n))throw TypeError(o("[sprintf] expecting number but found %T",n));switch(i.number.test(a.type)&&(h=n>=0),a.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,a.width?parseInt(a.width):0);break;case"e":n=a.precision?parseFloat(n).toExponential(a.precision):parseFloat(n).toExponential();break;case"f":n=a.precision?parseFloat(n).toFixed(a.precision):parseFloat(n);break;case"g":n=a.precision?String(Number(n.toPrecision(a.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=a.precision?n.substring(0,a.precision):n;break;case"t":n=String(!!n),n=a.precision?n.substring(0,a.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=a.precision?n.substring(0,a.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=a.precision?n.substring(0,a.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}i.json.test(a.type)?m+=n:(i.number.test(a.type)&&(!h||a.sign)?(d=h?"+":"-",n=n.toString().replace(i.sign,"")):d="",c=a.pad_char?"0"===a.pad_char?"0":a.pad_char.charAt(1):" ",u=a.width-(d+n).length,l=a.width&&u>0?c.repeat(u):"",m+=a.align?d+n+l:"0"===c?d+l+n:l+d+n)}return m}(function(e){if(a[e])return a[e];for(var t,n=e,r=[],o=0;n;){if(null!==(t=i.text.exec(n)))r.push(t[0]);else if(null!==(t=i.modulo.exec(n)))r.push("%");else if(null!==(t=i.placeholder.exec(n))){if(t[2]){o|=1;var s=[],l=t[2],c=[];if(null!==(c=i.key.exec(l)))for(s.push(c[1]);""!==(l=l.substring(c[0].length));)if(null!==(c=i.key_access.exec(l)))s.push(c[1]);else if(null!==(c=i.index_access.exec(l)))s.push(c[1]);else throw SyntaxError("[sprintf] failed to parse named argument key");else throw SyntaxError("[sprintf] failed to parse named argument key");t[2]=s}else o|=2;if(3===o)throw Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}else throw SyntaxError("[sprintf] unexpected placeholder");n=n.substring(t[0].length)}return a[e]=r}(e),arguments)}function s(e,t){return o.apply(null,[e].concat(t||[]))}var a=Object.create(null);t.sprintf=o,t.vsprintf=s,"undefined"!=typeof window&&(window.sprintf=o,window.vsprintf=s,void 0!==(r=(function(){return{sprintf:o,vsprintf:s}}).call(t,n,t,e))&&(e.exports=r))}()},49880:(e,t,n)=>{"use strict";let r=n(35240);e.exports=(e,t)=>{t=void 0===t?1/0:t;let n=new Map,i=!1,o=!0;return e instanceof r.Server?e.on("secureConnection",s):e.on("connection",s),e.on("request",function(e,t){n.set(e.socket,n.get(e.socket)+1),t.once("finish",()=>{let t=n.get(e.socket)-1;n.set(e.socket,t),i&&0===t&&e.socket.end()})}),e.stop=function(r){setImmediate(()=>{i=!0,t<1/0&&setTimeout(l,t).unref(),e.close(e=>{r&&r(e,o)}),n.forEach(a)})},e._pendingSockets=n,e;function s(e){n.set(e,0),e.once("close",()=>n.delete(e))}function a(e,t){0===e&&t.end()}function l(){o=!1,n.forEach((e,t)=>t.end()),setImmediate(()=>{n.forEach((e,t)=>t.destroy())})}}},80985:(e,t,n)=>{"use strict";var r=n(18243).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=u,this.end=h,t=3;break;default:this.write=d,this.end=f;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if((192&t[0])!=128)return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,""}}(this,e,0);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){var t,n;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=s(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=s(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=s(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},22249:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(14403),i=n(58508);class o{constructor(e){var t;this.timeoutMillis=e,this.deferred=i.defer(),this.possibleTimeoutCause=null,this.isRejected=!1,this.promise=(t=this.deferred.promise,new Promise((n,i)=>{let o=setTimeout(()=>i(new r.TimeoutError),e);t.then(e=>{clearTimeout(o),n(e)}).catch(e=>{clearTimeout(o),i(e)})})).catch(e=>(e instanceof r.TimeoutError&&(e=new r.TimeoutError(this.possibleTimeoutCause?this.possibleTimeoutCause.message:"operation timed out for an unknown reason")),this.isRejected=!0,Promise.reject(e)))}abort(){this.reject(Error("aborted"))}reject(e){this.deferred.reject(e)}resolve(e){this.deferred.resolve(e)}}t.PendingOperation=o},53599:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(22249),i=n(42667),o=n(58508),s=n(17702),a=n(95346);class l{constructor(e){if(this.destroyed=!1,this.emitter=new s.EventEmitter,!(e=e||{}).create)throw Error("Tarn: opt.create function most be provided");if(!e.destroy)throw Error("Tarn: opt.destroy function most be provided");if("number"!=typeof e.min||e.min<0||e.min!==Math.round(e.min))throw Error("Tarn: opt.min must be an integer >= 0");if("number"!=typeof e.max||e.max<=0||e.max!==Math.round(e.max))throw Error("Tarn: opt.max must be an integer > 0");if(e.min>e.max)throw Error("Tarn: opt.max is smaller than opt.min");if(!o.checkOptionalTime(e.acquireTimeoutMillis))throw Error("Tarn: invalid opt.acquireTimeoutMillis "+JSON.stringify(e.acquireTimeoutMillis));if(!o.checkOptionalTime(e.createTimeoutMillis))throw Error("Tarn: invalid opt.createTimeoutMillis "+JSON.stringify(e.createTimeoutMillis));if(!o.checkOptionalTime(e.destroyTimeoutMillis))throw Error("Tarn: invalid opt.destroyTimeoutMillis "+JSON.stringify(e.destroyTimeoutMillis));if(!o.checkOptionalTime(e.idleTimeoutMillis))throw Error("Tarn: invalid opt.idleTimeoutMillis "+JSON.stringify(e.idleTimeoutMillis));if(!o.checkOptionalTime(e.reapIntervalMillis))throw Error("Tarn: invalid opt.reapIntervalMillis "+JSON.stringify(e.reapIntervalMillis));if(!o.checkOptionalTime(e.createRetryIntervalMillis))throw Error("Tarn: invalid opt.createRetryIntervalMillis "+JSON.stringify(e.createRetryIntervalMillis));let t={create:!0,validate:!0,destroy:!0,log:!0,min:!0,max:!0,acquireTimeoutMillis:!0,createTimeoutMillis:!0,destroyTimeoutMillis:!0,idleTimeoutMillis:!0,reapIntervalMillis:!0,createRetryIntervalMillis:!0,propagateCreateError:!0};for(let n of Object.keys(e))if(!t[n])throw Error(`Tarn: unsupported option opt.${n}`);this.creator=e.create,this.destroyer=e.destroy,this.validate="function"==typeof e.validate?e.validate:()=>!0,this.log=e.log||(()=>{}),this.acquireTimeoutMillis=e.acquireTimeoutMillis||3e4,this.createTimeoutMillis=e.createTimeoutMillis||3e4,this.destroyTimeoutMillis=e.destroyTimeoutMillis||5e3,this.idleTimeoutMillis=e.idleTimeoutMillis||3e4,this.reapIntervalMillis=e.reapIntervalMillis||1e3,this.createRetryIntervalMillis=e.createRetryIntervalMillis||200,this.propagateCreateError=!!e.propagateCreateError,this.min=e.min,this.max=e.max,this.used=[],this.free=[],this.pendingCreates=[],this.pendingAcquires=[],this.pendingDestroys=[],this.pendingValidations=[],this.destroyed=!1,this.interval=null,this.eventId=1}numUsed(){return this.used.length}numFree(){return this.free.length}numPendingAcquires(){return this.pendingAcquires.length}numPendingValidations(){return this.pendingValidations.length}numPendingCreates(){return this.pendingCreates.length}acquire(){let e=this.eventId++;this._executeEventHandlers("acquireRequest",e);let t=new r.PendingOperation(this.acquireTimeoutMillis);return this.pendingAcquires.push(t),t.promise=t.promise.then(t=>(this._executeEventHandlers("acquireSuccess",e,t),t)).catch(n=>(this._executeEventHandlers("acquireFail",e,n),c(this.pendingAcquires,t),Promise.reject(n))),this._tryAcquireOrCreate(),t}release(e){this._executeEventHandlers("release",e);for(let t=0,n=this.used.length;t<n;++t){let n=this.used[t];if(n.resource===e)return this.used.splice(t,1),this.free.push(n.resolve()),this._tryAcquireOrCreate(),!0}return!1}isEmpty(){return 0===[this.numFree(),this.numUsed(),this.numPendingAcquires(),this.numPendingValidations(),this.numPendingCreates()].reduce((e,t)=>e+t)}check(){let e=o.now(),t=[],n=this.min-this.used.length,r=this.free.length-n,i=0;this.free.forEach(n=>{o.duration(e,n.timestamp)>=this.idleTimeoutMillis&&i<r?(i++,this._destroy(n.resource)):t.push(n)}),this.free=t,this.isEmpty()&&this._stopReaping()}destroy(){let e=this.eventId++;return this._executeEventHandlers("poolDestroyRequest",e),this._stopReaping(),this.destroyed=!0,o.reflect(Promise.all(this.pendingCreates.map(e=>o.reflect(e.promise))).then(()=>new Promise((e,t)=>{if(0===this.numPendingValidations()){e();return}let n=setInterval(()=>{0===this.numPendingValidations()&&(a.clearInterval(n),e())},100)})).then(()=>Promise.all(this.used.map(e=>o.reflect(e.promise)))).then(()=>Promise.all(this.pendingAcquires.map(e=>(e.abort(),o.reflect(e.promise))))).then(()=>Promise.all(this.free.map(e=>o.reflect(this._destroy(e.resource))))).then(()=>Promise.all(this.pendingDestroys.map(e=>e.promise))).then(()=>{this.free=[],this.pendingAcquires=[]})).then(t=>(this._executeEventHandlers("poolDestroySuccess",e),this.emitter.removeAllListeners(),t))}on(e,t){this.emitter.on(e,t)}removeListener(e,t){this.emitter.removeListener(e,t)}removeAllListeners(e){this.emitter.removeAllListeners(e)}_tryAcquireOrCreate(){!this.destroyed&&(this._hasFreeResources()?this._doAcquire():this._shouldCreateMoreResources()&&this._doCreate())}_hasFreeResources(){return this.free.length>0}_doAcquire(){for(;this._canAcquire();){let e=this.pendingAcquires.shift(),t=this.free.pop();if(void 0===t||void 0===e){let e="this.free was empty while trying to acquire resource";throw this.log(`Tarn: ${e}`,"warn"),Error(`Internal error, should never happen. ${e}`)}this.pendingValidations.push(e),this.used.push(t);let n=new r.PendingOperation(this.acquireTimeoutMillis);e.promise.catch(e=>{n.abort()}),n.promise.catch(e=>(this.log("Tarn: resource validator threw an exception "+e.stack,"warn"),!1)).then(n=>{try{n&&!e.isRejected?(this._startReaping(),e.resolve(t.resource)):(c(this.used,t),n?this.free.push(t):(this._destroy(t.resource),setTimeout(()=>{this._tryAcquireOrCreate()},0)),e.isRejected||this.pendingAcquires.unshift(e))}finally{c(this.pendingValidations,e)}}),this._validateResource(t.resource).then(e=>{n.resolve(e)}).catch(e=>{n.reject(e)})}}_canAcquire(){return this.free.length>0&&this.pendingAcquires.length>0}_validateResource(e){try{return Promise.resolve(this.validate(e))}catch(e){return Promise.reject(e)}}_shouldCreateMoreResources(){return this.used.length+this.pendingCreates.length<this.max&&this.pendingCreates.length<this.pendingAcquires.length}_doCreate(){let e=this.pendingAcquires.slice();this._create().promise.then(()=>(this._tryAcquireOrCreate(),null)).catch(t=>{this.propagateCreateError&&0!==this.pendingAcquires.length&&this.pendingAcquires[0].reject(t),e.forEach(e=>{e.possibleTimeoutCause=t}),o.delay(this.createRetryIntervalMillis).then(()=>this._tryAcquireOrCreate())})}_create(){var e;let t=this.eventId++;this._executeEventHandlers("createRequest",t);let n=new r.PendingOperation(this.createTimeoutMillis);return n.promise=n.promise.catch(e=>{throw c(this.pendingCreates,n)&&this._executeEventHandlers("createFail",t,e),e}),this.pendingCreates.push(n),(e=this.creator,new Promise((t,n)=>{let r=(e,r)=>{e?n(e):t(r)};o.tryPromise(()=>e(r)).then(e=>{e&&t(e)}).catch(e=>{n(e)})})).then(e=>(n.isRejected?this.destroyer(e):(c(this.pendingCreates,n),this.free.push(new i.Resource(e)),n.resolve(e),this._executeEventHandlers("createSuccess",t,e)),null)).catch(e=>(n.isRejected||(c(this.pendingCreates,n)&&this._executeEventHandlers("createFail",t,e),n.reject(e)),null)),n}_destroy(e){let t=this.eventId++;this._executeEventHandlers("destroyRequest",t,e);let n=new r.PendingOperation(this.destroyTimeoutMillis);return Promise.resolve().then(()=>this.destroyer(e)).then(()=>{n.resolve(e)}).catch(e=>{n.reject(e)}),this.pendingDestroys.push(n),n.promise.then(n=>(this._executeEventHandlers("destroySuccess",t,e),n)).catch(n=>this._logDestroyerError(t,e,n)).then(e=>{let t=this.pendingDestroys.findIndex(e=>e===n);return this.pendingDestroys.splice(t,1),e})}_logDestroyerError(e,t,n){this._executeEventHandlers("destroyFail",e,t,n),this.log("Tarn: resource destroyer threw an exception "+n.stack,"warn")}_startReaping(){this.interval||(this._executeEventHandlers("startReaping"),this.interval=setInterval(()=>this.check(),this.reapIntervalMillis))}_stopReaping(){null!==this.interval&&(this._executeEventHandlers("stopReaping"),a.clearInterval(this.interval)),this.interval=null}_executeEventHandlers(e,...t){this.emitter.listeners(e).forEach(n=>{try{n(...t)}catch(t){this.log(`Tarn: event handler "${e}" threw an exception ${t.stack}`,"warn")}})}}function c(e,t){let n=e.indexOf(t);return -1!==n&&(e.splice(n,1),!0)}t.Pool=l},37127:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e){this._value=e.value,this._error=e.error}value(){return this._value}reason(){return this._error}isRejected(){return!!this._error}isFulfilled(){return!!this._value}}t.PromiseInspection=n},42667:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(58508);class i{constructor(e){this.resource=e,this.resource=e,this.timestamp=r.now(),this.deferred=r.defer()}get promise(){return this.deferred.promise}resolve(){return this.deferred.resolve(void 0),new i(this.resource)}}t.Resource=i},14403:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{}t.TimeoutError=n},95558:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(53599);t.Pool=r.Pool;let i=n(14403);t.TimeoutError=i.TimeoutError,e.exports={Pool:r.Pool,TimeoutError:i.TimeoutError}},58508:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(37127);function i(e){return"number"==typeof e&&e===Math.round(e)&&e>0}t.defer=function(){let e=null,t=null;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}},t.now=function(){return Date.now()},t.duration=function(e,t){return Math.abs(t-e)},t.checkOptionalTime=function(e){return void 0===e||i(e)},t.checkRequiredTime=i,t.delay=function(e){return new Promise(t=>setTimeout(t,e))},t.reflect=function(e){return e.then(e=>new r.PromiseInspection({value:e})).catch(e=>new r.PromiseInspection({error:e}))},t.tryPromise=function(e){try{let t=e();return Promise.resolve(t)}catch(e){return Promise.reject(e)}}},82646:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.writeToTrackingBuffer=function(e,t,i){e.writeUInt32LE(0),e.writeUInt32LE(r),e.writeUInt16LE(n.TXN_DESCRIPTOR),e.writeBuffer(t),e.writeUInt32LE(i);let o=e.data;return o.writeUInt32LE(o.length,0),e};let n={TXN_DESCRIPTOR:2},r=18},28176:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SQLServerStatementColumnEncryptionSetting=t.SQLServerEncryptionType=t.DescribeParameterEncryptionResultSet2=t.DescribeParameterEncryptionResultSet1=void 0;let n=function(e){return e[e.Deterministic=1]="Deterministic",e[e.Randomized=2]="Randomized",e[e.PlainText=0]="PlainText",e}({});t.SQLServerEncryptionType=n;let r=function(e){return e[e.KeyOrdinal=0]="KeyOrdinal",e[e.DbId=1]="DbId",e[e.KeyId=2]="KeyId",e[e.KeyVersion=3]="KeyVersion",e[e.KeyMdVersion=4]="KeyMdVersion",e[e.EncryptedKey=5]="EncryptedKey",e[e.ProviderName=6]="ProviderName",e[e.KeyPath=7]="KeyPath",e[e.KeyEncryptionAlgorithm=8]="KeyEncryptionAlgorithm",e}({});t.DescribeParameterEncryptionResultSet1=r;let i=function(e){return e[e.ParameterOrdinal=0]="ParameterOrdinal",e[e.ParameterName=1]="ParameterName",e[e.ColumnEncryptionAlgorithm=2]="ColumnEncryptionAlgorithm",e[e.ColumnEncrytionType=3]="ColumnEncrytionType",e[e.ColumnEncryptionKeyOrdinal=4]="ColumnEncryptionKeyOrdinal",e[e.NormalizationRuleVersion=5]="NormalizationRuleVersion",e}({});t.DescribeParameterEncryptionResultSet2=i;let o=function(e){return e[e.UseConnectionSetting=0]="UseConnectionSetting",e[e.Enabled=1]="Enabled",e[e.ResultSetOnly=2]="ResultSetOnly",e[e.Disabled=3]="Disabled",e}({});t.SQLServerStatementColumnEncryptionSetting=o},7345:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BulkLoadPayload=void 0;class n{constructor(e){this.bulkLoad=e,this.iterator=this.bulkLoad.rowToPacketTransform[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterator}toString(e=""){return e+"BulkLoad"}}t.BulkLoadPayload=n},769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(17702),i=function(e){return e&&e.__esModule?e:{default:e}}(n(24927)),o=n(76162),s=n(37902);let a={nullable:1,updateableReadWrite:4,nullableUnknown:32768},l={FINAL:0},c=Buffer.from([s.TYPE.ROW]),u=Buffer.from([16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),h=Buffer.from([0]);class d extends o.Transform{constructor(e){super({writableObjectMode:!0}),this.bulkLoad=e,this.mainOptions=e.options,this.columns=e.columns,this.columnMetadataWritten=!1}_transform(e,t,n){this.columnMetadataWritten||(this.push(this.bulkLoad.getColMetaData()),this.columnMetadataWritten=!0),this.push(c);for(let t=0;t<this.columns.length;t++){let r=this.columns[t],i=Array.isArray(e)?e[t]:e[r.objName];if(!this.bulkLoad.firstRowWritten)try{i=r.type.validate(i,r.collation)}catch(e){return n(e)}let o={length:r.length,scale:r.scale,precision:r.precision,value:i};if("Text"===r.type.name||"Image"===r.type.name||"NText"===r.type.name){if(null==i){this.push(h);continue}this.push(u)}for(let e of(this.push(r.type.generateParameterLength(o,this.mainOptions)),r.type.generateParameterData(o,this.mainOptions)))this.push(e)}process.nextTick(n)}_flush(e){this.push(this.bulkLoad.createDoneToken()),process.nextTick(e)}}class f extends r.EventEmitter{constructor(e,t,n,{checkConstraints:r=!1,fireTriggers:i=!1,keepNulls:o=!1,lockTable:s=!1,order:a={}},l){if("boolean"!=typeof r)throw TypeError('The "options.checkConstraints" property must be of type boolean.');if("boolean"!=typeof i)throw TypeError('The "options.fireTriggers" property must be of type boolean.');if("boolean"!=typeof o)throw TypeError('The "options.keepNulls" property must be of type boolean.');if("boolean"!=typeof s)throw TypeError('The "options.lockTable" property must be of type boolean.');if("object"!=typeof a||null===a)throw TypeError('The "options.order" property must be of type object.');for(let[e,t]of Object.entries(a))if("ASC"!==t&&"DESC"!==t)throw TypeError('The value of the "'+e+'" key in the "options.order" object must be either "ASC" or "DESC".');super(),this.error=void 0,this.canceled=!1,this.executionStarted=!1,this.collation=t,this.table=e,this.options=n,this.callback=l,this.columns=[],this.columnsByName={},this.firstRowWritten=!1,this.streamingMode=!1,this.rowToPacketTransform=new d(this),this.bulkOptions={checkConstraints:r,fireTriggers:i,keepNulls:o,lockTable:s,order:a}}addColumn(e,t,{output:n=!1,length:r,precision:i,scale:o,objName:s=e,nullable:a=!0}){if(this.firstRowWritten)throw Error("Columns cannot be added to bulk insert after the first row has been written.");if(this.executionStarted)throw Error("Columns cannot be added to bulk insert after execution has started.");let l={type:t,name:e,value:null,output:n,length:r,precision:i,scale:o,objName:s,nullable:a,collation:this.collation};(48&t.id)==32&&null==l.length&&t.resolveLength&&(l.length=t.resolveLength(l)),t.resolvePrecision&&null==l.precision&&(l.precision=t.resolvePrecision(l)),t.resolveScale&&null==l.scale&&(l.scale=t.resolveScale(l)),this.columns.push(l),this.columnsByName[e]=l}getOptionsSql(){let e=[];if(this.bulkOptions.checkConstraints&&e.push("CHECK_CONSTRAINTS"),this.bulkOptions.fireTriggers&&e.push("FIRE_TRIGGERS"),this.bulkOptions.keepNulls&&e.push("KEEP_NULLS"),this.bulkOptions.lockTable&&e.push("TABLOCK"),this.bulkOptions.order){let t=[];for(let[e,n]of Object.entries(this.bulkOptions.order))t.push(`${e} ${n}`);t.length&&e.push(`ORDER (${t.join(", ")})`)}return e.length>0?` WITH (${e.join(",")})`:""}getBulkInsertSql(){let e="insert bulk "+this.table+"(";for(let t=0,n=this.columns.length;t<n;t++){let n=this.columns[t];0!==t&&(e+=", "),e+="["+n.name+"] "+n.type.declaration(n)}return e+")"+this.getOptionsSql()}getTableCreationSql(){let e="CREATE TABLE "+this.table+"(\n";for(let t=0,n=this.columns.length;t<n;t++){let n=this.columns[t];0!==t&&(e+=",\n"),e+="["+n.name+"] "+n.type.declaration(n),void 0!==n.nullable&&(e+=" "+(n.nullable?"NULL":"NOT NULL"))}return e+"\n)"}getColMetaData(){let e=new i.default(100,null,!0);e.writeUInt8(s.TYPE.COLMETADATA),e.writeUInt16LE(this.columns.length);for(let t=0,n=this.columns.length;t<n;t++){let n=this.columns[t];this.options.tdsVersion<"7_2"?e.writeUInt16LE(0):e.writeUInt32LE(0);let r=a.updateableReadWrite;n.nullable?r|=a.nullable:void 0===n.nullable&&this.options.tdsVersion>="7_2"&&(r|=a.nullableUnknown),e.writeUInt16LE(r),e.writeBuffer(n.type.generateTypeInfo(n,this.options)),n.type.hasTableName&&e.writeUsVarchar(this.table,"ucs2"),e.writeBVarchar(n.name,"ucs2")}return e.data}setTimeout(e){this.timeout=e}createDoneToken(){let e=new i.default(this.options.tdsVersion<"7_2"?9:13);e.writeUInt8(s.TYPE.DONE);let t=l.FINAL;return e.writeUInt16LE(t),e.writeUInt16LE(0),e.writeUInt32LE(0),this.options.tdsVersion>="7_2"&&e.writeUInt32LE(0),e.data}cancel(){this.canceled||(this.canceled=!0,this.emit("cancel"))}}t.default=f,e.exports=f},34132:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codepageBySortId=t.codepageByLanguageId=t.Flags=t.Collation=void 0;let n={1025:"CP1256",1028:"CP950",1029:"CP1250",1030:"CP1252",1032:"CP1253",1033:"CP1252",1034:"CP1252",1035:"CP1252",1036:"CP1252",1037:"CP1255",1038:"CP1250",1039:"CP1252",1041:"CP932",1042:"CP949",1044:"CP1252",1045:"CP1250",1047:"CP1252",1048:"CP1250",1049:"CP1251",1050:"CP1250",1051:"CP1250",1052:"CP1250",1054:"CP874",1055:"CP1254",1056:"CP1256",1058:"CP1251",1060:"CP1250",1061:"CP1257",1062:"CP1257",1063:"CP1257",1065:"CP1256",1066:"CP1258",1068:"CP1254",1070:"CP1252",1071:"CP1251",1083:"CP1252",1087:"CP1251",1090:"CP1250",1091:"CP1254",1092:"CP1251",1106:"CP1252",1122:"CP1252",1133:"CP1251",1146:"CP1252",1148:"CP1252",1150:"CP1252",1152:"CP1256",1155:"CP1252",1157:"CP1251",1164:"CP1256",2052:"CP936",2074:"CP1250",2092:"CP1251",2107:"CP1252",2143:"CP1252",3076:"CP950",3082:"CP1252",3098:"CP1251",5124:"CP950",5146:"CP1250",8218:"CP1251",1031:"CP1252",1079:"CP1252"};t.codepageByLanguageId=n;let r={30:"CP437",31:"CP437",32:"CP437",33:"CP437",34:"CP437",40:"CP850",41:"CP850",42:"CP850",43:"CP850",44:"CP850",49:"CP850",51:"CP1252",52:"CP1252",53:"CP1252",54:"CP1252",55:"CP850",56:"CP850",57:"CP850",58:"CP850",59:"CP850",60:"CP850",61:"CP850",80:"CP1250",81:"CP1250",82:"CP1250",83:"CP1250",84:"CP1250",85:"CP1250",86:"CP1250",87:"CP1250",88:"CP1250",89:"CP1250",90:"CP1250",91:"CP1250",92:"CP1250",93:"CP1250",94:"CP1250",95:"CP1250",96:"CP1250",104:"CP1251",105:"CP1251",106:"CP1251",107:"CP1251",108:"CP1251",112:"CP1253",113:"CP1253",114:"CP1253",120:"CP1253",121:"CP1253",122:"CP1253",124:"CP1253",128:"CP1254",129:"CP1254",130:"CP1254",136:"CP1255",137:"CP1255",138:"CP1255",144:"CP1256",145:"CP1256",146:"CP1256",152:"CP1257",153:"CP1257",154:"CP1257",155:"CP1257",156:"CP1257",157:"CP1257",158:"CP1257",159:"CP1257",160:"CP1257",183:"CP1252",184:"CP1252",185:"CP1252",186:"CP1252"};t.codepageBySortId=r;let i={IGNORE_CASE:1,IGNORE_ACCENT:2,IGNORE_KANA:4,IGNORE_WIDTH:8,BINARY:16,BINARY2:32,UTF8:64};t.Flags=i;class o{static fromBuffer(e,t=0){let n=(15&e[t+2])<<16;n|=e[t+1]<<8,n|=e[t+0];let r=(15&e[t+3])<<4;return new this(n,r|=(240&e[t+2])>>>4,(240&e[t+3])>>>4,e[t+4])}constructor(e,t,o,s){if(this.buffer=void 0,this.lcid=e,this.flags=t,this.version=o,this.sortId=s,this.flags&i.UTF8)this.codepage="utf-8";else if(this.sortId)this.codepage=r[this.sortId];else{let e=65535&this.lcid;this.codepage=n[e]}}toBuffer(){return this.buffer||(this.buffer=Buffer.alloc(5),this.buffer[0]=255&this.lcid,this.buffer[1]=this.lcid>>>8&255,this.buffer[2]=this.lcid>>>16&15|(15&this.flags)<<4,this.buffer[3]=(240&this.flags)>>>4|(15&this.version)<<4,this.buffer[4]=255&this.sortId),this.buffer}}t.Collation=o},43276:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=j(n(84770)),i=j(n(19801)),o=Y(n(82452)),s=Y(n(98216)),a=j(n(80665)),l=j(n(9714)),c=n(76162),u=n(31153),h=j(n(769)),d=j(n(32005)),f=n(17702),p=n(60876),m=n(4274),g=n(88897),y=j(n(14166)),_=j(n(79409)),E=j(n(49489)),T=j(n(91920)),w=j(n(51532)),b=j(n(55276)),v=j(n(29070)),S=n(59889),A=n(43539),I=n(71790),C=n(35245),O=n(93624),N=n(27577),R=j(n(63640)),D=n(65856),k=n(46180),P=n(47258),M=n(7345),L=j(n(14941)),U=j(n(69150)),x=n(19337),F=n(17360),B=n(79302);function q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(q=function(e){return e?n:t})(e)}function Y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=q(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function j(e){return e&&e.__esModule?e:{default:e}}let H={NORMAL:0,REDIRECT:1,RETRY:2};class V extends f.EventEmitter{_cancelAfterRequestSent;constructor(e){let t;if(super(),"object"!=typeof e||null===e)throw TypeError('The "config" argument is required and must be of type Object.');if("string"!=typeof e.server)throw TypeError('The "config.server" property is required and must be of type string.');if(this.fedAuthRequired=!1,void 0!==e.authentication){if("object"!=typeof e.authentication||null===e.authentication)throw TypeError('The "config.authentication" property must be of type Object.');let n=e.authentication.type,r=void 0===e.authentication.options?{}:e.authentication.options;if("string"!=typeof n)throw TypeError('The "config.authentication.type" property must be of type string.');if("default"!==n&&"ntlm"!==n&&"azure-active-directory-password"!==n&&"azure-active-directory-access-token"!==n&&"azure-active-directory-msi-vm"!==n&&"azure-active-directory-msi-app-service"!==n&&"azure-active-directory-service-principal-secret"!==n&&"azure-active-directory-default"!==n)throw TypeError('The "type" property must one of "default", "ntlm", "azure-active-directory-password", "azure-active-directory-access-token", "azure-active-directory-default", "azure-active-directory-msi-vm" or "azure-active-directory-msi-app-service" or "azure-active-directory-service-principal-secret".');if("object"!=typeof r||null===r)throw TypeError('The "config.authentication.options" property must be of type object.');if("ntlm"===n){if("string"!=typeof r.domain)throw TypeError('The "config.authentication.options.domain" property must be of type string.');if(void 0!==r.userName&&"string"!=typeof r.userName)throw TypeError('The "config.authentication.options.userName" property must be of type string.');if(void 0!==r.password&&"string"!=typeof r.password)throw TypeError('The "config.authentication.options.password" property must be of type string.');t={type:"ntlm",options:{userName:r.userName,password:r.password,domain:r.domain&&r.domain.toUpperCase()}}}else if("azure-active-directory-password"===n){if("string"!=typeof r.clientId)throw TypeError('The "config.authentication.options.clientId" property must be of type string.');if(void 0!==r.userName&&"string"!=typeof r.userName)throw TypeError('The "config.authentication.options.userName" property must be of type string.');if(void 0!==r.password&&"string"!=typeof r.password)throw TypeError('The "config.authentication.options.password" property must be of type string.');if(void 0!==r.tenantId&&"string"!=typeof r.tenantId)throw TypeError('The "config.authentication.options.tenantId" property must be of type string.');t={type:"azure-active-directory-password",options:{userName:r.userName,password:r.password,tenantId:r.tenantId,clientId:r.clientId}}}else if("azure-active-directory-access-token"===n){if("string"!=typeof r.token)throw TypeError('The "config.authentication.options.token" property must be of type string.');t={type:"azure-active-directory-access-token",options:{token:r.token}}}else if("azure-active-directory-msi-vm"===n){if(void 0!==r.clientId&&"string"!=typeof r.clientId)throw TypeError('The "config.authentication.options.clientId" property must be of type string.');t={type:"azure-active-directory-msi-vm",options:{clientId:r.clientId}}}else if("azure-active-directory-default"===n){if(void 0!==r.clientId&&"string"!=typeof r.clientId)throw TypeError('The "config.authentication.options.clientId" property must be of type string.');t={type:"azure-active-directory-default",options:{clientId:r.clientId}}}else if("azure-active-directory-msi-app-service"===n){if(void 0!==r.clientId&&"string"!=typeof r.clientId)throw TypeError('The "config.authentication.options.clientId" property must be of type string.');t={type:"azure-active-directory-msi-app-service",options:{clientId:r.clientId}}}else if("azure-active-directory-service-principal-secret"===n){if("string"!=typeof r.clientId)throw TypeError('The "config.authentication.options.clientId" property must be of type string.');if("string"!=typeof r.clientSecret)throw TypeError('The "config.authentication.options.clientSecret" property must be of type string.');if("string"!=typeof r.tenantId)throw TypeError('The "config.authentication.options.tenantId" property must be of type string.');t={type:"azure-active-directory-service-principal-secret",options:{clientId:r.clientId,clientSecret:r.clientSecret,tenantId:r.tenantId}}}else{if(void 0!==r.userName&&"string"!=typeof r.userName)throw TypeError('The "config.authentication.options.userName" property must be of type string.');if(void 0!==r.password&&"string"!=typeof r.password)throw TypeError('The "config.authentication.options.password" property must be of type string.');t={type:"default",options:{userName:r.userName,password:r.password}}}}else t={type:"default",options:{userName:void 0,password:void 0}};if(this.config={server:e.server,authentication:t,options:{abortTransactionOnError:!1,appName:void 0,camelCaseColumns:!1,cancelTimeout:5e3,columnEncryptionKeyCacheTTL:72e5,columnEncryptionSetting:!1,columnNameReplacer:void 0,connectionRetryInterval:500,connectTimeout:15e3,connector:void 0,connectionIsolationLevel:A.ISOLATION_LEVEL.READ_COMMITTED,cryptoCredentialsDetails:{},database:void 0,datefirst:7,dateFormat:"mdy",debug:{data:!1,packet:!1,payload:!1,token:!1},enableAnsiNull:!0,enableAnsiNullDefault:!0,enableAnsiPadding:!0,enableAnsiWarnings:!0,enableArithAbort:!0,enableConcatNullYieldsNull:!0,enableCursorCloseOnCommit:null,enableImplicitTransactions:!1,enableNumericRoundabort:!1,enableQuotedIdentifier:!0,encrypt:!0,fallbackToDefaultDb:!1,encryptionKeyStoreProviders:void 0,instanceName:void 0,isolationLevel:A.ISOLATION_LEVEL.READ_COMMITTED,language:"us_english",localAddress:void 0,maxRetriesOnTransientErrors:3,multiSubnetFailover:!1,packetSize:4096,port:1433,readOnlyIntent:!1,requestTimeout:15e3,rowCollectionOnDone:!1,rowCollectionOnRequestCompletion:!1,serverName:void 0,serverSupportsColumnEncryption:!1,tdsVersion:"7_4",textsize:2147483647,trustedServerNameAE:void 0,trustServerCertificate:!1,useColumnNames:!1,useUTC:!0,workstationId:void 0,lowerCaseGuids:!1}},e.options){if(e.options.port&&e.options.instanceName)throw Error("Port and instanceName are mutually exclusive, but "+e.options.port+" and "+e.options.instanceName+" provided");if(void 0!==e.options.abortTransactionOnError){if("boolean"!=typeof e.options.abortTransactionOnError&&null!==e.options.abortTransactionOnError)throw TypeError('The "config.options.abortTransactionOnError" property must be of type string or null.');this.config.options.abortTransactionOnError=e.options.abortTransactionOnError}if(void 0!==e.options.appName){if("string"!=typeof e.options.appName)throw TypeError('The "config.options.appName" property must be of type string.');this.config.options.appName=e.options.appName}if(void 0!==e.options.camelCaseColumns){if("boolean"!=typeof e.options.camelCaseColumns)throw TypeError('The "config.options.camelCaseColumns" property must be of type boolean.');this.config.options.camelCaseColumns=e.options.camelCaseColumns}if(void 0!==e.options.cancelTimeout){if("number"!=typeof e.options.cancelTimeout)throw TypeError('The "config.options.cancelTimeout" property must be of type number.');this.config.options.cancelTimeout=e.options.cancelTimeout}if(e.options.columnNameReplacer){if("function"!=typeof e.options.columnNameReplacer)throw TypeError('The "config.options.cancelTimeout" property must be of type function.');this.config.options.columnNameReplacer=e.options.columnNameReplacer}if(void 0!==e.options.connectionIsolationLevel&&((0,A.assertValidIsolationLevel)(e.options.connectionIsolationLevel,"config.options.connectionIsolationLevel"),this.config.options.connectionIsolationLevel=e.options.connectionIsolationLevel),void 0!==e.options.connectTimeout){if("number"!=typeof e.options.connectTimeout)throw TypeError('The "config.options.connectTimeout" property must be of type number.');this.config.options.connectTimeout=e.options.connectTimeout}if(void 0!==e.options.connector){if("function"!=typeof e.options.connector)throw TypeError('The "config.options.connector" property must be a function.');this.config.options.connector=e.options.connector}if(void 0!==e.options.cryptoCredentialsDetails){if("object"!=typeof e.options.cryptoCredentialsDetails||null===e.options.cryptoCredentialsDetails)throw TypeError('The "config.options.cryptoCredentialsDetails" property must be of type Object.');this.config.options.cryptoCredentialsDetails=e.options.cryptoCredentialsDetails}if(void 0!==e.options.database){if("string"!=typeof e.options.database)throw TypeError('The "config.options.database" property must be of type string.');this.config.options.database=e.options.database}if(void 0!==e.options.datefirst){if("number"!=typeof e.options.datefirst&&null!==e.options.datefirst)throw TypeError('The "config.options.datefirst" property must be of type number.');if(null!==e.options.datefirst&&(e.options.datefirst<1||e.options.datefirst>7))throw RangeError('The "config.options.datefirst" property must be >= 1 and <= 7');this.config.options.datefirst=e.options.datefirst}if(void 0!==e.options.dateFormat){if("string"!=typeof e.options.dateFormat&&null!==e.options.dateFormat)throw TypeError('The "config.options.dateFormat" property must be of type string or null.');this.config.options.dateFormat=e.options.dateFormat}if(e.options.debug){if(void 0!==e.options.debug.data){if("boolean"!=typeof e.options.debug.data)throw TypeError('The "config.options.debug.data" property must be of type boolean.');this.config.options.debug.data=e.options.debug.data}if(void 0!==e.options.debug.packet){if("boolean"!=typeof e.options.debug.packet)throw TypeError('The "config.options.debug.packet" property must be of type boolean.');this.config.options.debug.packet=e.options.debug.packet}if(void 0!==e.options.debug.payload){if("boolean"!=typeof e.options.debug.payload)throw TypeError('The "config.options.debug.payload" property must be of type boolean.');this.config.options.debug.payload=e.options.debug.payload}if(void 0!==e.options.debug.token){if("boolean"!=typeof e.options.debug.token)throw TypeError('The "config.options.debug.token" property must be of type boolean.');this.config.options.debug.token=e.options.debug.token}}if(void 0!==e.options.enableAnsiNull){if("boolean"!=typeof e.options.enableAnsiNull&&null!==e.options.enableAnsiNull)throw TypeError('The "config.options.enableAnsiNull" property must be of type boolean or null.');this.config.options.enableAnsiNull=e.options.enableAnsiNull}if(void 0!==e.options.enableAnsiNullDefault){if("boolean"!=typeof e.options.enableAnsiNullDefault&&null!==e.options.enableAnsiNullDefault)throw TypeError('The "config.options.enableAnsiNullDefault" property must be of type boolean or null.');this.config.options.enableAnsiNullDefault=e.options.enableAnsiNullDefault}if(void 0!==e.options.enableAnsiPadding){if("boolean"!=typeof e.options.enableAnsiPadding&&null!==e.options.enableAnsiPadding)throw TypeError('The "config.options.enableAnsiPadding" property must be of type boolean or null.');this.config.options.enableAnsiPadding=e.options.enableAnsiPadding}if(void 0!==e.options.enableAnsiWarnings){if("boolean"!=typeof e.options.enableAnsiWarnings&&null!==e.options.enableAnsiWarnings)throw TypeError('The "config.options.enableAnsiWarnings" property must be of type boolean or null.');this.config.options.enableAnsiWarnings=e.options.enableAnsiWarnings}if(void 0!==e.options.enableArithAbort){if("boolean"!=typeof e.options.enableArithAbort&&null!==e.options.enableArithAbort)throw TypeError('The "config.options.enableArithAbort" property must be of type boolean or null.');this.config.options.enableArithAbort=e.options.enableArithAbort}if(void 0!==e.options.enableConcatNullYieldsNull){if("boolean"!=typeof e.options.enableConcatNullYieldsNull&&null!==e.options.enableConcatNullYieldsNull)throw TypeError('The "config.options.enableConcatNullYieldsNull" property must be of type boolean or null.');this.config.options.enableConcatNullYieldsNull=e.options.enableConcatNullYieldsNull}if(void 0!==e.options.enableCursorCloseOnCommit){if("boolean"!=typeof e.options.enableCursorCloseOnCommit&&null!==e.options.enableCursorCloseOnCommit)throw TypeError('The "config.options.enableCursorCloseOnCommit" property must be of type boolean or null.');this.config.options.enableCursorCloseOnCommit=e.options.enableCursorCloseOnCommit}if(void 0!==e.options.enableImplicitTransactions){if("boolean"!=typeof e.options.enableImplicitTransactions&&null!==e.options.enableImplicitTransactions)throw TypeError('The "config.options.enableImplicitTransactions" property must be of type boolean or null.');this.config.options.enableImplicitTransactions=e.options.enableImplicitTransactions}if(void 0!==e.options.enableNumericRoundabort){if("boolean"!=typeof e.options.enableNumericRoundabort&&null!==e.options.enableNumericRoundabort)throw TypeError('The "config.options.enableNumericRoundabort" property must be of type boolean or null.');this.config.options.enableNumericRoundabort=e.options.enableNumericRoundabort}if(void 0!==e.options.enableQuotedIdentifier){if("boolean"!=typeof e.options.enableQuotedIdentifier&&null!==e.options.enableQuotedIdentifier)throw TypeError('The "config.options.enableQuotedIdentifier" property must be of type boolean or null.');this.config.options.enableQuotedIdentifier=e.options.enableQuotedIdentifier}if(void 0!==e.options.encrypt){if("boolean"!=typeof e.options.encrypt&&"strict"!==e.options.encrypt)throw TypeError('The "encrypt" property must be set to "strict", or of type boolean.');this.config.options.encrypt=e.options.encrypt}if(void 0!==e.options.fallbackToDefaultDb){if("boolean"!=typeof e.options.fallbackToDefaultDb)throw TypeError('The "config.options.fallbackToDefaultDb" property must be of type boolean.');this.config.options.fallbackToDefaultDb=e.options.fallbackToDefaultDb}if(void 0!==e.options.instanceName){if("string"!=typeof e.options.instanceName)throw TypeError('The "config.options.instanceName" property must be of type string.');this.config.options.instanceName=e.options.instanceName,this.config.options.port=void 0}if(void 0!==e.options.isolationLevel&&((0,A.assertValidIsolationLevel)(e.options.isolationLevel,"config.options.isolationLevel"),this.config.options.isolationLevel=e.options.isolationLevel),void 0!==e.options.language){if("string"!=typeof e.options.language&&null!==e.options.language)throw TypeError('The "config.options.language" property must be of type string or null.');this.config.options.language=e.options.language}if(void 0!==e.options.localAddress){if("string"!=typeof e.options.localAddress)throw TypeError('The "config.options.localAddress" property must be of type string.');this.config.options.localAddress=e.options.localAddress}if(void 0!==e.options.multiSubnetFailover){if("boolean"!=typeof e.options.multiSubnetFailover)throw TypeError('The "config.options.multiSubnetFailover" property must be of type boolean.');this.config.options.multiSubnetFailover=e.options.multiSubnetFailover}if(void 0!==e.options.packetSize){if("number"!=typeof e.options.packetSize)throw TypeError('The "config.options.packetSize" property must be of type number.');this.config.options.packetSize=e.options.packetSize}if(void 0!==e.options.port){if("number"!=typeof e.options.port)throw TypeError('The "config.options.port" property must be of type number.');if(e.options.port<=0||e.options.port>=65536)throw RangeError('The "config.options.port" property must be > 0 and < 65536');this.config.options.port=e.options.port,this.config.options.instanceName=void 0}if(void 0!==e.options.readOnlyIntent){if("boolean"!=typeof e.options.readOnlyIntent)throw TypeError('The "config.options.readOnlyIntent" property must be of type boolean.');this.config.options.readOnlyIntent=e.options.readOnlyIntent}if(void 0!==e.options.requestTimeout){if("number"!=typeof e.options.requestTimeout)throw TypeError('The "config.options.requestTimeout" property must be of type number.');this.config.options.requestTimeout=e.options.requestTimeout}if(void 0!==e.options.maxRetriesOnTransientErrors){if("number"!=typeof e.options.maxRetriesOnTransientErrors)throw TypeError('The "config.options.maxRetriesOnTransientErrors" property must be of type number.');if(e.options.maxRetriesOnTransientErrors<0)throw TypeError('The "config.options.maxRetriesOnTransientErrors" property must be equal or greater than 0.');this.config.options.maxRetriesOnTransientErrors=e.options.maxRetriesOnTransientErrors}if(void 0!==e.options.connectionRetryInterval){if("number"!=typeof e.options.connectionRetryInterval)throw TypeError('The "config.options.connectionRetryInterval" property must be of type number.');if(e.options.connectionRetryInterval<=0)throw TypeError('The "config.options.connectionRetryInterval" property must be greater than 0.');this.config.options.connectionRetryInterval=e.options.connectionRetryInterval}if(void 0!==e.options.rowCollectionOnDone){if("boolean"!=typeof e.options.rowCollectionOnDone)throw TypeError('The "config.options.rowCollectionOnDone" property must be of type boolean.');this.config.options.rowCollectionOnDone=e.options.rowCollectionOnDone}if(void 0!==e.options.rowCollectionOnRequestCompletion){if("boolean"!=typeof e.options.rowCollectionOnRequestCompletion)throw TypeError('The "config.options.rowCollectionOnRequestCompletion" property must be of type boolean.');this.config.options.rowCollectionOnRequestCompletion=e.options.rowCollectionOnRequestCompletion}if(void 0!==e.options.tdsVersion){if("string"!=typeof e.options.tdsVersion)throw TypeError('The "config.options.tdsVersion" property must be of type string.');this.config.options.tdsVersion=e.options.tdsVersion}if(void 0!==e.options.textsize){if("number"!=typeof e.options.textsize&&null!==e.options.textsize)throw TypeError('The "config.options.textsize" property must be of type number or null.');if(e.options.textsize>2147483647)throw TypeError('The "config.options.textsize" can\'t be greater than 2147483647.');if(e.options.textsize<-1)throw TypeError('The "config.options.textsize" can\'t be smaller than -1.');this.config.options.textsize=0|e.options.textsize}if(void 0!==e.options.trustServerCertificate){if("boolean"!=typeof e.options.trustServerCertificate)throw TypeError('The "config.options.trustServerCertificate" property must be of type boolean.');this.config.options.trustServerCertificate=e.options.trustServerCertificate}if(void 0!==e.options.serverName){if("string"!=typeof e.options.serverName)throw TypeError('The "config.options.serverName" property must be of type string.');this.config.options.serverName=e.options.serverName}if(void 0!==e.options.useColumnNames){if("boolean"!=typeof e.options.useColumnNames)throw TypeError('The "config.options.useColumnNames" property must be of type boolean.');this.config.options.useColumnNames=e.options.useColumnNames}if(void 0!==e.options.useUTC){if("boolean"!=typeof e.options.useUTC)throw TypeError('The "config.options.useUTC" property must be of type boolean.');this.config.options.useUTC=e.options.useUTC}if(void 0!==e.options.workstationId){if("string"!=typeof e.options.workstationId)throw TypeError('The "config.options.workstationId" property must be of type string.');this.config.options.workstationId=e.options.workstationId}if(void 0!==e.options.lowerCaseGuids){if("boolean"!=typeof e.options.lowerCaseGuids)throw TypeError('The "config.options.lowerCaseGuids" property must be of type boolean.');this.config.options.lowerCaseGuids=e.options.lowerCaseGuids}}this.secureContextOptions=this.config.options.cryptoCredentialsDetails,void 0===this.secureContextOptions.secureOptions&&(this.secureContextOptions=Object.create(this.secureContextOptions,{secureOptions:{value:l.default.SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS}})),this.debug=this.createDebug(),this.inTransaction=!1,this.transactionDescriptors=[Buffer.from([0,0,0,0,0,0,0,0])],this.transactionDepth=0,this.isSqlBatch=!1,this.closed=!1,this.messageBuffer=Buffer.alloc(0),this.curTransientRetryCount=0,this.transientErrorLookup=new m.TransientErrorLookup,this.state=this.STATE.INITIALIZED,this._cancelAfterRequestSent=()=>{this.messageIo.sendMessage(g.TYPE.ATTENTION),this.createCancelTimer()}}connect(e){if(this.state!==this.STATE.INITIALIZED)throw new I.ConnectionError("`.connect` can not be called on a Connection in `"+this.state.name+"` state.");if(e){let t=t=>{this.removeListener("error",n),e(t)},n=n=>{this.removeListener("connect",t),e(n)};this.once("connect",t),this.once("error",n)}this.transitionTo(this.STATE.CONNECTING)}on(e,t){return super.on(e,t)}emit(e,...t){return super.emit(e,...t)}close(){this.transitionTo(this.STATE.FINAL)}initialiseConnection(){let e=this.createConnectTimer();return this.config.options.port?this.connectOnPort(this.config.options.port,this.config.options.multiSubnetFailover,e,this.config.options.connector):(0,p.instanceLookup)({server:this.config.server,instanceName:this.config.options.instanceName,timeout:this.config.options.connectTimeout,signal:e}).then(t=>{process.nextTick(()=>{this.connectOnPort(t,this.config.options.multiSubnetFailover,e,this.config.options.connector)})},t=>{this.clearConnectTimer(),e.aborted||process.nextTick(()=>{this.emit("connect",new I.ConnectionError(t.message,"EINSTLOOKUP"))})})}cleanupConnection(e){if(!this.closed){this.clearConnectTimer(),this.clearRequestTimer(),this.clearRetryTimer(),this.closeConnection(),e===H.REDIRECT?this.emit("rerouting"):e!==H.RETRY&&process.nextTick(()=>{this.emit("end")});let t=this.request;if(t){let e=new I.RequestError("Connection closed before request completed.","ECLOSE");t.callback(e),this.request=void 0}this.closed=!0,this.loginError=void 0}}createDebug(){let e=new d.default(this.config.options.debug);return e.on("debug",e=>{this.emit("debug",e)}),e}createTokenStreamParser(e,t){return new S.Parser(e,this.debug,t,this.config.options)}socketHandlingForSendPreLogin(e){e.on("error",e=>{this.socketError(e)}),e.on("close",()=>{this.socketClose()}),e.on("end",()=>{this.socketEnd()}),e.setKeepAlive(!0,3e4),this.messageIo=new v.default(e,this.config.options.packetSize,this.debug),this.messageIo.on("secure",e=>{this.emit("secure",e)}),this.socket=e,this.closed=!1,this.debug.log("connected to "+this.config.server+":"+this.config.options.port),this.sendPreLogin(),this.transitionTo(this.STATE.SENT_PRELOGIN)}wrapWithTls(e,t){return t.throwIfAborted(),new Promise((n,r)=>{let i=o.createSecureContext(this.secureContextOptions),a=s.isIP(this.config.server)?"":this.config.server,l={host:this.config.server,socket:e,ALPNProtocols:["tds/8.0"],secureContext:i,servername:this.config.options.serverName?this.config.options.serverName:a},c=o.connect(l),u=()=>{c.removeListener("error",h),c.removeListener("connect",d),c.destroy(),r(t.reason)},h=e=>{t.removeEventListener("abort",u),c.removeListener("error",h),c.removeListener("connect",d),c.destroy(),r(e)},d=()=>{t.removeEventListener("abort",u),c.removeListener("error",h),c.removeListener("connect",d),n(c)};t.addEventListener("abort",u,{once:!0}),c.on("error",h),c.on("secureConnect",d)})}connectOnPort(e,t,n,r){let i={host:this.routingData?this.routingData.server:this.config.server,port:this.routingData?this.routingData.port:e,localAddress:this.config.options.localAddress},o=r||(t?C.connectInParallel:C.connectInSequence);(async()=>{let e=await o(i,a.default.lookup,n);if("strict"===this.config.options.encrypt)try{e=await this.wrapWithTls(e,n)}catch(t){throw e.end(),t}this.socketHandlingForSendPreLogin(e)})().catch(e=>{this.clearConnectTimer(),n.aborted||process.nextTick(()=>{this.socketError(e)})})}closeConnection(){this.socket&&this.socket.destroy()}createConnectTimer(){let e=new k.AbortController;return this.connectTimer=setTimeout(()=>{e.abort(),this.connectTimeout()},this.config.options.connectTimeout),e.signal}createCancelTimer(){this.clearCancelTimer();let e=this.config.options.cancelTimeout;e>0&&(this.cancelTimer=setTimeout(()=>{this.cancelTimeout()},e))}createRequestTimer(){this.clearRequestTimer();let e=this.request,t=void 0!==e.timeout?e.timeout:this.config.options.requestTimeout;t&&(this.requestTimer=setTimeout(()=>{this.requestTimeout()},t))}createRetryTimer(){this.clearRetryTimer(),this.retryTimer=setTimeout(()=>{this.retryTimeout()},this.config.options.connectionRetryInterval)}connectTimeout(){let e=this.config.options.port?`:${this.config.options.port}`:`\\${this.config.options.instanceName}`,t=this.routingData?this.routingData.server:this.config.server,n=this.routingData?`:${this.routingData.port}`:e,r=this.routingData?` (redirected from ${this.config.server}${e})`:"",i=`Failed to connect to ${t}${n}${r} in ${this.config.options.connectTimeout}ms`;this.debug.log(i),this.emit("connect",new I.ConnectionError(i,"ETIMEOUT")),this.connectTimer=void 0,this.dispatchEvent("connectTimeout")}cancelTimeout(){let e=`Failed to cancel request in ${this.config.options.cancelTimeout}ms`;this.debug.log(e),this.dispatchEvent("socketError",new I.ConnectionError(e,"ETIMEOUT"))}requestTimeout(){this.requestTimer=void 0;let e=this.request;e.cancel();let t=void 0!==e.timeout?e.timeout:this.config.options.requestTimeout;e.error=new I.RequestError("Timeout: Request failed to complete in "+t+"ms","ETIMEOUT")}retryTimeout(){this.retryTimer=void 0,this.emit("retry"),this.transitionTo(this.STATE.CONNECTING)}clearConnectTimer(){this.connectTimer&&(clearTimeout(this.connectTimer),this.connectTimer=void 0)}clearCancelTimer(){this.cancelTimer&&(clearTimeout(this.cancelTimer),this.cancelTimer=void 0)}clearRequestTimer(){this.requestTimer&&(clearTimeout(this.requestTimer),this.requestTimer=void 0)}clearRetryTimer(){this.retryTimer&&(clearTimeout(this.retryTimer),this.retryTimer=void 0)}transitionTo(e){if(this.state===e){this.debug.log("State is already "+e.name);return}this.state&&this.state.exit&&this.state.exit.call(this,e),this.debug.log("State change: "+(this.state?this.state.name:"undefined")+" -> "+e.name),this.state=e,this.state.enter&&this.state.enter.apply(this)}getEventHandler(e){let t=this.state.events[e];if(!t)throw Error(`No event '${e}' in state '${this.state.name}'`);return t}dispatchEvent(e,...t){let n=this.state.events[e];n?n.apply(this,t):(this.emit("error",Error(`No event '${e}' in state '${this.state.name}'`)),this.close())}socketError(e){if(this.state===this.STATE.CONNECTING||this.state===this.STATE.SENT_TLSSSLNEGOTIATION){let t=this.config.options.port?`:${this.config.options.port}`:`\\${this.config.options.instanceName}`,n=this.routingData?this.routingData.server:this.config.server,r=this.routingData?`:${this.routingData.port}`:t,i=this.routingData?` (redirected from ${this.config.server}${t})`:"",o=`Failed to connect to ${n}${r}${i} - ${e.message}`;this.debug.log(o),this.emit("connect",new I.ConnectionError(o,"ESOCKET"))}else{let t=`Connection lost - ${e.message}`;this.debug.log(t),this.emit("error",new I.ConnectionError(t,"ESOCKET"))}this.dispatchEvent("socketError",e)}socketEnd(){if(this.debug.log("socket ended"),this.state!==this.STATE.FINAL){let e=Error("socket hang up");e.code="ECONNRESET",this.socketError(e)}}socketClose(){if(this.debug.log("connection to "+this.config.server+":"+this.config.options.port+" closed"),this.state===this.STATE.REROUTING)this.debug.log("Rerouting to "+this.routingData.server+":"+this.routingData.port),this.dispatchEvent("reconnect");else if(this.state===this.STATE.TRANSIENT_FAILURE_RETRY){let e=this.routingData?this.routingData.server:this.config.server,t=this.routingData?this.routingData.port:this.config.options.port;this.debug.log("Retry after transient failure connecting to "+e+":"+t),this.dispatchEvent("retry")}else this.transitionTo(this.STATE.FINAL)}sendPreLogin(){let[,e,t,n]=/^(\d+)\.(\d+)\.(\d+)/.exec(x.version)??["0.0.0","0","0","0"],r=new y.default({encrypt:"boolean"==typeof this.config.options.encrypt&&this.config.options.encrypt,version:{major:Number(e),minor:Number(t),build:Number(n),subbuild:0}});this.messageIo.sendMessage(g.TYPE.PRELOGIN,r.data),this.debug.payload(function(){return r.toString("  ")})}sendLogin7Packet(){let e=new _.default({tdsVersion:N.versions[this.config.options.tdsVersion],packetSize:this.config.options.packetSize,clientProgVer:0,clientPid:process.pid,connectionId:0,clientTimeZone:new Date().getTimezoneOffset(),clientLcid:1033}),{authentication:t}=this.config;switch(t.type){case"azure-active-directory-password":e.fedAuth={type:"ADAL",echo:this.fedAuthRequired,workflow:"default"};break;case"azure-active-directory-access-token":e.fedAuth={type:"SECURITYTOKEN",echo:this.fedAuthRequired,fedAuthToken:t.options.token};break;case"azure-active-directory-msi-vm":case"azure-active-directory-default":case"azure-active-directory-msi-app-service":case"azure-active-directory-service-principal-secret":e.fedAuth={type:"ADAL",echo:this.fedAuthRequired,workflow:"integrated"};break;case"ntlm":e.sspi=(0,D.createNTLMRequest)({domain:t.options.domain});break;default:e.userName=t.options.userName,e.password=t.options.password}e.hostname=this.config.options.workstationId||i.default.hostname(),e.serverName=this.routingData?this.routingData.server:this.config.server,e.appName=this.config.options.appName||"Tedious",e.libraryName=O.name,e.language=this.config.options.language,e.database=this.config.options.database,e.clientId=Buffer.from([1,2,3,4,5,6]),e.readOnlyIntent=this.config.options.readOnlyIntent,e.initDbFatal=!this.config.options.fallbackToDefaultDb,this.routingData=void 0,this.messageIo.sendMessage(g.TYPE.LOGIN7,e.toBuffer()),this.debug.payload(function(){return e.toString("  ")})}sendFedAuthTokenMessage(e){let t=Buffer.byteLength(e,"ucs2"),n=Buffer.alloc(8+t),r=0;r=n.writeUInt32LE(t+4,r),r=n.writeUInt32LE(t,r),n.write(e,r,"ucs2"),this.messageIo.sendMessage(g.TYPE.FEDAUTH_TOKEN,n),this.transitionTo(this.STATE.SENT_LOGIN7_WITH_STANDARD_LOGIN)}sendInitialSql(){let e=new b.default(this.getInitialSql(),this.currentTransactionDescriptor(),this.config.options),t=new R.default({type:g.TYPE.SQL_BATCH});this.messageIo.outgoingMessageStream.write(t),c.Readable.from(e).pipe(t)}getInitialSql(){let e=[];return!0===this.config.options.enableAnsiNull?e.push("set ansi_nulls on"):!1===this.config.options.enableAnsiNull&&e.push("set ansi_nulls off"),!0===this.config.options.enableAnsiNullDefault?e.push("set ansi_null_dflt_on on"):!1===this.config.options.enableAnsiNullDefault&&e.push("set ansi_null_dflt_on off"),!0===this.config.options.enableAnsiPadding?e.push("set ansi_padding on"):!1===this.config.options.enableAnsiPadding&&e.push("set ansi_padding off"),!0===this.config.options.enableAnsiWarnings?e.push("set ansi_warnings on"):!1===this.config.options.enableAnsiWarnings&&e.push("set ansi_warnings off"),!0===this.config.options.enableArithAbort?e.push("set arithabort on"):!1===this.config.options.enableArithAbort&&e.push("set arithabort off"),!0===this.config.options.enableConcatNullYieldsNull?e.push("set concat_null_yields_null on"):!1===this.config.options.enableConcatNullYieldsNull&&e.push("set concat_null_yields_null off"),!0===this.config.options.enableCursorCloseOnCommit?e.push("set cursor_close_on_commit on"):!1===this.config.options.enableCursorCloseOnCommit&&e.push("set cursor_close_on_commit off"),null!==this.config.options.datefirst&&e.push(`set datefirst ${this.config.options.datefirst}`),null!==this.config.options.dateFormat&&e.push(`set dateformat ${this.config.options.dateFormat}`),!0===this.config.options.enableImplicitTransactions?e.push("set implicit_transactions on"):!1===this.config.options.enableImplicitTransactions&&e.push("set implicit_transactions off"),null!==this.config.options.language&&e.push(`set language ${this.config.options.language}`),!0===this.config.options.enableNumericRoundabort?e.push("set numeric_roundabort on"):!1===this.config.options.enableNumericRoundabort&&e.push("set numeric_roundabort off"),!0===this.config.options.enableQuotedIdentifier?e.push("set quoted_identifier on"):!1===this.config.options.enableQuotedIdentifier&&e.push("set quoted_identifier off"),null!==this.config.options.textsize&&e.push(`set textsize ${this.config.options.textsize}`),null!==this.config.options.connectionIsolationLevel&&e.push(`set transaction isolation level ${this.getIsolationLevelText(this.config.options.connectionIsolationLevel)}`),!0===this.config.options.abortTransactionOnError?e.push("set xact_abort on"):!1===this.config.options.abortTransactionOnError&&e.push("set xact_abort off"),e.join("\n")}processedInitialSql(){this.clearConnectTimer(),this.emit("connect")}execSqlBatch(e){this.makeRequest(e,g.TYPE.SQL_BATCH,new b.default(e.sqlTextOrProcedure,this.currentTransactionDescriptor(),this.config.options))}execSql(e){try{e.validateParameters(this.databaseCollation)}catch(t){e.error=t,process.nextTick(()=>{this.debug.log(t.message),e.callback(t)});return}let t=[];t.push({type:P.TYPES.NVarChar,name:"statement",value:e.sqlTextOrProcedure,output:!1,length:void 0,precision:void 0,scale:void 0}),e.parameters.length&&(t.push({type:P.TYPES.NVarChar,name:"params",value:e.makeParamsParameter(e.parameters),output:!1,length:void 0,precision:void 0,scale:void 0}),t.push(...e.parameters)),this.makeRequest(e,g.TYPE.RPC_REQUEST,new w.default(L.default.Sp_ExecuteSql,t,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}newBulkLoad(e,t,n){let r;if(void 0===n?(n=t,r={}):r=t,"object"!=typeof r)throw TypeError('"options" argument must be an object');return new h.default(e,this.databaseCollation,this.config.options,r,n)}execBulkLoad(e,t){if(e.executionStarted=!0,t){if(e.streamingMode)throw Error("Connection.execBulkLoad can't be called with a BulkLoad that was put in streaming mode.");if(e.firstRowWritten)throw Error("Connection.execBulkLoad can't be called with a BulkLoad that already has rows written to it.");let n=c.Readable.from(t);n.on("error",t=>{e.rowToPacketTransform.destroy(t)}),e.rowToPacketTransform.on("error",e=>{n.destroy(e)}),n.pipe(e.rowToPacketTransform)}else e.streamingMode||e.rowToPacketTransform.end();let n=()=>{i.cancel()},r=new M.BulkLoadPayload(e),i=new T.default(e.getBulkInsertSql(),t=>{if(e.removeListener("cancel",n),t){"UNKNOWN"===t.code&&(t.message+=" This is likely because the schema of the BulkLoad does not match the schema of the table you are attempting to insert into."),e.error=t,e.callback(t);return}this.makeRequest(e,g.TYPE.BULK_LOAD,r)});e.once("cancel",n),this.execSqlBatch(i)}prepare(e){let t=[];t.push({type:P.TYPES.Int,name:"handle",value:void 0,output:!0,length:void 0,precision:void 0,scale:void 0}),t.push({type:P.TYPES.NVarChar,name:"params",value:e.parameters.length?e.makeParamsParameter(e.parameters):null,output:!1,length:void 0,precision:void 0,scale:void 0}),t.push({type:P.TYPES.NVarChar,name:"stmt",value:e.sqlTextOrProcedure,output:!1,length:void 0,precision:void 0,scale:void 0}),e.preparing=!0,e.on("returnValue",(t,n)=>{"handle"===t?e.handle=n:e.error=new I.RequestError(`Tedious > Unexpected output parameter ${t} from sp_prepare`)}),this.makeRequest(e,g.TYPE.RPC_REQUEST,new w.default(L.default.Sp_Prepare,t,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}unprepare(e){let t=[];t.push({type:P.TYPES.Int,name:"handle",value:e.handle,output:!1,length:void 0,precision:void 0,scale:void 0}),this.makeRequest(e,g.TYPE.RPC_REQUEST,new w.default(L.default.Sp_Unprepare,t,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}execute(e,t){let n=[];n.push({type:P.TYPES.Int,name:"",value:e.handle,output:!1,length:void 0,precision:void 0,scale:void 0});try{for(let r=0,i=e.parameters.length;r<i;r++){let i=e.parameters[r];n.push({...i,value:i.type.validate(t?t[i.name]:null,this.databaseCollation)})}}catch(t){e.error=t,process.nextTick(()=>{this.debug.log(t.message),e.callback(t)});return}this.makeRequest(e,g.TYPE.RPC_REQUEST,new w.default(L.default.Sp_Execute,n,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}callProcedure(e){try{e.validateParameters(this.databaseCollation)}catch(t){e.error=t,process.nextTick(()=>{this.debug.log(t.message),e.callback(t)});return}this.makeRequest(e,g.TYPE.RPC_REQUEST,new w.default(e.sqlTextOrProcedure,e.parameters,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}beginTransaction(e,t="",n=this.config.options.isolationLevel){(0,A.assertValidIsolationLevel)(n,"isolationLevel");let r=new A.Transaction(t,n);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new T.default("SET TRANSACTION ISOLATION LEVEL "+r.isolationLevelToTSQL()+";BEGIN TRAN "+r.name,t=>{this.transactionDepth++,1===this.transactionDepth&&(this.inTransaction=!0),e(t)}));let i=new T.default(void 0,t=>e(t,this.currentTransactionDescriptor()));return this.makeRequest(i,g.TYPE.TRANSACTION_MANAGER,r.beginPayload(this.currentTransactionDescriptor()))}commitTransaction(e,t=""){let n=new A.Transaction(t);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new T.default("COMMIT TRAN "+n.name,t=>{this.transactionDepth--,0===this.transactionDepth&&(this.inTransaction=!1),e(t)}));let r=new T.default(void 0,e);return this.makeRequest(r,g.TYPE.TRANSACTION_MANAGER,n.commitPayload(this.currentTransactionDescriptor()))}rollbackTransaction(e,t=""){let n=new A.Transaction(t);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new T.default("ROLLBACK TRAN "+n.name,t=>{this.transactionDepth--,0===this.transactionDepth&&(this.inTransaction=!1),e(t)}));let r=new T.default(void 0,e);return this.makeRequest(r,g.TYPE.TRANSACTION_MANAGER,n.rollbackPayload(this.currentTransactionDescriptor()))}saveTransaction(e,t){let n=new A.Transaction(t);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new T.default("SAVE TRAN "+n.name,t=>{this.transactionDepth++,e(t)}));let r=new T.default(void 0,e);return this.makeRequest(r,g.TYPE.TRANSACTION_MANAGER,n.savePayload(this.currentTransactionDescriptor()))}transaction(e,t){if("function"!=typeof e)throw TypeError("`cb` must be a function");let n=this.inTransaction,i="_tedious_"+r.default.randomBytes(10).toString("hex"),o=(e,t,...r)=>{e?this.inTransaction&&this.state===this.STATE.LOGGED_IN?this.rollbackTransaction(n=>{t(n||e,...r)},i):t(e,...r):n?(this.config.options.tdsVersion<"7_2"&&this.transactionDepth--,t(null,...r)):this.commitTransaction(e=>{t(e,...r)},i)};return n?this.saveTransaction(n=>n?e(n):t?this.execSqlBatch(new T.default("SET transaction isolation level "+this.getIsolationLevelText(t),t=>e(t,o))):e(null,o),i):this.beginTransaction(t=>t?e(t):e(null,o),i,t)}makeRequest(e,t,n){if(this.state!==this.STATE.LOGGED_IN){let t="Requests can only be made in the "+this.STATE.LOGGED_IN.name+" state, not the "+this.state.name+" state";this.debug.log(t),e.callback(new I.RequestError(t,"EINVALIDSTATE"))}else if(e.canceled)process.nextTick(()=>{e.callback(new I.RequestError("Canceled.","ECANCEL"))});else{t===g.TYPE.SQL_BATCH?this.isSqlBatch=!0:this.isSqlBatch=!1,this.request=e,e.connection=this,e.rowCount=0,e.rows=[],e.rst=[];let r=()=>{o.unpipe(i),o.destroy(new I.RequestError("Canceled.","ECANCEL")),i.ignore=!0,i.end(),e instanceof T.default&&e.paused&&e.resume()};e.once("cancel",r),this.createRequestTimer();let i=new R.default({type:t,resetConnection:this.resetConnectionOnNextRequest});this.messageIo.outgoingMessageStream.write(i),this.transitionTo(this.STATE.SENT_CLIENT_REQUEST),i.once("finish",()=>{e.removeListener("cancel",r),e.once("cancel",this._cancelAfterRequestSent),this.resetConnectionOnNextRequest=!1,this.debug.payload(function(){return n.toString("  ")})});let o=c.Readable.from(n);o.once("error",t=>{o.unpipe(i),e.error??=t,i.ignore=!0,i.end()}),o.pipe(i)}}cancel(){return!!this.request&&!this.request.canceled&&(this.request.cancel(),!0)}reset(e){let t=new T.default(this.getInitialSql(),t=>{this.config.options.tdsVersion<"7_2"&&(this.inTransaction=!1),e(t)});this.resetConnectionOnNextRequest=!0,this.execSqlBatch(t)}currentTransactionDescriptor(){return this.transactionDescriptors[this.transactionDescriptors.length-1]}getIsolationLevelText(e){switch(e){case A.ISOLATION_LEVEL.READ_UNCOMMITTED:return"read uncommitted";case A.ISOLATION_LEVEL.REPEATABLE_READ:return"repeatable read";case A.ISOLATION_LEVEL.SERIALIZABLE:return"serializable";case A.ISOLATION_LEVEL.SNAPSHOT:return"snapshot";default:return"read committed"}}}function $(e){return e instanceof U.default&&(e=e.errors[0]),e instanceof I.ConnectionError&&!!e.isTransient}t.default=V,e.exports=V,V.prototype.STATE={INITIALIZED:{name:"Initialized",events:{}},CONNECTING:{name:"Connecting",enter:function(){this.initialiseConnection()},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_PRELOGIN:{name:"SentPrelogin",enter:function(){(async()=>{let e,t=Buffer.alloc(0);try{e=await this.messageIo.readMessage()}catch(e){return this.socketError(e)}for await(let n of e)t=Buffer.concat([t,n]);let n=new y.default(t);if(this.debug.payload(function(){return n.toString("  ")}),1===n.fedAuthRequired&&(this.fedAuthRequired=!0),"strict"!==this.config.options.encrypt&&("ON"===n.encryptionString||"REQ"===n.encryptionString)){if(!this.config.options.encrypt)return this.emit("connect",new I.ConnectionError("Server requires encryption, set 'encrypt' config option to true.","EENCRYPT")),this.close();try{var r;this.transitionTo(this.STATE.SENT_TLSSSLNEGOTIATION),await this.messageIo.startTls(this.secureContextOptions,this.config.options.serverName?this.config.options.serverName:(null===(r=this.routingData)||void 0===r?void 0:r.server)??this.config.server,this.config.options.trustServerCertificate)}catch(e){return this.socketError(e)}}this.sendLogin7Packet();let{authentication:i}=this.config;switch(i.type){case"azure-active-directory-password":case"azure-active-directory-msi-vm":case"azure-active-directory-msi-app-service":case"azure-active-directory-service-principal-secret":case"azure-active-directory-default":this.transitionTo(this.STATE.SENT_LOGIN7_WITH_FEDAUTH);break;case"ntlm":this.transitionTo(this.STATE.SENT_LOGIN7_WITH_NTLM);break;default:this.transitionTo(this.STATE.SENT_LOGIN7_WITH_STANDARD_LOGIN)}})().catch(e=>{process.nextTick(()=>{throw e})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},REROUTING:{name:"ReRouting",enter:function(){this.cleanupConnection(H.REDIRECT)},events:{message:function(){},socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)},reconnect:function(){this.transitionTo(this.STATE.CONNECTING)}}},TRANSIENT_FAILURE_RETRY:{name:"TRANSIENT_FAILURE_RETRY",enter:function(){this.curTransientRetryCount++,this.cleanupConnection(H.RETRY)},events:{message:function(){},socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)},retry:function(){this.createRetryTimer()}}},SENT_TLSSSLNEGOTIATION:{name:"SentTLSSSLNegotiation",events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_LOGIN7_WITH_STANDARD_LOGIN:{name:"SentLogin7WithStandardLogin",enter:function(){(async()=>{let e;try{e=await this.messageIo.readMessage()}catch(e){return this.socketError(e)}let t=new B.Login7TokenHandler(this),n=this.createTokenStreamParser(e,t);await (0,f.once)(n,"end"),t.loginAckReceived?t.routingData?(this.routingData=t.routingData,this.transitionTo(this.STATE.REROUTING)):this.transitionTo(this.STATE.LOGGED_IN_SENDING_INITIAL_SQL):this.loginError?$(this.loginError)?(this.debug.log("Initiating retry on transient error"),this.transitionTo(this.STATE.TRANSIENT_FAILURE_RETRY)):(this.emit("connect",this.loginError),this.transitionTo(this.STATE.FINAL)):(this.emit("connect",new I.ConnectionError("Login failed.","ELOGIN")),this.transitionTo(this.STATE.FINAL))})().catch(e=>{process.nextTick(()=>{throw e})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_LOGIN7_WITH_NTLM:{name:"SentLogin7WithNTLMLogin",enter:function(){(async()=>{for(;;){let e;try{e=await this.messageIo.readMessage()}catch(e){return this.socketError(e)}let t=new B.Login7TokenHandler(this),n=this.createTokenStreamParser(e,t);if(await (0,f.once)(n,"end"),t.loginAckReceived){if(t.routingData)return this.routingData=t.routingData,this.transitionTo(this.STATE.REROUTING);return this.transitionTo(this.STATE.LOGGED_IN_SENDING_INITIAL_SQL)}if(this.ntlmpacket){let e=this.config.authentication,t=new E.default({domain:e.options.domain,userName:e.options.userName,password:e.options.password,ntlmpacket:this.ntlmpacket});this.messageIo.sendMessage(g.TYPE.NTLMAUTH_PKT,t.data),this.debug.payload(function(){return t.toString("  ")}),this.ntlmpacket=void 0}else{if(!this.loginError)return this.emit("connect",new I.ConnectionError("Login failed.","ELOGIN")),this.transitionTo(this.STATE.FINAL);if($(this.loginError))return this.debug.log("Initiating retry on transient error"),this.transitionTo(this.STATE.TRANSIENT_FAILURE_RETRY);return this.emit("connect",this.loginError),this.transitionTo(this.STATE.FINAL)}}})().catch(e=>{process.nextTick(()=>{throw e})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_LOGIN7_WITH_FEDAUTH:{name:"SentLogin7Withfedauth",enter:function(){(async()=>{let e;try{e=await this.messageIo.readMessage()}catch(e){return this.socketError(e)}let t=new B.Login7TokenHandler(this),n=this.createTokenStreamParser(e,t);if(await (0,f.once)(n,"end"),t.loginAckReceived){t.routingData?(this.routingData=t.routingData,this.transitionTo(this.STATE.REROUTING)):this.transitionTo(this.STATE.LOGGED_IN_SENDING_INITIAL_SQL);return}let r=t.fedAuthInfoToken;if(r&&r.stsurl&&r.spn){let e,t;let n=this.config.authentication,i=new F.URL("/.default",r.spn).toString();switch(n.type){case"azure-active-directory-password":e=new u.UsernamePasswordCredential(n.options.tenantId??"common",n.options.clientId,n.options.userName,n.options.password);break;case"azure-active-directory-msi-vm":case"azure-active-directory-msi-app-service":let o=n.options.clientId?[n.options.clientId,{}]:[{}];e=new u.ManagedIdentityCredential(...o);break;case"azure-active-directory-default":let s=n.options.clientId?{managedIdentityClientId:n.options.clientId}:{};e=new u.DefaultAzureCredential(s);break;case"azure-active-directory-service-principal-secret":e=new u.ClientSecretCredential(n.options.tenantId,n.options.clientId,n.options.clientSecret)}try{t=await e.getToken(i)}catch(e){this.loginError=new U.default([new I.ConnectionError("Security token could not be authenticated or authorized.","EFEDAUTH"),e]),this.emit("connect",this.loginError),this.transitionTo(this.STATE.FINAL);return}let a=t.token;this.sendFedAuthTokenMessage(a)}else this.loginError?$(this.loginError)?(this.debug.log("Initiating retry on transient error"),this.transitionTo(this.STATE.TRANSIENT_FAILURE_RETRY)):(this.emit("connect",this.loginError),this.transitionTo(this.STATE.FINAL)):(this.emit("connect",new I.ConnectionError("Login failed.","ELOGIN")),this.transitionTo(this.STATE.FINAL))})().catch(e=>{process.nextTick(()=>{throw e})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},LOGGED_IN_SENDING_INITIAL_SQL:{name:"LoggedInSendingInitialSql",enter:function(){(async()=>{let e;this.sendInitialSql();try{e=await this.messageIo.readMessage()}catch(e){return this.socketError(e)}let t=this.createTokenStreamParser(e,new B.InitialSqlTokenHandler(this));await (0,f.once)(t,"end"),this.transitionTo(this.STATE.LOGGED_IN),this.processedInitialSql()})().catch(e=>{process.nextTick(()=>{throw e})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},LOGGED_IN:{name:"LoggedIn",events:{socketError:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_CLIENT_REQUEST:{name:"SentClientRequest",enter:function(){(async(e,t,n)=>{let r;try{r=await this.messageIo.readMessage()}catch(e){return this.socketError(e)}this.clearRequestTimer();let i=this.createTokenStreamParser(r,new B.RequestTokenHandler(this,this.request));if(null!==(e=this.request)&&void 0!==e&&e.canceled&&this.cancelTimer)return this.transitionTo(this.STATE.SENT_ATTENTION);let o=()=>{i.resume()},s=()=>{var e;i.pause(),null===(e=this.request)||void 0===e||e.once("resume",o)};null===(t=this.request)||void 0===t||t.on("pause",s),this.request instanceof T.default&&this.request.paused&&s();let a=()=>{var e,t;i.removeListener("end",l),this.request instanceof T.default&&this.request.paused&&this.request.resume(),null===(e=this.request)||void 0===e||e.removeListener("pause",s),null===(t=this.request)||void 0===t||t.removeListener("resume",o),this.transitionTo(this.STATE.SENT_ATTENTION)},l=()=>{var e,t,n,r;null===(e=this.request)||void 0===e||e.removeListener("cancel",this._cancelAfterRequestSent),null===(t=this.request)||void 0===t||t.removeListener("cancel",a),null===(n=this.request)||void 0===n||n.removeListener("pause",s),null===(r=this.request)||void 0===r||r.removeListener("resume",o),this.transitionTo(this.STATE.LOGGED_IN);let i=this.request;this.request=void 0,this.config.options.tdsVersion<"7_2"&&i.error&&this.isSqlBatch&&(this.inTransaction=!1),i.callback(i.error,i.rowCount,i.rows)};i.once("end",l),null===(n=this.request)||void 0===n||n.once("cancel",a)})()},exit:function(e){this.clearRequestTimer()},events:{socketError:function(e){let t=this.request;this.request=void 0,this.transitionTo(this.STATE.FINAL),t.callback(e)}}},SENT_ATTENTION:{name:"SentAttention",enter:function(){(async()=>{let e;try{e=await this.messageIo.readMessage()}catch(e){return this.socketError(e)}let t=new B.AttentionTokenHandler(this,this.request),n=this.createTokenStreamParser(e,t);if(await (0,f.once)(n,"end"),t.attentionReceived){this.clearCancelTimer();let e=this.request;this.request=void 0,this.transitionTo(this.STATE.LOGGED_IN),e.error&&e.error instanceof I.RequestError&&"ETIMEOUT"===e.error.code?e.callback(e.error):e.callback(new I.RequestError("Canceled.","ECANCEL"))}})().catch(e=>{process.nextTick(()=>{throw e})})},events:{socketError:function(e){let t=this.request;this.request=void 0,this.transitionTo(this.STATE.FINAL),t.callback(e)}}},FINAL:{name:"Final",enter:function(){this.cleanupConnection(H.NORMAL)},events:{connectTimeout:function(){},message:function(){},socketError:function(){}}}}},35245:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connectInParallel=l,t.connectInSequence=c,t.lookupAllAddresses=u;var r=a(n(98216)),i=a(n(41041)),o=a(n(62405)),s=a(n(69150));function a(e){return e&&e.__esModule?e:{default:e}}async function l(e,t,n){if(n.aborted)throw new o.default;let i=await u(e.host,t,n);return await new Promise((t,a)=>{let l=Array(i.length),c=[];function u(e){c.push(e),this.removeListener("error",u),this.removeListener("connect",h),this.destroy(),c.length===i.length&&(n.removeEventListener("abort",d),a(new s.default(c,"Could not connect (parallel)")))}function h(){n.removeEventListener("abort",d);for(let e=0;e<l.length;e++){let t=l[e];this!==t&&(t.removeListener("error",u),t.removeListener("connect",h),t.destroy())}t(this)}let d=()=>{for(let e=0;e<l.length;e++){let t=l[e];t.removeListener("error",u),t.removeListener("connect",h),t.destroy()}a(new o.default)};for(let t=0,n=i.length;t<n;t++){let n=l[t]=r.default.connect({...e,host:i[t].address,family:i[t].family});n.on("error",u),n.on("connect",h)}n.addEventListener("abort",d,{once:!0})})}async function c(e,t,n){if(n.aborted)throw new o.default;let i=[];for(let s of(await u(e.host,t,n)))try{return await new Promise((t,i)=>{let a=r.default.connect({...e,host:s.address,family:s.family}),l=()=>{a.removeListener("error",c),a.removeListener("connect",u),a.destroy(),i(new o.default)},c=e=>{n.removeEventListener("abort",l),a.removeListener("error",c),a.removeListener("connect",u),a.destroy(),i(e)},u=()=>{n.removeEventListener("abort",l),a.removeListener("error",c),a.removeListener("connect",u),t(a)};n.addEventListener("abort",l,{once:!0}),a.on("error",c),a.on("connect",u)})}catch(e){if(e instanceof Error&&"AbortError"===e.name)throw e;i.push(e);continue}throw new s.default(i,"Could not connect (sequence)")}async function u(e,t,n){if(n.aborted)throw new o.default;return r.default.isIPv6(e)?[{address:e,family:6}]:r.default.isIPv4(e)?[{address:e,family:4}]:await new Promise((r,s)=>{let a=()=>{s(new o.default)};n.addEventListener("abort",a),t(i.default.domainToASCII(e),{all:!0},(e,t)=>{n.removeEventListener("abort",a),e?s(e):r(t)})})}},47258:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeByName=t.TYPES=t.TYPE=void 0;var r=j(n(81015)),i=j(n(98269)),o=j(n(96674)),s=j(n(33177)),a=j(n(2650)),l=j(n(94457)),c=j(n(37718)),u=j(n(1241)),h=j(n(80981)),d=j(n(29357)),f=j(n(68386)),p=j(n(20206)),m=j(n(97837)),g=j(n(28220)),y=j(n(24971)),_=j(n(37615)),E=j(n(97101)),T=j(n(28061)),w=j(n(73338)),b=j(n(33155)),v=j(n(34177)),S=j(n(29233)),A=j(n(8294)),I=j(n(92391)),C=j(n(21937)),O=j(n(76349)),N=j(n(6266)),R=j(n(93728)),D=j(n(31547)),k=j(n(88071)),P=j(n(54169)),M=j(n(76940)),L=j(n(43710)),U=j(n(16234)),x=j(n(61575)),F=j(n(59640)),B=j(n(60771)),q=j(n(55988)),Y=j(n(1834));function j(e){return e&&e.__esModule?e:{default:e}}let H={[r.default.id]:r.default,[i.default.id]:i.default,[o.default.id]:o.default,[s.default.id]:s.default,[a.default.id]:a.default,[l.default.id]:l.default,[c.default.id]:c.default,[u.default.id]:u.default,[h.default.id]:h.default,[d.default.id]:d.default,[f.default.id]:f.default,[p.default.id]:p.default,[m.default.id]:m.default,[g.default.id]:g.default,[y.default.id]:y.default,[_.default.id]:_.default,[E.default.id]:E.default,[T.default.id]:T.default,[w.default.id]:w.default,[b.default.id]:b.default,[v.default.id]:v.default,[S.default.id]:S.default,[A.default.id]:A.default,[I.default.id]:I.default,[C.default.id]:C.default,[O.default.id]:O.default,[N.default.id]:N.default,[R.default.id]:R.default,[D.default.id]:D.default,[k.default.id]:k.default,[P.default.id]:P.default,[M.default.id]:M.default,[L.default.id]:L.default,[U.default.id]:U.default,[x.default.id]:x.default,[F.default.id]:F.default,[B.default.id]:B.default,[q.default.id]:q.default,[Y.default.id]:Y.default};t.TYPE=H;let V={TinyInt:i.default,Bit:o.default,SmallInt:s.default,Int:a.default,SmallDateTime:l.default,Real:c.default,Money:u.default,DateTime:h.default,Float:d.default,Decimal:f.default,Numeric:p.default,SmallMoney:m.default,BigInt:g.default,Image:y.default,Text:_.default,UniqueIdentifier:E.default,NText:w.default,VarBinary:O.default,VarChar:N.default,Binary:R.default,Char:D.default,NVarChar:k.default,NChar:P.default,Xml:M.default,Time:L.default,Date:U.default,DateTime2:x.default,DateTimeOffset:F.default,UDT:B.default,TVP:q.default,Variant:Y.default};t.TYPES=V,t.typeByName=V},28220:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(28061)),i=o(n(24927));function o(e){return e&&e.__esModule?e:{default:e}}let s=Buffer.from([8]),a=Buffer.from([0]),l={id:127,type:"INT8",name:"BigInt",declaration:function(){return"bigint"},generateTypeInfo:()=>Buffer.from([r.default.id,8]),generateParameterLength:(e,t)=>null==e.value?a:s,*generateParameterData(e,t){if(null==e.value)return;let n=new i.default(8);n.writeInt64LE(Number(e.value)),yield n.data},validate:function(e){if(null==e)return null;if("number"!=typeof e&&(e=Number(e)),isNaN(e))throw TypeError("Invalid number.");if(e<Number.MIN_SAFE_INTEGER||e>Number.MAX_SAFE_INTEGER)throw TypeError(`Value must be between ${Number.MIN_SAFE_INTEGER} and ${Number.MAX_SAFE_INTEGER}, inclusive.  For smaller or bigger numbers, use VarChar type.`);return e}};t.default=l,e.exports=l},93728:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let n=Buffer.from([255,255]),r={id:173,type:"BIGBinary",name:"Binary",maximumLength:8e3,declaration:function(e){let t=e.value;return"binary("+(e.length?e.length:null!=t?t.length||1:null!==t||e.output?this.maximumLength:1)+")"},resolveLength:function(e){let t=e.value;return null!=t?t.length:this.maximumLength},generateTypeInfo(e){let t=Buffer.alloc(3);return t.writeUInt8(this.id,0),t.writeUInt16LE(e.length,1),t},generateParameterLength(e,t){if(null==e.value)return n;let r=Buffer.alloc(2);return r.writeUInt16LE(e.length,0),r},*generateParameterData(e,t){null!=e.value&&(yield e.value.slice(0,void 0!==e.length?Math.min(e.length,this.maximumLength):this.maximumLength))},validate:function(e){if(null==e)return null;if(!Buffer.isBuffer(e))throw TypeError("Invalid buffer.");return e}};t.default=r,e.exports=r},96674:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(33155));let i=Buffer.from([1]),o=Buffer.from([0]),s={id:50,type:"BIT",name:"Bit",declaration:function(){return"bit"},generateTypeInfo:()=>Buffer.from([r.default.id,1]),generateParameterLength:(e,t)=>null==e.value?o:i,*generateParameterData(e,t){null!=e.value&&(yield e.value?Buffer.from([1]):Buffer.from([0]))},validate:function(e){return null==e?null:!!e}};t.default=s,e.exports=s},33155:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let n={id:104,type:"BITN",name:"BitN",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},*generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=n,e.exports=n},31547:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(95813));let i=Buffer.from([255,255]),o={id:175,type:"BIGCHAR",name:"Char",maximumLength:8e3,declaration:function(e){let t;let n=e.value;return(t=e.length?e.length:null!=n?n.length||1:null!==n||e.output?this.maximumLength:1)<this.maximumLength?"char("+t+")":"char("+this.maximumLength+")"},resolveLength:function(e){let t=e.value;return null!=e.length?e.length:null!=t?t.length||1:this.maximumLength},generateTypeInfo(e){let t=Buffer.alloc(8);return t.writeUInt8(this.id,0),t.writeUInt16LE(e.length,1),e.collation&&e.collation.toBuffer().copy(t,3,0,5),t},generateParameterLength(e,t){let n=e.value;if(null==n)return i;let r=Buffer.alloc(2);return r.writeUInt16LE(n.length,0),r},*generateParameterData(e,t){null!=e.value&&(yield Buffer.from(e.value,"ascii"))},validate:function(e,t){if(null==e)return null;if("string"!=typeof e)throw TypeError("Invalid string.");if(!t)throw Error("No collation was set by the server for the current connection.");if(!t.codepage)throw Error("The collation set by the server has no associated encoding.");return r.default.encode(e,t.codepage)}};t.default=o,e.exports=o},16234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(3842);let i=global.Date,o=r.LocalDate.ofYearDay(1,1),s=Buffer.from([0]),a=Buffer.from([3]),l={id:40,type:"DATEN",name:"Date",declaration:function(){return"date"},generateTypeInfo:function(){return Buffer.from([this.id])},generateParameterLength:(e,t)=>null==e.value?s:a,*generateParameterData(e,t){let n;if(null==e.value)return;let i=e.value;n=t.useUTC?r.LocalDate.of(i.getUTCFullYear(),i.getUTCMonth()+1,i.getUTCDate()):r.LocalDate.of(i.getFullYear(),i.getMonth()+1,i.getDate());let s=o.until(n,r.ChronoUnit.DAYS),a=Buffer.alloc(3);a.writeUIntLE(s,0,3),yield a},validate:function(e,t,n){let r;if(null==e)return null;if(e instanceof i||(e=new i(i.parse(e))),(r=n&&n.useUTC?e.getUTCFullYear():e.getFullYear())<1||r>9999)throw TypeError("Out of range.");if(isNaN(e))throw TypeError("Invalid date.");return e}};t.default=l,e.exports=l},80981:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(21937)),i=n(3842);let o=i.LocalDate.ofYearDay(1900,1),s=Buffer.from([0]),a=Buffer.from([8]),l={id:61,type:"DATETIME",name:"DateTime",declaration:function(){return"datetime"},generateTypeInfo:()=>Buffer.from([r.default.id,8]),generateParameterLength:(e,t)=>null==e.value?s:a,generateParameterData:function*(e,t){let n,r,s;if(null==e.value)return;let a=e.value;n=t.useUTC?i.LocalDate.of(a.getUTCFullYear(),a.getUTCMonth()+1,a.getUTCDate()):i.LocalDate.of(a.getFullYear(),a.getMonth()+1,a.getDate());let l=o.until(n,i.ChronoUnit.DAYS);if(t.useUTC){let e=3600*a.getUTCHours();e+=60*a.getUTCMinutes()+a.getUTCSeconds(),r=1e3*e+a.getUTCMilliseconds()}else{let e=3600*a.getHours();e+=60*a.getMinutes()+a.getSeconds(),r=1e3*e+a.getMilliseconds()}2592e4===(s=Math.round(s=r/(3+1/3)))&&(l+=1,s=0);let c=Buffer.alloc(8);c.writeInt32LE(l,0),c.writeUInt32LE(s,4),yield c},validate:function(e,t,n){let r;if(null==e)return null;if(e instanceof Date||(e=new Date(Date.parse(e))),(r=n&&n.useUTC?e.getUTCFullYear():e.getFullYear())<1753||r>9999)throw TypeError("Out of range.");if(isNaN(e))throw TypeError("Invalid date.");return e}};t.default=l,e.exports=l},61575:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(3842),i=function(e){return e&&e.__esModule?e:{default:e}}(n(24927));let o=r.LocalDate.ofYearDay(1,1),s=Buffer.from([0]),a={id:42,type:"DATETIME2N",name:"DateTime2",declaration:function(e){return"datetime2("+this.resolveScale(e)+")"},resolveScale:function(e){return null!=e.scale?e.scale:null===e.value?0:7},generateTypeInfo(e,t){return Buffer.from([this.id,e.scale])},generateParameterLength(e,t){if(null==e.value)return s;switch(e.scale){case 0:case 1:case 2:return Buffer.from([6]);case 3:case 4:return Buffer.from([7]);case 5:case 6:case 7:return Buffer.from([8]);default:throw Error("invalid scale")}},*generateParameterData(e,t){let n,s;if(null==e.value)return;let a=e.value,l=e.scale,c=new i.default(16);switch(n=Math.round(n=(t.useUTC?((60*a.getUTCHours()+a.getUTCMinutes())*60+a.getUTCSeconds())*1e3+a.getUTCMilliseconds():((60*a.getHours()+a.getMinutes())*60+a.getSeconds())*1e3+a.getMilliseconds())*Math.pow(10,l-3)+(null!=a.nanosecondDelta?a.nanosecondDelta:0)*Math.pow(10,l)),l){case 0:case 1:case 2:c.writeUInt24LE(n);break;case 3:case 4:c.writeUInt32LE(n);break;case 5:case 6:case 7:c.writeUInt40LE(n)}s=t.useUTC?r.LocalDate.of(a.getUTCFullYear(),a.getUTCMonth()+1,a.getUTCDate()):r.LocalDate.of(a.getFullYear(),a.getMonth()+1,a.getDate());let u=o.until(s,r.ChronoUnit.DAYS);c.writeUInt24LE(u),yield c.data},validate:function(e,t,n){let r;if(null==e)return null;if(e instanceof Date||(e=new Date(Date.parse(e))),(r=n&&n.useUTC?e.getUTCFullYear():e.getFullYear())<1||r>9999)throw TypeError("Out of range.");if(isNaN(e))throw TypeError("Invalid date.");return e}};t.default=a,e.exports=a},21937:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let n={id:111,type:"DATETIMN",name:"DateTimeN",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=n,e.exports=n},59640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(3842),i=function(e){return e&&e.__esModule?e:{default:e}}(n(24927));let o=r.LocalDate.ofYearDay(1,1),s=Buffer.from([0]),a={id:43,type:"DATETIMEOFFSETN",name:"DateTimeOffset",declaration:function(e){return"datetimeoffset("+this.resolveScale(e)+")"},resolveScale:function(e){return null!=e.scale?e.scale:null===e.value?0:7},generateTypeInfo(e){return Buffer.from([this.id,e.scale])},generateParameterLength(e,t){if(null==e.value)return s;switch(e.scale){case 0:case 1:case 2:return Buffer.from([8]);case 3:case 4:return Buffer.from([9]);case 5:case 6:case 7:return Buffer.from([10]);default:throw Error("invalid scale")}},*generateParameterData(e,t){let n;if(null==e.value)return;let s=e.value,a=e.scale,l=new i.default(16);switch(n=Math.round(n=(((60*s.getUTCHours()+s.getUTCMinutes())*60+s.getUTCSeconds())*1e3+s.getMilliseconds())*Math.pow(10,a-3)+(null!=s.nanosecondDelta?s.nanosecondDelta:0)*Math.pow(10,a)),a){case 0:case 1:case 2:l.writeUInt24LE(n);break;case 3:case 4:l.writeUInt32LE(n);break;case 5:case 6:case 7:l.writeUInt40LE(n)}let c=r.LocalDate.of(s.getUTCFullYear(),s.getUTCMonth()+1,s.getUTCDate()),u=o.until(c,r.ChronoUnit.DAYS);l.writeUInt24LE(u);let h=-s.getTimezoneOffset();l.writeInt16LE(h),yield l.data},validate:function(e,t,n){let r;if(null==e)return null;if(e instanceof Date||(e=new Date(Date.parse(e))),(r=n&&n.useUTC?e.getUTCFullYear():e.getFullYear())<1||r>9999)throw TypeError("Out of range.");if(isNaN(e))throw TypeError("Invalid date.");return e}};t.default=a,e.exports=a},68386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(34177)),i=o(n(24927));function o(e){return e&&e.__esModule?e:{default:e}}let s=Buffer.from([0]),a={id:55,type:"DECIMAL",name:"Decimal",declaration:function(e){return"decimal("+this.resolvePrecision(e)+", "+this.resolveScale(e)+")"},resolvePrecision:function(e){return null!=e.precision?e.precision:null===e.value?1:18},resolveScale:function(e){return null!=e.scale?e.scale:0},generateTypeInfo(e,t){let n;return n=e.precision<=9?5:e.precision<=19?9:e.precision<=28?13:17,Buffer.from([r.default.id,n,e.precision,e.scale])},generateParameterLength(e,t){if(null==e.value)return s;let n=e.precision;return n<=9?Buffer.from([5]):n<=19?Buffer.from([9]):n<=28?Buffer.from([13]):Buffer.from([17])},*generateParameterData(e,t){if(null==e.value)return;let n=e.value<0?0:1,r=Math.round(Math.abs(e.value*Math.pow(10,e.scale))),o=e.precision;if(o<=9){let e=Buffer.alloc(5);e.writeUInt8(n,0),e.writeUInt32LE(r,1),yield e}else if(o<=19){let e=new i.default(9);e.writeUInt8(n),e.writeUInt64LE(r),yield e.data}else if(o<=28){let e=new i.default(13);e.writeUInt8(n),e.writeUInt64LE(r),e.writeUInt32LE(0),yield e.data}else{let e=new i.default(17);e.writeUInt8(n),e.writeUInt64LE(r),e.writeUInt32LE(0),e.writeUInt32LE(0),yield e.data}},validate:function(e){if(null==e)return null;if(isNaN(e=parseFloat(e)))throw TypeError("Invalid number.");return e}};t.default=a,e.exports=a},34177:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let n={id:106,type:"DECIMALN",name:"DecimalN",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=n,e.exports=n},29357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(8294));let i=Buffer.from([0]),o={id:62,type:"FLT8",name:"Float",declaration:function(){return"float"},generateTypeInfo:()=>Buffer.from([r.default.id,8]),generateParameterLength:(e,t)=>null==e.value?i:Buffer.from([8]),*generateParameterData(e,t){if(null==e.value)return;let n=Buffer.alloc(8);n.writeDoubleLE(parseFloat(e.value),0),yield n},validate:function(e){if(null==e)return null;if(isNaN(e=parseFloat(e)))throw TypeError("Invalid number.");return e}};t.default=o,e.exports=o},8294:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let n={id:109,type:"FLTN",name:"FloatN",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=n,e.exports=n},24971:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let n=Buffer.from([255,255,255,255]),r={id:34,type:"IMAGE",name:"Image",hasTableName:!0,declaration:function(){return"image"},resolveLength:function(e){return null!=e.value?e.value.length:-1},generateTypeInfo(e){let t=Buffer.alloc(5);return t.writeUInt8(this.id,0),t.writeInt32LE(e.length,1),t},generateParameterLength(e,t){if(null==e.value)return n;let r=Buffer.alloc(4);return r.writeInt32LE(e.value.length,0),r},*generateParameterData(e,t){null!=e.value&&(yield e.value)},validate:function(e){if(null==e)return null;if(!Buffer.isBuffer(e))throw TypeError("Invalid buffer.");return e}};t.default=r,e.exports=r},2650:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(28061));let i=Buffer.from([0]),o=Buffer.from([4]),s={id:56,type:"INT4",name:"Int",declaration:function(){return"int"},generateTypeInfo:()=>Buffer.from([r.default.id,4]),generateParameterLength:(e,t)=>null==e.value?i:o,*generateParameterData(e,t){if(null==e.value)return;let n=Buffer.alloc(4);n.writeInt32LE(Number(e.value),0),yield n},validate:function(e){if(null==e)return null;if("number"!=typeof e&&(e=Number(e)),isNaN(e))throw TypeError("Invalid number.");if(e<-2147483648||e>2147483647)throw TypeError("Value must be between -2147483648 and 2147483647, inclusive.");return 0|e}};t.default=s,e.exports=s},28061:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let n={id:38,type:"INTN",name:"IntN",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=n,e.exports=n},1241:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(92391));let i=Buffer.from([0]),o=Buffer.from([8]),s={id:60,type:"MONEY",name:"Money",declaration:function(){return"money"},generateTypeInfo:function(){return Buffer.from([r.default.id,8])},generateParameterLength:(e,t)=>null==e.value?i:o,*generateParameterData(e,t){if(null==e.value)return;let n=1e4*e.value,r=Buffer.alloc(8);r.writeInt32LE(Math.floor(23283064365386963e-26*n),0),r.writeInt32LE(-1&n,4),yield r},validate:function(e){if(null==e)return null;if(isNaN(e=parseFloat(e)))throw TypeError("Invalid number.");if(e<-922337203685477.6||e>922337203685477.6)throw TypeError("Value must be between -922337203685477.5808 and 922337203685477.5807, inclusive.");return e}};t.default=s,e.exports=s},92391:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let n={id:110,type:"MONEYN",name:"MoneyN",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=n,e.exports=n},54169:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let n=Buffer.from([255,255]),r={id:239,type:"NCHAR",name:"NChar",maximumLength:4e3,declaration:function(e){let t;let n=e.value;return(t=e.length?e.length:null!=e.value?n.toString().length||1:null!==e.value||e.output?this.maximumLength:1)<this.maximumLength?"nchar("+t+")":"nchar("+this.maximumLength+")"},resolveLength:function(e){let t=e.value;return null!=e.length?e.length:null==e.value?this.maximumLength:Buffer.isBuffer(e.value)?e.value.length/2||1:t.toString().length||1},generateTypeInfo:function(e){let t=Buffer.alloc(8);return t.writeUInt8(this.id,0),t.writeUInt16LE(2*e.length,1),e.collation&&e.collation.toBuffer().copy(t,3,0,5),t},generateParameterLength(e,t){if(null==e.value)return n;let{value:r}=e;if(r instanceof Buffer){let e=r.length,t=Buffer.alloc(2);return t.writeUInt16LE(e,0),t}{let e=Buffer.byteLength(r.toString(),"ucs2"),t=Buffer.alloc(2);return t.writeUInt16LE(e,0),t}},*generateParameterData(e,t){if(null==e.value)return;let n=e.value;n instanceof Buffer?yield n:yield Buffer.from(n,"ucs2")},validate:function(e){if(null==e)return null;if("string"!=typeof e)throw TypeError("Invalid string.");return e}};t.default=r,e.exports=r},73338:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let n=Buffer.from([255,255,255,255]),r={id:99,type:"NTEXT",name:"NText",hasTableName:!0,declaration:function(){return"ntext"},resolveLength:function(e){let t=e.value;return null!=t?t.length:-1},generateTypeInfo(e,t){let n=Buffer.alloc(10);return n.writeUInt8(this.id,0),n.writeInt32LE(e.length,1),e.collation&&e.collation.toBuffer().copy(n,5,0,5),n},generateParameterLength(e,t){if(null==e.value)return n;let r=Buffer.alloc(4);return r.writeInt32LE(Buffer.byteLength(e.value,"ucs2"),0),r},generateParameterData:function*(e,t){null!=e.value&&(yield Buffer.from(e.value.toString(),"ucs2"))},validate:function(e){if(null==e)return null;if("string"!=typeof e)throw TypeError("Invalid string.");return e}};t.default=r,e.exports=r},81015:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let n={id:31,type:"NULL",name:"Null",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=n,e.exports=n},20206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(29233)),i=o(n(24927));function o(e){return e&&e.__esModule?e:{default:e}}let s=Buffer.from([0]),a={id:63,type:"NUMERIC",name:"Numeric",declaration:function(e){return"numeric("+this.resolvePrecision(e)+", "+this.resolveScale(e)+")"},resolvePrecision:function(e){return null!=e.precision?e.precision:null===e.value?1:18},resolveScale:function(e){return null!=e.scale?e.scale:0},generateTypeInfo(e){let t;return t=e.precision<=9?5:e.precision<=19?9:e.precision<=28?13:17,Buffer.from([r.default.id,t,e.precision,e.scale])},generateParameterLength(e,t){if(null==e.value)return s;let n=e.precision;return n<=9?Buffer.from([5]):n<=19?Buffer.from([9]):n<=28?Buffer.from([13]):Buffer.from([17])},*generateParameterData(e,t){if(null==e.value)return;let n=e.value<0?0:1,r=Math.round(Math.abs(e.value*Math.pow(10,e.scale)));if(e.precision<=9){let e=Buffer.alloc(5);e.writeUInt8(n,0),e.writeUInt32LE(r,1),yield e}else if(e.precision<=19){let e=new i.default(10);e.writeUInt8(n),e.writeUInt64LE(r),yield e.data}else if(e.precision<=28){let e=new i.default(14);e.writeUInt8(n),e.writeUInt64LE(r),e.writeUInt32LE(0),yield e.data}else{let e=new i.default(18);e.writeUInt8(n),e.writeUInt64LE(r),e.writeUInt32LE(0),e.writeUInt32LE(0),yield e.data}},validate:function(e){if(null==e)return null;if(isNaN(e=parseFloat(e)))throw TypeError("Invalid number.");return e}};t.default=a,e.exports=a},29233:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let n={id:108,type:"NUMERICN",name:"NumericN",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=n,e.exports=n},88071:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let n=Buffer.from([254,255,255,255,255,255,255,255]),r=Buffer.from([0,0,0,0]),i=Buffer.from([255,255]),o=Buffer.from([255,255,255,255,255,255,255,255]),s={id:231,type:"NVARCHAR",name:"NVarChar",maximumLength:4e3,declaration:function(e){let t;let n=e.value;return(t=e.length?e.length:null!=n?n.toString().length||1:null!==n||e.output?this.maximumLength:1)<=this.maximumLength?"nvarchar("+t+")":"nvarchar(max)"},resolveLength:function(e){let t=e.value;return null!=e.length?e.length:null==t?this.maximumLength:Buffer.isBuffer(t)?t.length/2||1:t.toString().length||1},generateTypeInfo(e){let t=Buffer.alloc(8);return t.writeUInt8(this.id,0),e.length<=this.maximumLength?t.writeUInt16LE(2*e.length,1):t.writeUInt16LE(65535,1),e.collation&&e.collation.toBuffer().copy(t,3,0,5),t},generateParameterLength(e,t){if(null==e.value)return e.length<=this.maximumLength?i:o;let r=e.value;if(!(e.length<=this.maximumLength))return n;{let e;r instanceof Buffer?e=r.length:(r=r.toString(),e=Buffer.byteLength(r,"ucs2"));let t=Buffer.alloc(2);return t.writeUInt16LE(e,0),t}},*generateParameterData(e,t){if(null==e.value)return;let n=e.value;if(e.length<=this.maximumLength)n instanceof Buffer?yield n:(n=n.toString(),yield Buffer.from(n,"ucs2"));else{if(n instanceof Buffer){let e=n.length;if(e>0){let t=Buffer.alloc(4);t.writeUInt32LE(e,0),yield t,yield n}}else{n=n.toString();let e=Buffer.byteLength(n,"ucs2");if(e>0){let t=Buffer.alloc(4);t.writeUInt32LE(e,0),yield t,yield Buffer.from(n,"ucs2")}}yield r}},validate:function(e){if(null==e)return null;if("string"!=typeof e)throw TypeError("Invalid string.");return e}};t.default=s,e.exports=s},37718:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(8294));let i=Buffer.from([0]),o=Buffer.from([4]),s={id:59,type:"FLT4",name:"Real",declaration:function(){return"real"},generateTypeInfo:()=>Buffer.from([r.default.id,4]),generateParameterLength:(e,t)=>null==e.value?i:o,*generateParameterData(e,t){if(null==e.value)return;let n=Buffer.alloc(4);n.writeFloatLE(parseFloat(e.value),0),yield n},validate:function(e){if(null==e)return null;if(isNaN(e=parseFloat(e)))throw TypeError("Invalid number.");return e}};t.default=s,e.exports=s},94457:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(21937));let i=new Date(1900,0,1),o=new Date(Date.UTC(1900,0,1)),s=Buffer.from([4]),a=Buffer.from([0]),l={id:58,type:"DATETIM4",name:"SmallDateTime",declaration:function(){return"smalldatetime"},generateTypeInfo:()=>Buffer.from([r.default.id,4]),generateParameterLength:(e,t)=>null==e.value?a:s,generateParameterData:function*(e,t){let n,r,s;if(null==e.value)return;let a=Buffer.alloc(4);t.useUTC?(n=Math.floor((e.value.getTime()-o.getTime())/864e5),s=60*e.value.getUTCHours()+e.value.getUTCMinutes()):(r=-(6e4*(e.value.getTimezoneOffset()-i.getTimezoneOffset())),n=Math.floor((e.value.getTime()-i.getTime()+r)/864e5),s=60*e.value.getHours()+e.value.getMinutes()),a.writeUInt16LE(n,0),a.writeUInt16LE(s,2),yield a},validate:function(e,t,n){let r,i,o;if(null==e)return null;if(e instanceof Date||(e=new Date(Date.parse(e))),n&&n.useUTC?(r=e.getUTCFullYear(),i=e.getUTCMonth(),o=e.getUTCDate()):(r=e.getFullYear(),i=e.getMonth(),o=e.getDate()),r<1900||r>2079||2079===r&&(i>4||4===i&&o>6))throw TypeError("Out of range.");if(isNaN(e))throw TypeError("Invalid date.");return e}};t.default=l,e.exports=l},33177:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(28061));let i=Buffer.from([2]),o=Buffer.from([0]),s={id:52,type:"INT2",name:"SmallInt",declaration:function(){return"smallint"},generateTypeInfo:()=>Buffer.from([r.default.id,2]),generateParameterLength:(e,t)=>null==e.value?o:i,*generateParameterData(e,t){if(null==e.value)return;let n=Buffer.alloc(2);n.writeInt16LE(Number(e.value),0),yield n},validate:function(e){if(null==e)return null;if("number"!=typeof e&&(e=Number(e)),isNaN(e))throw TypeError("Invalid number.");if(e<-32768||e>32767)throw TypeError("Value must be between -32768 and 32767, inclusive.");return 0|e}};t.default=s,e.exports=s},97837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(92391));let i=Buffer.from([4]),o=Buffer.from([0]),s={id:122,type:"MONEY4",name:"SmallMoney",declaration:function(){return"smallmoney"},generateTypeInfo:function(){return Buffer.from([r.default.id,4])},generateParameterLength:(e,t)=>null==e.value?o:i,*generateParameterData(e,t){if(null==e.value)return;let n=Buffer.alloc(4);n.writeInt32LE(1e4*e.value,0),yield n},validate:function(e){if(null==e)return null;if(isNaN(e=parseFloat(e)))throw TypeError("Invalid number.");if(e<-214748.3648||e>214748.3647)throw TypeError("Value must be between -214748.3648 and 214748.3647.");return e}};t.default=s,e.exports=s},1834:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let n={id:98,type:"SSVARIANTTYPE",name:"Variant",declaration:function(){return"sql_variant"},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=n,e.exports=n},37615:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(95813));let i=Buffer.from([255,255,255,255]),o={id:35,type:"TEXT",name:"Text",hasTableName:!0,declaration:function(){return"text"},resolveLength:function(e){let t=e.value;return null!=t?t.length:-1},generateTypeInfo(e,t){let n=Buffer.alloc(10);return n.writeUInt8(this.id,0),n.writeInt32LE(e.length,1),e.collation&&e.collation.toBuffer().copy(n,5,0,5),n},generateParameterLength(e,t){let n=e.value;if(null==n)return i;let r=Buffer.alloc(4);return r.writeInt32LE(n.length,0),r},generateParameterData:function*(e,t){let n=e.value;null!=n&&(yield n)},validate:function(e,t){if(null==e)return null;if("string"!=typeof e)throw TypeError("Invalid string.");if(!t)throw Error("No collation was set by the server for the current connection.");if(!t.codepage)throw Error("The collation set by the server has no associated encoding.");return r.default.encode(e,t.codepage)}};t.default=o,e.exports=o},43710:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(24927));let i=Buffer.from([0]),o={id:41,type:"TIMEN",name:"Time",declaration:function(e){return"time("+this.resolveScale(e)+")"},resolveScale:function(e){return null!=e.scale?e.scale:null===e.value?0:7},generateTypeInfo(e){return Buffer.from([this.id,e.scale])},generateParameterLength(e,t){if(null==e.value)return i;switch(e.scale){case 0:case 1:case 2:return Buffer.from([3]);case 3:case 4:return Buffer.from([4]);case 5:case 6:case 7:return Buffer.from([5]);default:throw Error("invalid scale")}},*generateParameterData(e,t){let n;if(null==e.value)return;let i=new r.default(16),o=e.value;switch(n=Math.round(n=(t.useUTC?((60*o.getUTCHours()+o.getUTCMinutes())*60+o.getUTCSeconds())*1e3+o.getUTCMilliseconds():((60*o.getHours()+o.getMinutes())*60+o.getSeconds())*1e3+o.getMilliseconds())*Math.pow(10,e.scale-3)+(null!=e.value.nanosecondDelta?e.value.nanosecondDelta:0)*Math.pow(10,e.scale)),e.scale){case 0:case 1:case 2:i.writeUInt24LE(n);break;case 3:case 4:i.writeUInt32LE(n);break;case 5:case 6:case 7:i.writeUInt40LE(n)}yield i.data},validate:function(e){if(null==e)return null;if(e instanceof Date||(e=new Date(Date.parse(e))),isNaN(e))throw TypeError("Invalid time.");return e}};t.default=o,e.exports=o},98269:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(28061));let i=Buffer.from([1]),o=Buffer.from([0]),s={id:48,type:"INT1",name:"TinyInt",declaration:function(){return"tinyint"},generateTypeInfo:()=>Buffer.from([r.default.id,1]),generateParameterLength:(e,t)=>null==e.value?o:i,*generateParameterData(e,t){if(null==e.value)return;let n=Buffer.alloc(1);n.writeUInt8(Number(e.value),0),yield n},validate:function(e){if(null==e)return null;if("number"!=typeof e&&(e=Number(e)),isNaN(e))throw TypeError("Invalid number.");if(e<0||e>255)throw TypeError("Value must be between 0 and 255, inclusive.");return 0|e}};t.default=s,e.exports=s},55988:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(24927));let i=Buffer.from([1]),o=Buffer.from([0]),s=Buffer.from([255,255]),a={id:243,type:"TVPTYPE",name:"TVP",declaration:function(e){return e.value.name+" readonly"},generateTypeInfo(e){var t,n;let i=(null===(t=e.value)||void 0===t?void 0:t.schema)??"",o=(null===(n=e.value)||void 0===n?void 0:n.name)??"",s=2+Buffer.byteLength("","ucs2")+1+Buffer.byteLength(i,"ucs2")+1+Buffer.byteLength(o,"ucs2"),a=new r.default(s,"ucs2");return a.writeUInt8(this.id),a.writeBVarchar(""),a.writeBVarchar(i),a.writeBVarchar(o),a.data},generateParameterLength(e,t){if(null==e.value)return s;let{columns:n}=e.value,r=Buffer.alloc(2);return r.writeUInt16LE(n.length,0),r},*generateParameterData(e,t){if(null==e.value){yield o,yield o;return}let{columns:n,rows:r}=e.value;for(let e=0,t=n.length;e<t;e++){let t=n[e],r=Buffer.alloc(6);r.writeUInt32LE(0,0),r.writeUInt16LE(0,4),yield r,yield t.type.generateTypeInfo(t),yield Buffer.from([0])}yield o;for(let o=0,s=r.length;o<s;o++){yield i;let s=r[o];for(let r=0,i=s.length;r<i;r++){let i=n[r],o=s[r],a={value:i.type.validate(o,e.collation),length:i.length,scale:i.scale,precision:i.precision};yield i.type.generateParameterLength(a,t),yield*i.type.generateParameterData(a,t)}}yield o},validate:function(e){if(null==e)return null;if("object"!=typeof e||!Array.isArray(e.columns)||!Array.isArray(e.rows))throw TypeError("Invalid table.");return e}};t.default=a,e.exports=a},60771:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let n={id:240,type:"UDTTYPE",name:"UDT",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=n,e.exports=n},97101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(90035);let i=Buffer.from([0]),o=Buffer.from([16]),s={id:36,type:"GUIDN",name:"UniqueIdentifier",declaration:function(){return"uniqueidentifier"},resolveLength:function(){return 16},generateTypeInfo(){return Buffer.from([this.id,16])},generateParameterLength:(e,t)=>null==e.value?i:o,generateParameterData:function*(e,t){null!=e.value&&(yield Buffer.from((0,r.guidToArray)(e.value)))},validate:function(e){if(null==e)return null;if("string"!=typeof e)throw TypeError("Invalid string.");if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e))throw TypeError("Invalid GUID.");return e}};t.default=s,e.exports=s},76349:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let n=Buffer.from([254,255,255,255,255,255,255,255]),r=Buffer.from([0,0,0,0]),i=Buffer.from([255,255]),o=Buffer.from([255,255,255,255,255,255,255,255]),s={id:165,type:"BIGVARBIN",name:"VarBinary",maximumLength:8e3,declaration:function(e){let t;let n=e.value;return(t=e.length?e.length:null!=n?n.length||1:null!==n||e.output?this.maximumLength:1)<=this.maximumLength?"varbinary("+t+")":"varbinary(max)"},resolveLength:function(e){let t=e.value;return null!=e.length?e.length:null!=t?t.length:this.maximumLength},generateTypeInfo:function(e){let t=Buffer.alloc(3);return t.writeUInt8(this.id,0),e.length<=this.maximumLength?t.writeUInt16LE(e.length,1):t.writeUInt16LE(65535,1),t},generateParameterLength(e,t){if(null==e.value)return e.length<=this.maximumLength?i:o;let r=e.value;Buffer.isBuffer(r)||(r=r.toString());let s=Buffer.byteLength(r,"ucs2");if(!(e.length<=this.maximumLength))return n;{let e=Buffer.alloc(2);return e.writeUInt16LE(s,0),e}},*generateParameterData(e,t){if(null==e.value)return;let n=e.value;if(e.length<=this.maximumLength)Buffer.isBuffer(n)?yield n:yield Buffer.from(n.toString(),"ucs2");else{Buffer.isBuffer(n)||(n=n.toString());let e=Buffer.byteLength(n,"ucs2");if(e>0){let t=Buffer.alloc(4);t.writeUInt32LE(e,0),yield t,Buffer.isBuffer(n)?yield n:yield Buffer.from(n,"ucs2")}yield r}},validate:function(e){if(null==e)return null;if(!Buffer.isBuffer(e))throw TypeError("Invalid buffer.");return e}};t.default=s,e.exports=s},6266:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(95813));let i=Buffer.from([254,255,255,255,255,255,255,255]),o=Buffer.from([0,0,0,0]),s=Buffer.from([255,255]),a=Buffer.from([255,255,255,255,255,255,255,255]),l={id:167,type:"BIGVARCHR",name:"VarChar",maximumLength:8e3,declaration:function(e){let t;let n=e.value;return(t=e.length?e.length:null!=n?n.length||1:null!==n||e.output?this.maximumLength:1)<=this.maximumLength?"varchar("+t+")":"varchar(max)"},resolveLength:function(e){let t=e.value;return null!=e.length?e.length:null!=t?t.length||1:this.maximumLength},generateTypeInfo(e){let t=Buffer.alloc(8);return t.writeUInt8(this.id,0),e.length<=this.maximumLength?t.writeUInt16LE(e.length,1):t.writeUInt16LE(65535,1),e.collation&&e.collation.toBuffer().copy(t,3,0,5),t},generateParameterLength(e,t){let n=e.value;if(null==n)return e.length<=this.maximumLength?s:a;if(!(e.length<=this.maximumLength))return i;{let e=Buffer.alloc(2);return e.writeUInt16LE(n.length,0),e}},*generateParameterData(e,t){let n=e.value;if(null!=n){if(e.length<=this.maximumLength)yield n;else{if(n.length>0){let e=Buffer.alloc(4);e.writeUInt32LE(n.length,0),yield e,yield n}yield o}}},validate:function(e,t){if(null==e)return null;if("string"!=typeof e)throw TypeError("Invalid string.");if(!t)throw Error("No collation was set by the server for the current connection.");if(!t.codepage)throw Error("The collation set by the server has no associated encoding.");return r.default.encode(e,t.codepage)}};t.default=l,e.exports=l},76940:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let n={id:241,type:"XML",name:"Xml",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=n,e.exports=n},32005:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(17702),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(void 0);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=i?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}(n(21764));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}class s extends r.EventEmitter{constructor({data:e=!1,payload:t=!1,packet:n=!1,token:r=!1}={}){super(),this.options={data:e,payload:t,packet:n,token:r},this.indent="  "}packet(e,t){this.haveListeners()&&this.options.packet&&(this.log(""),this.log(e),this.log(t.headerToString(this.indent)))}data(e){this.haveListeners()&&this.options.data&&this.log(e.dataToString(this.indent))}payload(e){this.haveListeners()&&this.options.payload&&this.log(e())}token(e){this.haveListeners()&&this.options.token&&this.log(i.inspect(e,{showHidden:!1,depth:5,colors:!0}))}haveListeners(){return this.listeners("debug").length>0}log(e){this.emit("debug",e)}}t.default=s,e.exports=s},71790:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequestError=t.ConnectionError=void 0;class n extends Error{constructor(e,t){super(e),this.code=t}}t.ConnectionError=n;class r extends Error{constructor(e,t){super(e),this.code=t}}t.RequestError=r},62405:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class n extends Error{constructor(){super("The operation was aborted"),this.code="ABORT_ERR",this.name="AbortError"}}t.default=n},48959:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class n extends Error{constructor(){super("The operation was aborted due to timeout"),this.code="TIMEOUT_ERR",this.name="TimeoutError"}}t.default=n},90035:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bufferToLowerCaseGuid=function(e){return r[e[3]]+r[e[2]]+r[e[1]]+r[e[0]]+"-"+r[e[5]]+r[e[4]]+"-"+r[e[7]]+r[e[6]]+"-"+r[e[8]]+r[e[9]]+"-"+r[e[10]]+r[e[11]]+r[e[12]]+r[e[13]]+r[e[14]]+r[e[15]]},t.bufferToUpperCaseGuid=function(e){return n[e[3]]+n[e[2]]+n[e[1]]+n[e[0]]+"-"+n[e[5]]+n[e[4]]+"-"+n[e[7]]+n[e[6]]+"-"+n[e[8]]+n[e[9]]+"-"+n[e[10]]+n[e[11]]+n[e[12]]+n[e[13]]+n[e[14]]+n[e[15]]},t.guidToArray=function(e){return[i[e.charCodeAt(6)][e.charCodeAt(7)],i[e.charCodeAt(4)][e.charCodeAt(5)],i[e.charCodeAt(2)][e.charCodeAt(3)],i[e.charCodeAt(0)][e.charCodeAt(1)],i[e.charCodeAt(11)][e.charCodeAt(12)],i[e.charCodeAt(9)][e.charCodeAt(10)],i[e.charCodeAt(16)][e.charCodeAt(17)],i[e.charCodeAt(14)][e.charCodeAt(15)],i[e.charCodeAt(19)][e.charCodeAt(20)],i[e.charCodeAt(21)][e.charCodeAt(22)],i[e.charCodeAt(24)][e.charCodeAt(25)],i[e.charCodeAt(26)][e.charCodeAt(27)],i[e.charCodeAt(28)][e.charCodeAt(29)],i[e.charCodeAt(30)][e.charCodeAt(31)],i[e.charCodeAt(32)][e.charCodeAt(33)],i[e.charCodeAt(34)][e.charCodeAt(35)]]};let n=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"],r=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],i={},o=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","A","B","C","D","E","F"].map(e=>e.charCodeAt(0));for(let e=0;e<o.length;e++){let t=i[o[e]]={};for(let n=0;n<o.length;n++){let r=parseInt(String.fromCharCode(o[e],o[n]),16);t[o[n]]=r}}},4438:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(65186)),i=n(76162),o=l(n(63640)),s=n(88897),a=n(71790);function l(e){return e&&e.__esModule?e:{default:e}}class c extends i.Transform{constructor(e){super({readableObjectMode:!0}),this.debug=e,this.currentMessage=void 0,this.bl=new r.default}pause(){return super.pause(),this.currentMessage&&this.currentMessage.pause(),this}resume(){return super.resume(),this.currentMessage&&this.currentMessage.resume(),this}processBufferedData(e){for(;this.bl.length>=s.HEADER_LENGTH;){let t=this.bl.readUInt16BE(2);if(t<s.HEADER_LENGTH)return e(new a.ConnectionError("Unable to process incoming packet"));if(this.bl.length>=t){let n=this.bl.slice(0,t);this.bl.consume(t);let r=new s.Packet(n);this.debug.packet("Received",r),this.debug.data(r);let i=this.currentMessage;if(void 0===i&&(this.currentMessage=i=new o.default({type:r.type(),resetConnection:!1}),this.push(i)),r.isLast()){i.once("end",()=>{this.currentMessage=void 0,this.processBufferedData(e)}),i.end(r.data());return}if(!i.write(r.data())){i.once("drain",()=>{this.processBufferedData(e)});return}}else break}e()}_transform(e,t,n){this.bl.append(e),this.processBufferedData(n)}}t.default=c,e.exports=c},60876:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.instanceLookup=l,t.parseBrowserResponse=c;var r=a(n(80665)),i=a(n(62405)),o=n(34593),s=n(55703);function a(e){return e&&e.__esModule?e:{default:e}}async function l(e){let t;let n=e.server;if("string"!=typeof n)throw TypeError('Invalid arguments: "server" must be a string');let a=e.instanceName;if("string"!=typeof a)throw TypeError('Invalid arguments: "instanceName" must be a string');let l=void 0===e.timeout?2e3:e.timeout;if("number"!=typeof l)throw TypeError('Invalid arguments: "timeout" must be a number');let u=void 0===e.retries?3:e.retries;if("number"!=typeof u)throw TypeError('Invalid arguments: "retries" must be a number');if(void 0!==e.lookup&&"function"!=typeof e.lookup)throw TypeError('Invalid arguments: "lookup" must be a function');let h=e.lookup??r.default.lookup;if(void 0!==e.port&&"number"!=typeof e.port)throw TypeError('Invalid arguments: "port" must be a number');let d=e.port??1434,f=e.signal;if(f.aborted)throw new i.default;for(let n=0;n<=u;n++)try{t=await (0,s.withTimeout)(l,async t=>{let n=Buffer.from([2]);return await (0,o.sendMessage)(e.server,d,h,t,n)},f)}catch(e){if(!f.aborted&&e instanceof Error&&"TimeoutError"===e.name)continue;throw e}if(!t)throw Error("Failed to get response from SQL Server Browser on "+n);let p=c(t.toString("ascii",3),a);if(!p)throw Error("Port for "+a+" not found in "+e.server);return p}function c(e,t){let n;let r=e.split(";;");for(let e=0,i=r.length;e<i;e++){let i=r[e].split(";");for(let e=0,r=i.length;e<r;e+=2){let r=i[e],o=i[e+1];if("tcp"===r&&n)return parseInt(o,10);"InstanceName"===r&&(n=o.toUpperCase()===t.toUpperCase())}}}},93624:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.name=void 0,t.name="Tedious"},79409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(78950),i=n(27577);let o={ENDIAN_LITTLE:0,CHARSET_ASCII:0,FLOAT_IEEE_754:0,BCP_DUMPLOAD_OFF:16,USE_DB_OFF:32,INIT_DB_WARN:0,INIT_DB_FATAL:64,SET_LANG_WARN_ON:128},s={INIT_LANG_WARN:0,ODBC_OFF:0,USER_NORMAL:0,INTEGRATED_SECURITY_OFF:0,INTEGRATED_SECURITY_ON:128},a={SQL_DFLT:0,OLEDB_OFF:0,READ_WRITE_INTENT:0,READ_ONLY_INTENT:32},l={CHANGE_PASSWORD_NO:0,UNKNOWN_COLLATION_HANDLING:8,EXTENSION_USED:16},c={FEATURE_ID:2,LIBRARY_SECURITYTOKEN:1,LIBRARY_ADAL:2,FEDAUTH_YES_ECHO:1,FEDAUTH_NO_ECHO:0,ADAL_WORKFLOW_USER_PASS:1};class u{constructor({tdsVersion:e,packetSize:t,clientProgVer:n,clientPid:r,connectionId:i,clientTimeZone:o,clientLcid:s}){this.tdsVersion=e,this.packetSize=t,this.clientProgVer=n,this.clientPid=r,this.connectionId=i,this.clientTimeZone=o,this.clientLcid=s,this.readOnlyIntent=!1,this.initDbFatal=!1,this.fedAuth=void 0,this.userName=void 0,this.password=void 0,this.serverName=void 0,this.appName=void 0,this.hostname=void 0,this.libraryName=void 0,this.language=void 0,this.database=void 0,this.clientId=void 0,this.sspi=void 0,this.attachDbFile=void 0,this.changePassword=void 0}toBuffer(){let e=Buffer.alloc(94),t=[e],n=0,r=e.length;if(n=e.writeUInt32LE(0,n),n=e.writeUInt32LE(this.tdsVersion,n),n=e.writeUInt32LE(this.packetSize,n),n=e.writeUInt32LE(this.clientProgVer,n),n=e.writeUInt32LE(this.clientPid,n),n=e.writeUInt32LE(this.connectionId,n),n=e.writeUInt8(this.buildOptionFlags1(),n),n=e.writeUInt8(this.buildOptionFlags2(),n),n=e.writeUInt8(this.buildTypeFlags(),n),n=e.writeUInt8(this.buildOptionFlags3(),n),n=e.writeInt32LE(this.clientTimeZone,n),n=e.writeUInt32LE(this.clientLcid,n),n=e.writeUInt16LE(r,n),this.hostname){let i=Buffer.from(this.hostname,"ucs2");n=e.writeUInt16LE(i.length/2,n),r+=i.length,t.push(i)}else n=e.writeUInt16LE(r,n);if(n=e.writeUInt16LE(r,n),this.userName){let i=Buffer.from(this.userName,"ucs2");n=e.writeUInt16LE(i.length/2,n),r+=i.length,t.push(i)}else n=e.writeUInt16LE(0,n);if(n=e.writeUInt16LE(r,n),this.password){let i=Buffer.from(this.password,"ucs2");n=e.writeUInt16LE(i.length/2,n),r+=i.length,t.push(this.scramblePassword(i))}else n=e.writeUInt16LE(0,n);if(n=e.writeUInt16LE(r,n),this.appName){let i=Buffer.from(this.appName,"ucs2");n=e.writeUInt16LE(i.length/2,n),r+=i.length,t.push(i)}else n=e.writeUInt16LE(0,n);if(n=e.writeUInt16LE(r,n),this.serverName){let i=Buffer.from(this.serverName,"ucs2");n=e.writeUInt16LE(i.length/2,n),r+=i.length,t.push(i)}else n=e.writeUInt16LE(0,n);n=e.writeUInt16LE(r,n);let i=this.buildFeatureExt();n=e.writeUInt16LE(4,n);let o=Buffer.alloc(4);if(o.writeUInt32LE(r+=4,0),r+=i.length,t.push(o,i),n=e.writeUInt16LE(r,n),this.libraryName){let i=Buffer.from(this.libraryName,"ucs2");n=e.writeUInt16LE(i.length/2,n),r+=i.length,t.push(i)}else n=e.writeUInt16LE(0,n);if(n=e.writeUInt16LE(r,n),this.language){let i=Buffer.from(this.language,"ucs2");n=e.writeUInt16LE(i.length/2,n),r+=i.length,t.push(i)}else n=e.writeUInt16LE(0,n);if(n=e.writeUInt16LE(r,n),this.database){let i=Buffer.from(this.database,"ucs2");n=e.writeUInt16LE(i.length/2,n),r+=i.length,t.push(i)}else n=e.writeUInt16LE(0,n);if(this.clientId&&this.clientId.copy(e,n,0,6),n+=6,n=e.writeUInt16LE(r,n),this.sspi?(n=this.sspi.length>65535?e.writeUInt16LE(65535,n):e.writeUInt16LE(this.sspi.length,n),t.push(this.sspi)):n=e.writeUInt16LE(0,n),n=e.writeUInt16LE(r,n),this.attachDbFile){let i=Buffer.from(this.attachDbFile,"ucs2");n=e.writeUInt16LE(i.length/2,n),r+=i.length,t.push(i)}else n=e.writeUInt16LE(0,n);if(n=e.writeUInt16LE(r,n),this.changePassword){let i=Buffer.from(this.changePassword,"ucs2");n=e.writeUInt16LE(i.length/2,n),r+=i.length,t.push(i)}else n=e.writeUInt16LE(0,n);this.sspi&&this.sspi.length>65535?e.writeUInt32LE(this.sspi.length,n):e.writeUInt32LE(0,n);let s=Buffer.concat(t);return s.writeUInt32LE(s.length,0),s}buildOptionFlags1(){let e=o.ENDIAN_LITTLE|o.CHARSET_ASCII|o.FLOAT_IEEE_754|o.BCP_DUMPLOAD_OFF|o.USE_DB_OFF|o.SET_LANG_WARN_ON;return this.initDbFatal?e|=o.INIT_DB_FATAL:e|=o.INIT_DB_WARN,e}buildFeatureExt(){let e=[],t=this.fedAuth;if(t)switch(t.type){case"ADAL":let n=Buffer.alloc(7);n.writeUInt8(c.FEATURE_ID,0),n.writeUInt32LE(2,1),n.writeUInt8(c.LIBRARY_ADAL<<1|(t.echo?c.FEDAUTH_YES_ECHO:c.FEDAUTH_NO_ECHO),5),n.writeUInt8("integrated"===t.workflow?2:c.ADAL_WORKFLOW_USER_PASS,6),e.push(n);break;case"SECURITYTOKEN":let r=Buffer.from(t.fedAuthToken,"ucs2"),o=Buffer.alloc(10),s=0;s=o.writeUInt8(c.FEATURE_ID,s),s=o.writeUInt32LE(r.length+4+1,s),s=o.writeUInt8(c.LIBRARY_SECURITYTOKEN<<1|(t.echo?c.FEDAUTH_YES_ECHO:c.FEDAUTH_NO_ECHO),s),o.writeInt32LE(r.length,s),e.push(o),e.push(r)}if(this.tdsVersion>=i.versions["7_4"]){let t=Buffer.alloc(6);t.writeUInt8(10,0),t.writeUInt32LE(1,1),t.writeUInt8(1,5),e.push(t)}return e.push(Buffer.from([255])),Buffer.concat(e)}buildOptionFlags2(){let e=s.INIT_LANG_WARN|s.ODBC_OFF|s.USER_NORMAL;return this.sspi?e|=s.INTEGRATED_SECURITY_ON:e|=s.INTEGRATED_SECURITY_OFF,e}buildTypeFlags(){let e=a.SQL_DFLT|a.OLEDB_OFF;return this.readOnlyIntent?e|=a.READ_ONLY_INTENT:e|=a.READ_WRITE_INTENT,e}buildOptionFlags3(){return l.CHANGE_PASSWORD_NO|l.UNKNOWN_COLLATION_HANDLING|l.EXTENSION_USED}scramblePassword(e){for(let t=0,n=e.length;t<n;t++){let n=e[t];n=((15&n)<<4|n>>4)^165,e[t]=n}return e}toString(e=""){return e+"Login7 - "+(0,r.sprintf)("TDS:0x%08X, PacketSize:0x%08X, ClientProgVer:0x%08X, ClientPID:0x%08X, ConnectionID:0x%08X",this.tdsVersion,this.packetSize,this.clientProgVer,this.clientPid,this.connectionId)+"\n"+e+"         "+(0,r.sprintf)("Flags1:0x%02X, Flags2:0x%02X, TypeFlags:0x%02X, Flags3:0x%02X, ClientTimezone:%d, ClientLCID:0x%08X",this.buildOptionFlags1(),this.buildOptionFlags2(),this.buildTypeFlags(),this.buildOptionFlags3(),this.clientTimeZone,this.clientLcid)+"\n"+e+"         "+(0,r.sprintf)("Hostname:'%s', Username:'%s', Password:'%s', AppName:'%s', ServerName:'%s', LibraryName:'%s'",this.hostname,this.userName,this.password,this.appName,this.serverName,this.libraryName)+"\n"+e+"         "+(0,r.sprintf)("Language:'%s', Database:'%s', SSPI:'%s', AttachDbFile:'%s', ChangePassword:'%s'",this.language,this.database,this.sspi,this.attachDbFile,this.changePassword)}}t.default=u,e.exports=u},29070:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=h(n(34568)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(void 0);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(82452)),o=n(17702),s=h(n(63640)),a=n(88897),l=h(n(4438)),c=h(n(95898));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}class d extends o.EventEmitter{constructor(e,t,n){super(),this.socket=e,this.debug=n,this.tlsNegotiationComplete=!1,this.incomingMessageStream=new l.default(this.debug),this.incomingMessageIterator=this.incomingMessageStream[Symbol.asyncIterator](),this.outgoingMessageStream=new c.default(this.debug,{packetSize:t}),this.socket.pipe(this.incomingMessageStream),this.outgoingMessageStream.pipe(this.socket)}packetSize(...e){if(e.length>0){let t=e[0];this.debug.log("Packet size changed from "+this.outgoingMessageStream.packetSize+" to "+t),this.outgoingMessageStream.packetSize=t}return this.securePair&&this.securePair.cleartext.setMaxSendFragment(this.outgoingMessageStream.packetSize),this.outgoingMessageStream.packetSize}startTls(e,t,n){e.maxVersion&&["TLSv1.2","TLSv1.1","TLSv1"].includes(e.maxVersion)||(e.maxVersion="TLSv1.2");let o=i.createSecureContext(e);return new Promise((e,l)=>{let c=new r.default,u=this.securePair={cleartext:i.connect({socket:c.socket1,servername:t,secureContext:o,rejectUnauthorized:!n}),encrypted:c.socket2},h=()=>{u.encrypted.removeListener("readable",f),u.cleartext.removeListener("error",d),u.cleartext.removeListener("secureConnect",h),u.cleartext.once("error",e=>{this.socket.destroy(e)});let t=u.cleartext.getCipher();t&&this.debug.log("TLS negotiated ("+t.name+", "+t.version+")"),this.emit("secure",u.cleartext),u.cleartext.setMaxSendFragment(this.outgoingMessageStream.packetSize),this.outgoingMessageStream.unpipe(this.socket),this.socket.unpipe(this.incomingMessageStream),this.socket.pipe(u.encrypted),u.encrypted.pipe(this.socket),u.cleartext.pipe(this.incomingMessageStream),this.outgoingMessageStream.pipe(u.cleartext),this.tlsNegotiationComplete=!0,e()},d=e=>{u.encrypted.removeListener("readable",f),u.cleartext.removeListener("error",d),u.cleartext.removeListener("secureConnect",h),u.cleartext.destroy(),u.encrypted.destroy(),l(e)},f=()=>{let e;let t=new s.default({type:a.TYPE.PRELOGIN,resetConnection:!1});for(;e=u.encrypted.read();)t.write(e);this.outgoingMessageStream.write(t),t.end(),this.readMessage().then(async e=>{for await(let t of(u.encrypted.once("readable",f),e))u.encrypted.write(t)}).catch(d)};u.cleartext.once("error",d),u.cleartext.once("secureConnect",h),u.encrypted.once("readable",f)})}sendMessage(e,t,n){let r=new s.default({type:e,resetConnection:n});return r.end(t),this.outgoingMessageStream.write(r),r}async readMessage(){let e=await this.incomingMessageIterator.next();if(e.done)throw Error("unexpected end of message stream");return e.value}}t.default=d,e.exports=d},63640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(76162);class i extends r.PassThrough{constructor({type:e,resetConnection:t=!1}){super(),this.type=e,this.resetConnection=t,this.ignore=!1}}t.default=i,e.exports=i},50697:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.readCollation=a,t.readMetadata=l;var r=n(34132),i=n(47258),o=n(78950),s=n(32505);function a(e,t){if(t=+t,e.length<t+5)throw new s.NotEnoughDataError(t+5);let n=r.Collation.fromBuffer(e.slice(t,t+5));return new s.Result(n,t+5)}function l(e,t,n){var r,l;let c,u,h;({offset:t,value:c}=(n.tdsVersion<"7_2"?s.readUInt16LE:s.readUInt32LE)(e,t)),({offset:t,value:u}=(0,s.readUInt16LE)(e,t)),{offset:t,value:h}=(0,s.readUInt8)(e,t);let d=i.TYPE[h];if(!d)throw Error((0,o.sprintf)("Unrecognised data type 0x%02X",h));switch(d.name){case"Null":case"TinyInt":case"SmallInt":case"Int":case"BigInt":case"Real":case"Float":case"SmallMoney":case"Money":case"Bit":case"SmallDateTime":case"DateTime":case"Date":return new s.Result({userType:c,flags:u,type:d,collation:void 0,precision:void 0,scale:void 0,dataLength:void 0,schema:void 0,udtInfo:void 0},t);case"IntN":case"FloatN":case"MoneyN":case"BitN":case"UniqueIdentifier":case"DateTimeN":{let n;return{offset:t,value:n}=(0,s.readUInt8)(e,t),new s.Result({userType:c,flags:u,type:d,collation:void 0,precision:void 0,scale:void 0,dataLength:n,schema:void 0,udtInfo:void 0},t)}case"Variant":{let n;return{offset:t,value:n}=(0,s.readUInt32LE)(e,t),new s.Result({userType:c,flags:u,type:d,collation:void 0,precision:void 0,scale:void 0,dataLength:n,schema:void 0,udtInfo:void 0},t)}case"VarChar":case"Char":case"NVarChar":case"NChar":{let n,r;return{offset:t,value:n}=(0,s.readUInt16LE)(e,t),{offset:t,value:r}=a(e,t),new s.Result({userType:c,flags:u,type:d,collation:r,precision:void 0,scale:void 0,dataLength:n,schema:void 0,udtInfo:void 0},t)}case"Text":case"NText":{let n,r;return{offset:t,value:n}=(0,s.readUInt32LE)(e,t),{offset:t,value:r}=a(e,t),new s.Result({userType:c,flags:u,type:d,collation:r,precision:void 0,scale:void 0,dataLength:n,schema:void 0,udtInfo:void 0},t)}case"VarBinary":case"Binary":{let n;return{offset:t,value:n}=(0,s.readUInt16LE)(e,t),new s.Result({userType:c,flags:u,type:d,collation:void 0,precision:void 0,scale:void 0,dataLength:n,schema:void 0,udtInfo:void 0},t)}case"Image":{let n;return{offset:t,value:n}=(0,s.readUInt32LE)(e,t),new s.Result({userType:c,flags:u,type:d,collation:void 0,precision:void 0,scale:void 0,dataLength:n,schema:void 0,udtInfo:void 0},t)}case"Xml":{let n,i,o,a,l;return r=+(r=t),{offset:r,value:i}=(0,s.readUInt8)(e,r),{offset:t,value:n}=1!==i?new s.Result(void 0,r):({offset:r,value:o}=(0,s.readBVarChar)(e,r),{offset:r,value:a}=(0,s.readBVarChar)(e,r),{offset:r,value:l}=(0,s.readUsVarChar)(e,r),new s.Result({dbname:o,owningSchema:a,xmlSchemaCollection:l},r)),new s.Result({userType:c,flags:u,type:d,collation:void 0,precision:void 0,scale:void 0,dataLength:void 0,schema:n,udtInfo:void 0},t)}case"Time":case"DateTime2":case"DateTimeOffset":{let n;return{offset:t,value:n}=(0,s.readUInt8)(e,t),new s.Result({userType:c,flags:u,type:d,collation:void 0,precision:void 0,scale:n,dataLength:void 0,schema:void 0,udtInfo:void 0},t)}case"NumericN":case"DecimalN":{let n,r,i;return{offset:t,value:n}=(0,s.readUInt8)(e,t),{offset:t,value:r}=(0,s.readUInt8)(e,t),{offset:t,value:i}=(0,s.readUInt8)(e,t),new s.Result({userType:c,flags:u,type:d,collation:void 0,precision:r,scale:i,dataLength:n,schema:void 0,udtInfo:void 0},t)}case"UDT":{let n,r,i,o,a,h;return{offset:t,value:n}=(l=t,{offset:l,value:r}=(0,s.readUInt16LE)(e,l),{offset:l,value:i}=(0,s.readBVarChar)(e,l),{offset:l,value:o}=(0,s.readBVarChar)(e,l),{offset:l,value:a}=(0,s.readBVarChar)(e,l),{offset:l,value:h}=(0,s.readUsVarChar)(e,l),new s.Result({maxByteSize:r,dbname:i,owningSchema:o,typeName:a,assemblyName:h},l)),new s.Result({userType:c,flags:u,type:d,collation:void 0,precision:void 0,scale:void 0,dataLength:void 0,schema:void 0,udtInfo:n},t)}default:throw Error((0,o.sprintf)("Unrecognised type %s",d.name))}}function c(e,t,n){(async()=>{for(;;){let r;try{r=l(e.buffer,e.position,t)}catch(t){if(t instanceof s.NotEnoughDataError){await e.waitForChunk();continue}throw t}return e.position=r.offset,n(r.value)}})()}t.default=c,e.exports=c,e.exports.readCollation=a,e.exports.readMetadata=l},49489:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(24927)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(void 0);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(84770)),o=a(n(7303));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function a(e){return e&&e.__esModule?e:{default:e}}class l{constructor(e){this.data=this.createResponse(e)}toString(e=""){return e+"NTLM Auth"}createResponse(e){let t=this.createClientNonce(),n=e.domain,i=e.userName,o=e.password,s=e.ntlmpacket,a=s.target,l=s.nonce,c=64+2*n.length+2*i.length+24+16+8+8+8+4+a.length+4,u=new r.default(c);u.position=0,u.writeString("NTLMSSP\0","utf8"),u.writeUInt32LE(3);let h=64+2*n.length,d=h+2*i.length;u.writeUInt16LE(24),u.writeUInt16LE(24),u.writeUInt32LE(d),u.writeUInt16LE(16),u.writeUInt16LE(16),u.writeUInt32LE(d+24),u.writeUInt16LE(2*n.length),u.writeUInt16LE(2*n.length),u.writeUInt32LE(64),u.writeUInt16LE(2*i.length),u.writeUInt16LE(2*i.length),u.writeUInt32LE(h),u.writeUInt16LE(0),u.writeUInt16LE(0),u.writeUInt32LE(64),u.writeUInt16LE(0),u.writeUInt16LE(0),u.writeUInt32LE(64),u.writeUInt16LE(33281),u.writeUInt16LE(8),u.writeString(n,"ucs2"),u.writeString(i,"ucs2");let f=this.lmv2Response(n,i,o,l,t);u.copyFrom(f);let p=new Date().getTime(),m=this.ntlmv2Response(n,i,o,l,a,t,p);u.copyFrom(m),u.writeUInt32LE(257),u.writeUInt32LE(0);let g=this.createTimestamp(p);return u.copyFrom(g),u.copyFrom(t),u.writeUInt32LE(0),u.copyFrom(a),u.writeUInt32LE(0),u.data}createClientNonce(){let e=Buffer.alloc(8,0),t=0;for(;t<8;)e.writeUInt8(Math.ceil(255*Math.random()),t),t++;return e}ntlmv2Response(e,t,n,r,i,o,s){let a=this.createTimestamp(s),l=this.ntv2Hash(e,t,n),c=40+i.length,u=Buffer.alloc(c,0);return r.copy(u,0,0,8),u.writeUInt32LE(257,8),u.writeUInt32LE(0,12),a.copy(u,16,0,8),o.copy(u,24,0,8),u.writeUInt32LE(0,32),i.copy(u,36,0,i.length),u.writeUInt32LE(0,36+i.length),this.hmacMD5(u,l)}createTimestamp(e){let t=(BigInt(e)+BigInt(11644473600))*BigInt(1e7),n=Number(t&BigInt(4294967295)),r=Number(t>>BigInt(32)&BigInt(4294967295)),i=Buffer.alloc(8);return i.writeUInt32LE(n,0),i.writeUInt32LE(r,4),i}lmv2Response(e,t,n,r,i){let o=this.ntv2Hash(e,t,n),s=Buffer.alloc(r.length+i.length,0);r.copy(s),i.copy(s,r.length,0,i.length);let a=this.hmacMD5(s,o),l=Buffer.alloc(a.length+i.length,0);return a.copy(l),i.copy(l,a.length,0,i.length),l}ntv2Hash(e,t,n){let r=this.ntHash(n),i=Buffer.from(t.toUpperCase()+e.toUpperCase(),"ucs2");return this.hmacMD5(i,r)}ntHash(e){let t=Buffer.from(e,"ucs2");return Buffer.from(o.default.arrayBuffer(t))}hmacMD5(e,t){return i.createHmac("MD5",t).update(e).digest()}}t.default=l,e.exports=l},65856:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNTLMRequest=function(e){let t=escape(e.domain.toUpperCase()),r=e.workstation?escape(e.workstation.toUpperCase()):"",i=n.NTLM_NegotiateUnicode+n.NTLM_NegotiateOEM+n.NTLM_RequestTarget+n.NTLM_NegotiateNTLM+n.NTLM_NegotiateOemDomainSupplied+n.NTLM_NegotiateOemWorkstationSupplied+n.NTLM_NegotiateAlwaysSign+n.NTLM_NegotiateVersion+n.NTLM_NegotiateExtendedSecurity+n.NTLM_Negotiate128+n.NTLM_Negotiate56;""===r&&(i-=n.NTLM_NegotiateOemWorkstationSupplied);let o=Buffer.alloc(40),s=[o],a=0;return a+=o.write("NTLMSSP",a,7,"ascii"),a=o.writeUInt8(0,a),a=o.writeUInt32LE(1,a),a=o.writeUInt32LE(i,a),a=o.writeUInt16LE(t.length,a),a=o.writeUInt16LE(t.length,a),a=o.writeUInt32LE(o.length+r.length,a),a=o.writeUInt16LE(r.length,a),a=o.writeUInt16LE(r.length,a),a=o.writeUInt32LE(o.length,a),a=o.writeUInt8(5,a),a=o.writeUInt8(0,a),a=o.writeUInt16LE(2195,a),a=o.writeUInt8(0,a),a=o.writeUInt8(0,a),a=o.writeUInt8(0,a),o.writeUInt8(15,a),s.push(Buffer.from(r,"ascii")),s.push(Buffer.from(t,"ascii")),Buffer.concat(s)};let n={NTLM_NegotiateUnicode:1,NTLM_NegotiateOEM:2,NTLM_RequestTarget:4,NTLM_NegotiateNTLM:512,NTLM_NegotiateOemDomainSupplied:4096,NTLM_NegotiateOemWorkstationSupplied:8192,NTLM_NegotiateAlwaysSign:32768,NTLM_NegotiateExtendedSecurity:524288,NTLM_NegotiateVersion:33554432,NTLM_Negotiate128:536870912,NTLM_Negotiate56:2147483648}},95898:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(65186)),i=n(76162),o=n(88897);class s extends i.Duplex{constructor(e,{packetSize:t}){super({writableObjectMode:!0}),this.packetSize=t,this.debug=e,this.bl=new r.default,this.on("finish",()=>{this.push(null)})}_write(e,t,n){let r=this.packetSize-o.HEADER_LENGTH,i=0;this.currentMessage=e,this.currentMessage.on("data",t=>{if(!e.ignore)for(this.bl.append(t);this.bl.length>r;){let t=this.bl.slice(0,r);this.bl.consume(r);let n=new o.Packet(e.type);n.packetId(i+=1),n.resetConnection(e.resetConnection),n.addData(t),this.debug.packet("Sent",n),this.debug.data(n),!1===this.push(n.buffer)&&e.pause()}}),this.currentMessage.on("end",()=>{let t=this.bl.slice();this.bl.consume(t.length);let r=new o.Packet(e.type);r.packetId(i+=1),r.resetConnection(e.resetConnection),r.last(!0),r.ignore(e.ignore),r.addData(t),this.debug.packet("Sent",r),this.debug.data(r),this.push(r.buffer),this.currentMessage=void 0,n()})}_read(e){this.currentMessage&&this.currentMessage.resume()}}t.default=s,e.exports=s},88897:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE=t.Packet=t.OFFSET=t.HEADER_LENGTH=void 0,t.isPacketComplete=function(e){return!(e.length<8)&&e.length>=e.readUInt16BE(a.Length)},t.packetLength=function(e){return e.readUInt16BE(a.Length)};var r=n(78950);t.HEADER_LENGTH=8;let i={SQL_BATCH:1,RPC_REQUEST:3,TABULAR_RESULT:4,ATTENTION:6,BULK_LOAD:7,TRANSACTION_MANAGER:14,LOGIN7:16,NTLMAUTH_PKT:17,PRELOGIN:18,FEDAUTH_TOKEN:8};t.TYPE=i;let o={};for(let e in i)o[i[e]]=e;let s={NORMAL:0,EOM:1,IGNORE:2,RESETCONNECTION:8,RESETCONNECTIONSKIPTRAN:16},a={Type:0,Status:1,Length:2,SPID:4,PacketID:6,Window:7};t.OFFSET=a;class l{constructor(e){e instanceof Buffer?this.buffer=e:(this.buffer=Buffer.alloc(8,0),this.buffer.writeUInt8(e,a.Type),this.buffer.writeUInt8(s.NORMAL,a.Status),this.buffer.writeUInt16BE(0,a.SPID),this.buffer.writeUInt8(1,a.PacketID),this.buffer.writeUInt8(0,a.Window),this.setLength())}setLength(){this.buffer.writeUInt16BE(this.buffer.length,a.Length)}length(){return this.buffer.readUInt16BE(a.Length)}resetConnection(e){let t=this.buffer.readUInt8(a.Status);e?t|=s.RESETCONNECTION:t&=255-s.RESETCONNECTION,this.buffer.writeUInt8(t,a.Status)}last(e){let t=this.buffer.readUInt8(a.Status);return arguments.length>0&&(e?t|=s.EOM:t&=255-s.EOM,this.buffer.writeUInt8(t,a.Status)),this.isLast()}ignore(e){let t=this.buffer.readUInt8(a.Status);e?t|=s.IGNORE:t&=255-s.IGNORE,this.buffer.writeUInt8(t,a.Status)}isLast(){return!!(this.buffer.readUInt8(a.Status)&s.EOM)}packetId(e){return e&&this.buffer.writeUInt8(e%256,a.PacketID),this.buffer.readUInt8(a.PacketID)}addData(e){return this.buffer=Buffer.concat([this.buffer,e]),this.setLength(),this}data(){return this.buffer.slice(8)}type(){return this.buffer.readUInt8(a.Type)}statusAsString(){let e=this.buffer.readUInt8(a.Status),t=[];for(let n in s)e&s[n]?t.push(n):t.push(void 0);return t.join(" ").trim()}headerToString(e=""){return e+(0,r.sprintf)("type:0x%02X(%s), status:0x%02X(%s), length:0x%04X, spid:0x%04X, packetId:0x%02X, window:0x%02X",this.buffer.readUInt8(a.Type),o[this.buffer.readUInt8(a.Type)],this.buffer.readUInt8(a.Status),this.statusAsString(),this.buffer.readUInt16BE(a.Length),this.buffer.readUInt16BE(a.SPID),this.buffer.readUInt8(a.PacketID),this.buffer.readUInt8(a.Window))}dataToString(e=""){let t=this.data(),n="",i="";for(let o=0;o<t.length;o++)o%32==0&&(n+=e+(0,r.sprintf)("%04X  ",o)),t[o]<32||t[o]>126?(i+=".",(o+1)%8==0&&(o+1)%32!=0&&(i+=" ")):i+=String.fromCharCode(t[o]),null!=t[o]&&(n+=(0,r.sprintf)("%02X",t[o])),(o+1)%4==0&&(o+1)%32!=0&&(n+=" "),(o+1)%32==0&&(n+="  "+i,i="",o<t.length-1&&(n+="\n"));return i.length&&(n+="  "+i),n}toString(e=""){return this.headerToString(e)+"\n"+this.dataToString(e+e)}payloadString(){return""}}t.Packet=l},14166:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(78950),i=function(e){return e&&e.__esModule?e:{default:e}}(n(24927));let o={VERSION:0,ENCRYPTION:1,INSTOPT:2,THREADID:3,MARS:4,FEDAUTHREQUIRED:6,TERMINATOR:255},s={OFF:0,ON:1,NOT_SUP:2,REQ:3},a={};for(let e in s)a[s[e]]=e;let l={OFF:0,ON:1},c={};for(let e in l)c[l[e]]=e;class u{constructor(e={encrypt:!1,version:{major:0,minor:0,build:0,subbuild:0}}){e instanceof Buffer?(this.data=e,this.options={encrypt:!1,version:{major:0,minor:0,build:0,subbuild:0}}):(this.options=e,this.createOptions()),this.extractOptions()}createOptions(){let e=[this.createVersionOption(),this.createEncryptionOption(),this.createInstanceOption(),this.createThreadIdOption(),this.createMarsOption(),this.createFedAuthOption()],t=0;for(let n=0,r=e.length;n<r;n++)t+=5+e[n].data.length;t++,this.data=Buffer.alloc(t,0);let n=0,r=5*e.length+1;for(let t=0,i=e.length;t<i;t++){let i=e[t];this.data.writeUInt8(i.token,n+0),this.data.writeUInt16BE(r,n+1),this.data.writeUInt16BE(i.data.length,n+3),n+=5,i.data.copy(this.data,r),r+=i.data.length}this.data.writeUInt8(o.TERMINATOR,n)}createVersionOption(){let e=new i.default(20);return e.writeUInt8(this.options.version.major),e.writeUInt8(this.options.version.minor),e.writeUInt16BE(this.options.version.build),e.writeUInt16BE(this.options.version.subbuild),{token:o.VERSION,data:e.data}}createEncryptionOption(){let e=new i.default(20);return this.options.encrypt?e.writeUInt8(s.ON):e.writeUInt8(s.NOT_SUP),{token:o.ENCRYPTION,data:e.data}}createInstanceOption(){let e=new i.default(20);return e.writeUInt8(0),{token:o.INSTOPT,data:e.data}}createThreadIdOption(){let e=new i.default(20);return e.writeUInt32BE(0),{token:o.THREADID,data:e.data}}createMarsOption(){let e=new i.default(20);return e.writeUInt8(l.OFF),{token:o.MARS,data:e.data}}createFedAuthOption(){let e=new i.default(20);return e.writeUInt8(1),{token:o.FEDAUTHREQUIRED,data:e.data}}extractOptions(){let e=0;for(;this.data[e]!==o.TERMINATOR;){let t=this.data.readUInt16BE(e+1),n=this.data.readUInt16BE(e+3);switch(this.data[e]){case o.VERSION:this.extractVersion(t);break;case o.ENCRYPTION:this.extractEncryption(t);break;case o.INSTOPT:this.extractInstance(t);break;case o.THREADID:n>0&&this.extractThreadId(t);break;case o.MARS:this.extractMars(t);break;case o.FEDAUTHREQUIRED:this.extractFedAuth(t)}e+=5,t+=n}}extractVersion(e){this.version={major:this.data.readUInt8(e+0),minor:this.data.readUInt8(e+1),build:this.data.readUInt16BE(e+2),subbuild:this.data.readUInt16BE(e+4)}}extractEncryption(e){this.encryption=this.data.readUInt8(e),this.encryptionString=a[this.encryption]}extractInstance(e){this.instance=this.data.readUInt8(e)}extractThreadId(e){this.threadId=this.data.readUInt32BE(e)}extractMars(e){this.mars=this.data.readUInt8(e),this.marsString=c[this.mars]}extractFedAuth(e){this.fedAuthRequired=this.data.readUInt8(e)}toString(e=""){return e+"PreLogin - "+(0,r.sprintf)("version:%d.%d.%d.%d, encryption:0x%02X(%s), instopt:0x%02X, threadId:0x%08X, mars:0x%02X(%s)",this.version.major,this.version.minor,this.version.build,this.version.subbuild,this.encryption?this.encryption:0,this.encryptionString?this.encryptionString:"",this.instance?this.instance:0,this.threadId?this.threadId:0,this.mars?this.mars:0,this.marsString?this.marsString:"")}}t.default=u,e.exports=u},91920:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(17702),i=n(71790),o=n(28176);class s extends r.EventEmitter{on(e,t){return super.on(e,t)}emit(e,...t){return super.emit(e,...t)}constructor(e,t,n){super(),this.sqlTextOrProcedure=e,this.parameters=[],this.parametersByName={},this.preparing=!1,this.handle=void 0,this.canceled=!1,this.paused=!1,this.error=void 0,this.connection=void 0,this.timeout=void 0,this.userCallback=t,this.statementColumnEncryptionSetting=n&&n.statementColumnEncryptionSetting||o.SQLServerStatementColumnEncryptionSetting.UseConnectionSetting,this.cryptoMetadataLoaded=!1,this.callback=function(e,t,n){this.preparing?(this.preparing=!1,e?this.emit("error",e):this.emit("prepared")):(this.userCallback(e,t,n),this.emit("requestCompleted"))}}addParameter(e,t,n,r){let{output:i=!1,length:o,precision:s,scale:a}=r??{},l={type:t,name:e,value:n,output:i,length:o,precision:s,scale:a};this.parameters.push(l),this.parametersByName[e]=l}addOutputParameter(e,t,n,r){this.addParameter(e,t,n,{...r,output:!0})}makeParamsParameter(e){let t="";for(let n=0,r=e.length;n<r;n++){let r=e[n];t.length>0&&(t+=", "),t+="@"+r.name+" "+r.type.declaration(r),r.output&&(t+=" OUTPUT")}return t}validateParameters(e){for(let t=0,n=this.parameters.length;t<n;t++){let n=this.parameters[t];try{n.value=n.type.validate(n.value,e)}catch(e){throw new i.RequestError("Validation failed for parameter '"+n.name+"'. "+e.message,"EPARAM")}}}pause(){this.paused||(this.emit("pause"),this.paused=!0)}resume(){this.paused&&(this.paused=!1,this.emit("resume"))}cancel(){this.canceled||(this.canceled=!0,this.emit("cancel"))}setTimeout(e){this.timeout=e}}t.default=s,e.exports=s},51532:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(24927)),i=n(82646);let o={BY_REF_VALUE:1};class s{constructor(e,t,n,r,i){this.procedure=e,this.parameters=t,this.options=r,this.txnDescriptor=n,this.collation=i}[Symbol.iterator](){return this.generateData()}*generateData(){let e=new r.default(500);this.options.tdsVersion>="7_2"&&(0,i.writeToTrackingBuffer)(e,this.txnDescriptor,1),"string"==typeof this.procedure?e.writeUsVarchar(this.procedure):(e.writeUShort(65535),e.writeUShort(this.procedure)),e.writeUInt16LE(0),yield e.data;let t=this.parameters.length;for(let e=0;e<t;e++)yield*this.generateParameterData(this.parameters[e])}toString(e=""){return e+"RPC Request - "+this.procedure}*generateParameterData(e){let t=new r.default(3+Buffer.byteLength(e.name,"ucs-2")+1);e.name?t.writeBVarchar("@"+e.name):t.writeBVarchar("");let n=0;e.output&&(n|=o.BY_REF_VALUE),t.writeUInt8(n),yield t.data;let i={value:e.value},s=e.type;(48&s.id)==32&&(e.length?i.length=e.length:s.resolveLength&&(i.length=s.resolveLength(e))),e.precision?i.precision=e.precision:s.resolvePrecision&&(i.precision=s.resolvePrecision(e)),e.scale?i.scale=e.scale:s.resolveScale&&(i.scale=s.resolveScale(e)),this.collation&&(i.collation=this.collation),yield s.generateTypeInfo(i,this.options),yield s.generateParameterLength(i,this.options),yield*s.generateParameterData(i,this.options)}}t.default=s,e.exports=s},34593:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendInParallel=l,t.sendMessage=c;var r=a(n(18139)),i=a(n(98216)),o=a(n(41041)),s=a(n(62405));function a(e){return e&&e.__esModule?e:{default:e}}async function l(e,t,n,i){if(i.aborted)throw new s.default;return await new Promise((o,a)=>{let l=[],c=0,u=t=>{++c===e.length&&(i.removeEventListener("abort",d),f(),a(t))},h=e=>{i.removeEventListener("abort",d),f(),o(e)},d=()=>{f(),a(new s.default)},f=()=>{for(let e of l)e.removeListener("error",u),e.removeListener("message",h),e.close()};i.addEventListener("abort",d,{once:!0});for(let i=0;i<e.length;i++){let o=6===e[i].family?"udp6":"udp4",s=r.default.createSocket(o);l.push(s),s.on("error",u),s.on("message",h),s.send(n,0,n.length,t,e[i].address)}})}async function c(e,t,n,r,a){let c;if(r.aborted)throw new s.default;return c=i.default.isIP(e)?[{address:e,family:i.default.isIPv6(e)?6:4}]:await new Promise((t,i)=>{let a=()=>{i(new s.default)};r.addEventListener("abort",a),n(o.default.domainToASCII(e),{all:!0},(e,n)=>{r.removeEventListener("abort",a),e?i(e):t(n)})}),await l(c,t,a,r)}},14941:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let n={Sp_Cursor:1,Sp_CursorOpen:2,Sp_CursorPrepare:3,Sp_CursorExecute:4,Sp_CursorPrepExec:5,Sp_CursorUnprepare:6,Sp_CursorFetch:7,Sp_CursorOption:8,Sp_CursorClose:9,Sp_ExecuteSql:10,Sp_Prepare:11,Sp_Execute:12,Sp_PrepExec:13,Sp_PrepExecRpc:14,Sp_Unprepare:15};t.default=n,e.exports=n},55276:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(24927)),i=n(82646);class o{constructor(e,t,n){this.sqlText=e,this.txnDescriptor=t,this.options=n}*[Symbol.iterator](){if(this.options.tdsVersion>="7_2"){let e=new r.default(18,"ucs2");(0,i.writeToTrackingBuffer)(e,this.txnDescriptor,1),yield e.data}yield Buffer.from(this.sqlText,"ucs2")}toString(e=""){return e+"SQL Batch - "+this.sqlText}}t.default=o,e.exports=o},27577:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.versionsByValue=t.versions=void 0;let n={"7_1":1895825409,"7_2":1913192450,"7_3_A":1930035203,"7_3_B":1930100739,"7_4":1946157060,"8_0":134217728};t.versions=n;let r={};for(let e in t.versionsByValue=r,n)r[n[e]]=e},1129:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BulkLoad",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Connection",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return a.ConnectionError}}),Object.defineProperty(t,"ISOLATION_LEVEL",{enumerable:!0,get:function(){return c.ISOLATION_LEVEL}}),Object.defineProperty(t,"Request",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"RequestError",{enumerable:!0,get:function(){return a.RequestError}}),Object.defineProperty(t,"TDS_VERSION",{enumerable:!0,get:function(){return u.versions}}),Object.defineProperty(t,"TYPES",{enumerable:!0,get:function(){return l.TYPES}}),t.connect=function(e,t){let n=new i.default(e);return n.connect(t),n},t.library=void 0;var r=h(n(769)),i=h(n(43276)),o=h(n(91920)),s=n(93624),a=n(71790),l=n(47258),c=n(43539),u=n(27577);function h(e){return e&&e.__esModule?e:{default:e}}let d={name:s.name};t.library=d},95498:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(50697),i=n(37902),o=n(32505);async function s(e){let t;for(;;){let n;try{({offset:n,value:t}=(0,o.readUInt16LE)(e.buffer,e.position))}catch(t){if(t instanceof o.NotEnoughDataError){await e.waitForChunk();continue}throw t}e.position=n;break}let n=[];for(let i=0;i<t;i++)for(;;){let t,s;try{({offset:s,value:t}=function(e,t,n,i){var s;let a,l,c,u;return{offset:t,value:a}=(0,r.readMetadata)(e,t,n),{offset:t,value:l}=function(e,t,n,r){let i;if(!n.type.hasTableName)return new o.Result(void 0,t);if(r.tdsVersion<"7_2")return(0,o.readUsVarChar)(e,t);({offset:t,value:i}=(0,o.readUInt8)(e,t));let s=[];for(let n=0;n<i;n++){let n;({offset:t,value:n}=(0,o.readUsVarChar)(e,t)),s.push(n)}return new o.Result(s,t)}(e,t,a,n),{offset:t,value:c}=(s=t,({offset:s,value:u}=(0,o.readBVarChar)(e,s),n.columnNameReplacer)?new o.Result(n.columnNameReplacer(u,i,a),s):n.camelCaseColumns?new o.Result(u.replace(/^[A-Z]/,function(e){return e.toLowerCase()}),s):new o.Result(u,s)),new o.Result({userType:a.userType,flags:a.flags,type:a.type,collation:a.collation,precision:a.precision,scale:a.scale,udtInfo:a.udtInfo,dataLength:a.dataLength,schema:a.schema,colName:c,tableName:l},t)}(e.buffer,e.position,e.options,i))}catch(t){if(t instanceof o.NotEnoughDataError){await e.waitForChunk();continue}throw t}e.position=s,n.push(t);break}return new i.ColMetadataToken(n)}t.default=s,e.exports=s},53303:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doneInProcParser=function(e,t,n){let o;return{offset:t,value:o}=s(e,t,n),new i.Result(new r.DoneInProcToken(o),t)},t.doneParser=function(e,t,n){let o;return{offset:t,value:o}=s(e,t,n),new i.Result(new r.DoneToken(o),t)},t.doneProcParser=function(e,t,n){let o;return{offset:t,value:o}=s(e,t,n),new i.Result(new r.DoneProcToken(o),t)};var r=n(37902),i=n(32505);let o={MORE:1,ERROR:2,COUNT:16,ATTN:32,SRVERROR:256};function s(e,t,n){let r,s,a;({offset:t,value:r}=(0,i.readUInt16LE)(e,t));let l=!!(r&o.MORE),c=!!(r&o.ERROR),u=!!(r&o.COUNT),h=!!(r&o.ATTN),d=!!(r&o.SRVERROR);return{offset:t,value:s}=(0,i.readUInt16LE)(e,t),{offset:t,value:a}=(n.tdsVersion<"7_2"?i.readUInt32LE:i.readBigUInt64LE)(e,t),new i.Result({more:l,sqlError:c,attention:h,serverError:d,rowCount:u?Number(a):void 0,curCmd:s},t)}},5439:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(34132),i=n(37902),o=n(32505);let s={1:{name:"DATABASE",event:"databaseChange"},2:{name:"LANGUAGE",event:"languageChange"},3:{name:"CHARSET",event:"charsetChange"},4:{name:"PACKET_SIZE",event:"packetSizeChange"},7:{name:"SQL_COLLATION",event:"sqlCollationChange"},8:{name:"BEGIN_TXN",event:"beginTransaction"},9:{name:"COMMIT_TXN",event:"commitTransaction"},10:{name:"ROLLBACK_TXN",event:"rollbackTransaction"},13:{name:"DATABASE_MIRRORING_PARTNER",event:"partnerNode"},17:{name:"TXN_ENDED"},18:{name:"RESET_CONNECTION",event:"resetConnection"},20:{name:"ROUTING_CHANGE",event:"routingChange"}};function a(e,t,n){let a,l;if({offset:t,value:a}=(0,o.readUInt16LE)(e,t),e.length<t+a)throw new o.NotEnoughDataError(t+a);({offset:t,value:l}=(0,o.readUInt8)(e,t));let c=s[l];return c?function(e,t,n,s){switch(s.name){case"DATABASE":case"LANGUAGE":case"CHARSET":case"PACKET_SIZE":case"DATABASE_MIRRORING_PARTNER":{let n,r;switch({offset:t,value:n}=(0,o.readBVarChar)(e,t),{offset:t,value:r}=(0,o.readBVarChar)(e,t),s.name){case"PACKET_SIZE":return new o.Result(new i.PacketSizeEnvChangeToken(parseInt(n),parseInt(r)),t);case"DATABASE":return new o.Result(new i.DatabaseEnvChangeToken(n,r),t);case"LANGUAGE":return new o.Result(new i.LanguageEnvChangeToken(n,r),t);case"CHARSET":return new o.Result(new i.CharsetEnvChangeToken(n,r),t);case"DATABASE_MIRRORING_PARTNER":return new o.Result(new i.DatabaseMirroringPartnerEnvChangeToken(n,r),t)}throw Error("unreachable")}case"SQL_COLLATION":case"BEGIN_TXN":case"COMMIT_TXN":case"ROLLBACK_TXN":case"RESET_CONNECTION":{let n,a;switch({offset:t,value:n}=(0,o.readBVarByte)(e,t),{offset:t,value:a}=(0,o.readBVarByte)(e,t),s.name){case"SQL_COLLATION":{let e=n.length?r.Collation.fromBuffer(n):void 0,s=a.length?r.Collation.fromBuffer(a):void 0;return new o.Result(new i.CollationChangeToken(e,s),t)}case"BEGIN_TXN":return new o.Result(new i.BeginTransactionEnvChangeToken(n,a),t);case"COMMIT_TXN":return new o.Result(new i.CommitTransactionEnvChangeToken(n,a),t);case"ROLLBACK_TXN":return new o.Result(new i.RollbackTransactionEnvChangeToken(n,a),t);case"RESET_CONNECTION":return new o.Result(new i.ResetConnectionEnvChangeToken(n,a),t)}throw Error("unreachable")}case"ROUTING_CHANGE":{let n,r;({offset:t,value:n}=(0,o.readUsVarByte)(e,t)),{offset:t,value:r}=(0,o.readUsVarByte)(e,t);let s=n.readUInt8(0);if(0!==s)throw Error("Unknown protocol byte in routing change event");let a=n.readUInt16LE(1),l=n.readUInt16LE(3),c=n.toString("ucs2",5,5+2*l);return new o.Result(new i.RoutingEnvChangeToken({protocol:s,port:a,server:c},r),t)}default:return console.error("Tedious > Unsupported ENVCHANGE type "+s.name),new o.Result(void 0,t+n-1)}}(e,t,a,c):(console.error("Tedious > Unsupported ENVCHANGE type "+l),new o.Result(void 0,t+a-1))}t.default=a,e.exports=a},8281:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(32505),i=n(37902);let o={FEDAUTH:2,UTF8_SUPPORT:10,TERMINATOR:255};function s(e,t,n){let s,a;for(;;){let n,l;if({value:n,offset:t}=(0,r.readUInt8)(e,t),n===o.TERMINATOR)return new r.Result(new i.FeatureExtAckToken(s,a),t);if({value:l,offset:t}=(0,r.readUInt32LE)(e,t),e.length<t+l)throw new r.NotEnoughDataError(t+l);let c=e.slice(t,t+l);switch(t+=l,n){case o.FEDAUTH:s=c;break;case o.UTF8_SUPPORT:a=!!c[0]}}}t.default=s,e.exports=s},61179:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(32505),i=n(37902);let o={STSURL:1,SPN:2};function s(e,t,n){let s;if({offset:t,value:s}=(0,r.readUInt32LE)(e,t),e.length<t+s)throw new r.NotEnoughDataError(t+s);let a=e.slice(t,t+s);t+=s;let{spn:l,stsurl:c}=function(e){let t,n,r=0,i=e.readUInt32LE(r);r+=4;for(let s=0;s<i;s++){let i=e.readUInt8(r);r+=1;let s=e.readUInt32LE(r);r+=4;let a=e.readUInt32LE(r);switch(r+=4,i){case o.SPN:t=e.toString("ucs2",a,a+s);break;case o.STSURL:n=e.toString("ucs2",a,a+s)}}return{spn:t,stsurl:n}}(a);return new r.Result(new i.FedAuthInfoToken(l,c),t)}t.default=s,e.exports=s},79302:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnexpectedTokenError=t.TokenHandler=t.RequestTokenHandler=t.Login7TokenHandler=t.InitialSqlTokenHandler=t.AttentionTokenHandler=void 0;var r=s(n(91920)),i=n(71790),o=s(n(69150));function s(e){return e&&e.__esModule?e:{default:e}}class a extends Error{constructor(e,t){super("Unexpected token `"+t.name+"` in `"+e.constructor.name+"`")}}t.UnexpectedTokenError=a;class l{onInfoMessage(e){throw new a(this,e)}onErrorMessage(e){throw new a(this,e)}onSSPI(e){throw new a(this,e)}onDatabaseChange(e){throw new a(this,e)}onLanguageChange(e){throw new a(this,e)}onCharsetChange(e){throw new a(this,e)}onSqlCollationChange(e){throw new a(this,e)}onRoutingChange(e){throw new a(this,e)}onPacketSizeChange(e){throw new a(this,e)}onResetConnection(e){throw new a(this,e)}onBeginTransaction(e){throw new a(this,e)}onCommitTransaction(e){throw new a(this,e)}onRollbackTransaction(e){throw new a(this,e)}onFedAuthInfo(e){throw new a(this,e)}onFeatureExtAck(e){throw new a(this,e)}onLoginAck(e){throw new a(this,e)}onColMetadata(e){throw new a(this,e)}onOrder(e){throw new a(this,e)}onRow(e){throw new a(this,e)}onReturnStatus(e){throw new a(this,e)}onReturnValue(e){throw new a(this,e)}onDoneProc(e){throw new a(this,e)}onDoneInProc(e){throw new a(this,e)}onDone(e){throw new a(this,e)}onDatabaseMirroringPartner(e){throw new a(this,e)}}t.TokenHandler=l;class c extends l{constructor(e){super(),this.connection=e}onInfoMessage(e){this.connection.emit("infoMessage",e)}onErrorMessage(e){this.connection.emit("errorMessage",e)}onDatabaseChange(e){this.connection.emit("databaseChange",e.newValue)}onLanguageChange(e){this.connection.emit("languageChange",e.newValue)}onCharsetChange(e){this.connection.emit("charsetChange",e.newValue)}onSqlCollationChange(e){this.connection.databaseCollation=e.newValue}onPacketSizeChange(e){this.connection.messageIo.packetSize(e.newValue)}onBeginTransaction(e){this.connection.transactionDescriptors.push(e.newValue),this.connection.inTransaction=!0}onCommitTransaction(e){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1}onRollbackTransaction(e){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1,this.connection.emit("rollbackTransaction")}onColMetadata(e){this.connection.emit("error",Error("Received 'columnMetadata' when no sqlRequest is in progress")),this.connection.close()}onOrder(e){this.connection.emit("error",Error("Received 'order' when no sqlRequest is in progress")),this.connection.close()}onRow(e){this.connection.emit("error",Error("Received 'row' when no sqlRequest is in progress")),this.connection.close()}onReturnStatus(e){}onReturnValue(e){}onDoneProc(e){}onDoneInProc(e){}onDone(e){}onResetConnection(e){this.connection.emit("resetConnection")}}t.InitialSqlTokenHandler=c;class u extends l{constructor(e){super(),this.loginAckReceived=!1,this.connection=e}onInfoMessage(e){this.connection.emit("infoMessage",e)}onErrorMessage(e){this.connection.emit("errorMessage",e);let t=new i.ConnectionError(e.message,"ELOGIN");this.connection.transientErrorLookup.isTransientError(e.number)&&this.connection.curTransientRetryCount!==this.connection.config.options.maxRetriesOnTransientErrors&&(t.isTransient=!0),this.connection.loginError=t}onSSPI(e){e.ntlmpacket&&(this.connection.ntlmpacket=e.ntlmpacket,this.connection.ntlmpacketBuffer=e.ntlmpacketBuffer)}onDatabaseChange(e){this.connection.emit("databaseChange",e.newValue)}onLanguageChange(e){this.connection.emit("languageChange",e.newValue)}onCharsetChange(e){this.connection.emit("charsetChange",e.newValue)}onSqlCollationChange(e){this.connection.databaseCollation=e.newValue}onFedAuthInfo(e){this.fedAuthInfoToken=e}onFeatureExtAck(e){let{authentication:t}=this.connection.config;"azure-active-directory-password"===t.type||"azure-active-directory-access-token"===t.type||"azure-active-directory-msi-vm"===t.type||"azure-active-directory-msi-app-service"===t.type||"azure-active-directory-service-principal-secret"===t.type||"azure-active-directory-default"===t.type?void 0===e.fedAuth?this.connection.loginError=new i.ConnectionError("Did not receive Active Directory authentication acknowledgement"):0!==e.fedAuth.length&&(this.connection.loginError=new i.ConnectionError(`Active Directory authentication acknowledgment for ${t.type} authentication method includes extra data`)):void 0===e.fedAuth&&void 0===e.utf8Support?this.connection.loginError=new i.ConnectionError("Received acknowledgement for unknown feature"):e.fedAuth&&(this.connection.loginError=new i.ConnectionError("Did not request Active Directory authentication, but received the acknowledgment"))}onLoginAck(e){if(!e.tdsVersion){this.connection.loginError=new i.ConnectionError("Server responded with unknown TDS version.","ETDS");return}if(!e.interface){this.connection.loginError=new i.ConnectionError("Server responded with unsupported interface.","EINTERFACENOTSUPP");return}this.connection.config.options.tdsVersion=e.tdsVersion,this.loginAckReceived=!0}onRoutingChange(e){let[t]=e.newValue.server.split("\\");this.routingData={server:t,port:e.newValue.port}}onDoneInProc(e){}onDone(e){}onPacketSizeChange(e){this.connection.messageIo.packetSize(e.newValue)}onDatabaseMirroringPartner(e){}}t.Login7TokenHandler=u;class h extends l{constructor(e,t){super(),this.connection=e,this.request=t,this.errors=[]}onInfoMessage(e){this.connection.emit("infoMessage",e)}onErrorMessage(e){if(this.connection.emit("errorMessage",e),!this.request.canceled){let t=new i.RequestError(e.message,"EREQUEST");t.number=e.number,t.state=e.state,t.class=e.class,t.serverName=e.serverName,t.procName=e.procName,t.lineNumber=e.lineNumber,this.errors.push(t),this.request.error=t,this.request instanceof r.default&&this.errors.length>1&&(this.request.error=new o.default(this.errors))}}onDatabaseChange(e){this.connection.emit("databaseChange",e.newValue)}onLanguageChange(e){this.connection.emit("languageChange",e.newValue)}onCharsetChange(e){this.connection.emit("charsetChange",e.newValue)}onSqlCollationChange(e){this.connection.databaseCollation=e.newValue}onPacketSizeChange(e){this.connection.messageIo.packetSize(e.newValue)}onBeginTransaction(e){this.connection.transactionDescriptors.push(e.newValue),this.connection.inTransaction=!0}onCommitTransaction(e){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1}onRollbackTransaction(e){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1,this.connection.emit("rollbackTransaction")}onColMetadata(e){if(!this.request.canceled){if(this.connection.config.options.useColumnNames){let t=Object.create(null);for(let n=0,r=e.columns.length;n<r;n++){let r=e.columns[n];null==t[r.colName]&&(t[r.colName]=r)}this.request.emit("columnMetadata",t)}else this.request.emit("columnMetadata",e.columns)}}onOrder(e){this.request.canceled||this.request.emit("order",e.orderColumns)}onRow(e){this.request.canceled||(this.connection.config.options.rowCollectionOnRequestCompletion&&this.request.rows.push(e.columns),this.connection.config.options.rowCollectionOnDone&&this.request.rst.push(e.columns),this.request.emit("row",e.columns))}onReturnStatus(e){this.request.canceled||(this.connection.procReturnStatusValue=e.value)}onReturnValue(e){this.request.canceled||this.request.emit("returnValue",e.paramName,e.value,e.metadata)}onDoneProc(e){!this.request.canceled&&(e.sqlError&&!this.request.error&&(this.request.error=new i.RequestError("An unknown error has occurred.","UNKNOWN")),this.request.emit("doneProc",e.rowCount,e.more,this.connection.procReturnStatusValue,this.request.rst),this.connection.procReturnStatusValue=void 0,void 0!==e.rowCount&&(this.request.rowCount+=e.rowCount),this.connection.config.options.rowCollectionOnDone&&(this.request.rst=[]))}onDoneInProc(e){!this.request.canceled&&(this.request.emit("doneInProc",e.rowCount,e.more,this.request.rst),void 0!==e.rowCount&&(this.request.rowCount+=e.rowCount),this.connection.config.options.rowCollectionOnDone&&(this.request.rst=[]))}onDone(e){!this.request.canceled&&(e.sqlError&&!this.request.error&&(this.request.error=new i.RequestError("An unknown error has occurred.","UNKNOWN")),this.request.emit("done",e.rowCount,e.more,this.request.rst),void 0!==e.rowCount&&(this.request.rowCount+=e.rowCount),this.connection.config.options.rowCollectionOnDone&&(this.request.rst=[]))}onResetConnection(e){this.connection.emit("resetConnection")}}t.RequestTokenHandler=h;class d extends l{constructor(e,t){super(),this.connection=e,this.request=t,this.attentionReceived=!1}onDone(e){e.attention&&(this.attentionReceived=!0)}}t.AttentionTokenHandler=d},32505:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Result=t.NotEnoughDataError=void 0,t.readBVarByte=function(e,t){let o;if(t=+t,{offset:t,value:o}=i(e,t),e.length<t+o)throw new r(t+o);return new n(e.slice(t,t+o),t+o)},t.readBVarChar=function(e,t){let o;t=+t,{offset:t,value:o}=i(e,t);let s=2*o;if(e.length<t+s)throw new r(t+s);return new n(e.toString("ucs2",t,t+s),t+s)},t.readBigInt64LE=function(e,t){if(t=+t,e.length<t+8)throw new r(t+8);return new n(e.readBigInt64LE(t),t+8)},t.readBigUInt64LE=function(e,t){if(t=+t,e.length<t+8)throw new r(t+8);return new n(e.readBigUInt64LE(t),t+8)},t.readDoubleLE=function(e,t){if(t=+t,e.length<t+8)throw new r(t+8);return new n(e.readDoubleLE(t),t+8)},t.readFloatLE=function(e,t){if(t=+t,e.length<t+4)throw new r(t+4);return new n(e.readFloatLE(t),t+4)},t.readInt16LE=function(e,t){if(t=+t,e.length<t+2)throw new r(t+2);return new n(e.readInt16LE(t),t+2)},t.readInt32LE=function(e,t){if(t=+t,e.length<t+4)throw new r(t+4);return new n(e.readInt32LE(t),t+4)},t.readUInt16LE=o,t.readUInt24LE=function(e,t){if(t=+t,e.length<t+3)throw new r(t+3);return new n(e.readUIntLE(t,3),t+3)},t.readUInt32BE=function(e,t){if(t=+t,e.length<t+4)throw new r(t+4);return new n(e.readUInt32BE(t),t+4)},t.readUInt32LE=function(e,t){if(t=+t,e.length<t+4)throw new r(t+4);return new n(e.readUInt32LE(t),t+4)},t.readUInt40LE=function(e,t){if(t=+t,e.length<t+5)throw new r(t+5);return new n(e.readUIntLE(t,5),t+5)},t.readUInt8=i,t.readUNumeric128LE=function(e,t){if(t=+t,e.length<t+16)throw new r(t+16);let i=e.readUInt32LE(t);return new n(i+4294967296*e.readUInt32LE(t+4)+18446744073709552e3*e.readUInt32LE(t+8)+7922816251426434e13*e.readUInt32LE(t+12),t+16)},t.readUNumeric64LE=function(e,t){if(t=+t,e.length<t+8)throw new r(t+8);let i=e.readUInt32LE(t);return new n(4294967296*e.readUInt32LE(t+4)+i,t+8)},t.readUNumeric96LE=function(e,t){if(t=+t,e.length<t+12)throw new r(t+12);return new n(e.readUInt32LE(t)+4294967296*e.readUInt32LE(t+4)+18446744073709552e3*e.readUInt32LE(t+8),t+12)},t.readUsVarByte=function(e,t){let i;if(t=+t,{offset:t,value:i}=o(e,t),e.length<t+i)throw new r(t+i);return new n(e.slice(t,t+i),t+i)},t.readUsVarChar=function(e,t){let i;t=+t,{offset:t,value:i}=o(e,t);let s=2*i;if(e.length<t+s)throw new r(t+s);return new n(e.toString("ucs2",t,t+s),t+s)};class n{constructor(e,t){this.value=e,this.offset=t}}t.Result=n;class r extends Error{byteCount;constructor(e){super(),this.byteCount=e}}function i(e,t){if(t=+t,e.length<t+1)throw new r(t+1);return new n(e.readUInt8(t),t+1)}function o(e,t){if(t=+t,e.length<t+2)throw new r(t+2);return new n(e.readUInt16LE(t),t+2)}t.NotEnoughDataError=r},14350:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorParser=function(e,t,n){let s;return{offset:t,value:s}=o(e,t,n),new r.Result(new i.ErrorMessageToken(s),t)},t.infoParser=function(e,t,n){let s;return{offset:t,value:s}=o(e,t,n),new r.Result(new i.InfoMessageToken(s),t)};var r=n(32505),i=n(37902);function o(e,t,n){let i,o,s,a,l,c,u,h;if({offset:t,value:i}=(0,r.readUInt16LE)(e,t),e.length<i+t)throw new r.NotEnoughDataError(i+t);return{offset:t,value:o}=(0,r.readUInt32LE)(e,t),{offset:t,value:s}=(0,r.readUInt8)(e,t),{offset:t,value:a}=(0,r.readUInt8)(e,t),{offset:t,value:l}=(0,r.readUsVarChar)(e,t),{offset:t,value:c}=(0,r.readBVarChar)(e,t),{offset:t,value:u}=(0,r.readBVarChar)(e,t),{offset:t,value:h}=n.tdsVersion<"7_2"?(0,r.readUInt16LE)(e,t):(0,r.readUInt32LE)(e,t),new r.Result({number:o,state:s,class:a,message:l,serverName:c,procName:u,lineNumber:h},t)}},4476:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(37902),i=n(27577),o=n(32505);let s={0:"SQL_DFLT",1:"SQL_TSQL"};function a(e,t,n){let a,l,c,u,h,d,f,p;if({offset:t,value:a}=(0,o.readUInt16LE)(e,t),e.length<a+t)throw new o.NotEnoughDataError(a+t);({offset:t,value:l}=(0,o.readUInt8)(e,t));let m=s[l];({offset:t,value:c}=(0,o.readUInt32BE)(e,t));let g=i.versionsByValue[c];return{offset:t,value:u}=(0,o.readBVarChar)(e,t),{offset:t,value:h}=(0,o.readUInt8)(e,t),{offset:t,value:d}=(0,o.readUInt8)(e,t),{offset:t,value:f}=(0,o.readUInt8)(e,t),{offset:t,value:p}=(0,o.readUInt8)(e,t),new o.Result(new r.LoginAckToken({interface:m,tdsVersion:g,progName:u,progVersion:{major:h,minor:d,buildNumHi:f,buildNumLow:p}}),t)}t.default=a,e.exports=a},81168:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(37902),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(void 0);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(95813)),o=n(77661),s=n(32505);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}async function l(e){let t=e.colMetadata,n=[],a=[],l=Math.ceil(t.length/8);for(;e.buffer.length-e.position<l;)await e.waitForChunk();let c=e.buffer.slice(e.position,e.position+l);e.position+=l;for(let e=0,t=c.length;e<t;e++){let t=c[e];a.push(!!(1&t)),a.push(!!(2&t)),a.push(!!(4&t)),a.push(!!(8&t)),a.push(!!(16&t)),a.push(!!(32&t)),a.push(!!(64&t)),a.push(!!(128&t))}for(let r=0;r<t.length;r++){let l=t[r];if(a[r]){n.push({value:null,metadata:l});continue}for(;;){if((0,o.isPLPStream)(l)){let t=await (0,o.readPLPStream)(e);if(null===t)n.push({value:t,metadata:l});else if("NVarChar"===l.type.name||"Xml"===l.type.name)n.push({value:Buffer.concat(t).toString("ucs2"),metadata:l});else if("VarChar"===l.type.name){var u;n.push({value:i.decode(Buffer.concat(t),(null===(u=l.collation)||void 0===u?void 0:u.codepage)??"utf8"),metadata:l})}else("VarBinary"===l.type.name||"UDT"===l.type.name)&&n.push({value:Buffer.concat(t),metadata:l})}else{let t;try{t=(0,o.readValue)(e.buffer,e.position,l,e.options)}catch(t){if(t instanceof s.NotEnoughDataError){await e.waitForChunk();continue}throw t}e.position=t.offset,n.push({value:t.value,metadata:l})}break}}if(!e.options.useColumnNames)return new r.NBCRowToken(n);{let e=Object.create(null);return n.forEach(t=>{let n=t.metadata.colName;null==e[n]&&(e[n]=t)}),new r.NBCRowToken(e)}}t.default=l,e.exports=l},49193:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(37902),i=n(32505);function o(e,t,n){let o;if({offset:t,value:o}=(0,i.readUInt16LE)(e,t),e.length<t+o)throw new i.NotEnoughDataError(t+o);let s=[];for(let n=0;n<o;n+=2){let n;({offset:t,value:n}=(0,i.readUInt16LE)(e,t)),s.push(n)}return new i.Result(new r.OrderToken(s),t)}t.default=o,e.exports=o},7134:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(32505),i=n(37902);function o(e,t,n){let o;return{value:o,offset:t}=(0,r.readInt32LE)(e,t),new r.Result(new i.ReturnStatusToken(o),t)}t.default=o,e.exports=o},19341:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(37902),i=n(50697),o=n(77661),s=n(32505),a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(void 0);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(95813));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}async function c(e){let t,n,l,c;for(;;){let r=e.buffer,o=e.position;try{({offset:o,value:n}=(0,s.readUInt16LE)(r,o)),({offset:o,value:t}=(0,s.readBVarChar)(r,o)),({offset:o}=(0,s.readUInt8)(r,o)),({offset:o,value:l}=(0,i.readMetadata)(r,o,e.options)),"@"===t.charAt(0)&&(t=t.slice(1))}catch(t){if(t instanceof s.NotEnoughDataError){await e.waitForChunk();continue}throw t}e.position=o;break}for(;;){let t=e.buffer,n=e.position;if((0,o.isPLPStream)(l)){let t=await (0,o.readPLPStream)(e);if(null===t)c=t;else if("NVarChar"===l.type.name||"Xml"===l.type.name)c=Buffer.concat(t).toString("ucs2");else if("VarChar"===l.type.name){var u;c=a.decode(Buffer.concat(t),(null===(u=l.collation)||void 0===u?void 0:u.codepage)??"utf8")}else("VarBinary"===l.type.name||"UDT"===l.type.name)&&(c=Buffer.concat(t))}else{try{({value:c,offset:n}=(0,o.readValue)(t,n,l,e.options))}catch(t){if(t instanceof s.NotEnoughDataError){await e.waitForChunk();continue}throw t}e.position=n}break}return new r.ReturnValueToken({paramOrdinal:n,paramName:t,metadata:l,value:c})}t.default=c,e.exports=c},13690:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(37902),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(void 0);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(95813)),o=n(77661),s=n(32505);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}async function l(e){let t=[];for(let r of e.colMetadata)for(;;){if((0,o.isPLPStream)(r)){let s=await (0,o.readPLPStream)(e);if(null===s)t.push({value:s,metadata:r});else if("NVarChar"===r.type.name||"Xml"===r.type.name)t.push({value:Buffer.concat(s).toString("ucs2"),metadata:r});else if("VarChar"===r.type.name){var n;t.push({value:i.decode(Buffer.concat(s),(null===(n=r.collation)||void 0===n?void 0:n.codepage)??"utf8"),metadata:r})}else("VarBinary"===r.type.name||"UDT"===r.type.name)&&t.push({value:Buffer.concat(s),metadata:r})}else{let n;try{n=(0,o.readValue)(e.buffer,e.position,r,e.options)}catch(t){if(t instanceof s.NotEnoughDataError){await e.waitForChunk();continue}throw t}e.position=n.offset,t.push({value:n.value,metadata:r})}break}if(!e.options.useColumnNames)return new r.RowToken(t);{let e=Object.create(null);return t.forEach(t=>{let n=t.metadata.colName;null==e[n]&&(e[n]=t)}),new r.RowToken(e)}}t.default=l,e.exports=l},15765:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(32505),i=n(37902);function o(e,t,n){let o;if({offset:t,value:o}=(0,r.readUInt16LE)(e,t),e.length<t+o)throw new r.NotEnoughDataError(t+o);let s=e.slice(t,t+o);return t+=o,new r.Result(new i.SSPIToken(function(e){let t={};return t.magic=e.slice(0,8).toString("utf8"),t.type=e.readInt32LE(8),t.domainLen=e.readInt16LE(12),t.domainMax=e.readInt16LE(14),t.domainOffset=e.readInt32LE(16),t.flags=e.readInt32LE(20),t.nonce=e.slice(24,32),t.zeroes=e.slice(32,40),t.targetLen=e.readInt16LE(40),t.targetMax=e.readInt16LE(42),t.targetOffset=e.readInt32LE(44),t.oddData=e.slice(48,56),t.domain=e.slice(56,56+t.domainLen).toString("ucs2"),t.target=e.slice(56+t.domainLen,56+t.domainLen+t.targetLen),t}(s),s),t)}t.default=o,e.exports=o},70139:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(37902),i=_(n(95498)),o=n(53303),s=_(n(5439)),a=n(14350),l=_(n(61179)),c=_(n(8281)),u=_(n(4476)),h=_(n(49193)),d=_(n(7134)),f=_(n(19341)),p=_(n(13690)),m=_(n(81168)),g=_(n(15765)),y=n(32505);function _(e){return e&&e.__esModule?e:{default:e}}class E{debug;colMetadata;options;iterator;buffer;position;static async *parseTokens(e,t,n,r=[]){let i=new E(e,t,n);for(i.colMetadata=r;;){try{await i.waitForChunk()}catch(e){if(i.position===i.buffer.length)return;throw e}for(;i.buffer.length>=i.position+1;){let e=i.buffer.readUInt8(i.position);i.position+=1;let t=i.readToken(e);void 0!==t&&(yield t)}}}readToken(e){switch(e){case r.TYPE.DONE:return this.readDoneToken();case r.TYPE.DONEPROC:return this.readDoneProcToken();case r.TYPE.DONEINPROC:return this.readDoneInProcToken();case r.TYPE.ERROR:return this.readErrorToken();case r.TYPE.INFO:return this.readInfoToken();case r.TYPE.ENVCHANGE:return this.readEnvChangeToken();case r.TYPE.LOGINACK:return this.readLoginAckToken();case r.TYPE.RETURNSTATUS:return this.readReturnStatusToken();case r.TYPE.ORDER:return this.readOrderToken();case r.TYPE.FEDAUTHINFO:return this.readFedAuthInfoToken();case r.TYPE.SSPI:return this.readSSPIToken();case r.TYPE.COLMETADATA:return this.readColMetadataToken();case r.TYPE.RETURNVALUE:return this.readReturnValueToken();case r.TYPE.ROW:return this.readRowToken();case r.TYPE.NBCROW:return this.readNbcRowToken();case r.TYPE.FEATUREEXTACK:return this.readFeatureExtAckToken();default:throw Error("Unknown type: "+e)}}readFeatureExtAckToken(){let e;try{e=(0,c.default)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readFeatureExtAckToken());throw e}return this.position=e.offset,e.value}async readNbcRowToken(){return await (0,m.default)(this)}async readReturnValueToken(){return await (0,f.default)(this)}async readColMetadataToken(){let e=await (0,i.default)(this);return this.colMetadata=e.columns,e}readSSPIToken(){let e;try{e=(0,g.default)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readSSPIToken());throw e}return this.position=e.offset,e.value}readFedAuthInfoToken(){let e;try{e=(0,l.default)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readFedAuthInfoToken());throw e}return this.position=e.offset,e.value}readOrderToken(){let e;try{e=(0,h.default)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readOrderToken());throw e}return this.position=e.offset,e.value}readReturnStatusToken(){let e;try{e=(0,d.default)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readReturnStatusToken());throw e}return this.position=e.offset,e.value}readLoginAckToken(){let e;try{e=(0,u.default)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readLoginAckToken());throw e}return this.position=e.offset,e.value}readEnvChangeToken(){let e;try{e=(0,s.default)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readEnvChangeToken());throw e}return this.position=e.offset,e.value}readRowToken(){return(0,p.default)(this)}readInfoToken(){let e;try{e=(0,a.infoParser)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readInfoToken());throw e}return this.position=e.offset,e.value}readErrorToken(){let e;try{e=(0,a.errorParser)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readErrorToken());throw e}return this.position=e.offset,e.value}readDoneInProcToken(){let e;try{e=(0,o.doneInProcParser)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readDoneInProcToken());throw e}return this.position=e.offset,e.value}readDoneProcToken(){let e;try{e=(0,o.doneProcParser)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readDoneProcToken());throw e}return this.position=e.offset,e.value}readDoneToken(){let e;try{e=(0,o.doneParser)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readDoneToken());throw e}return this.position=e.offset,e.value}constructor(e,t,n){this.debug=t,this.colMetadata=[],this.options=n,this.iterator=(e[Symbol.asyncIterator]||e[Symbol.iterator]).call(e),this.buffer=Buffer.alloc(0),this.position=0}async waitForChunk(){let e=await this.iterator.next();if(e.done)throw Error("unexpected end of data");this.position===this.buffer.length?this.buffer=e.value:this.buffer=Buffer.concat([this.buffer.slice(this.position),e.value]),this.position=0}}t.default=E,e.exports=E},59889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;var r=n(17702),i=function(e){return e&&e.__esModule?e:{default:e}}(n(70139)),o=n(76162);class s extends r.EventEmitter{constructor(e,t,n,r){super(),this.debug=t,this.options=r,this.parser=o.Readable.from(i.default.parseTokens(e,this.debug,this.options)),this.parser.on("data",e=>{n[e.handlerName](e)}),this.parser.on("drain",()=>{this.emit("drain")}),this.parser.on("end",()=>{this.emit("end")})}pause(){return this.parser.pause()}resume(){return this.parser.resume()}}t.Parser=s},37902:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Token=t.TYPE=t.SSPIToken=t.RowToken=t.RoutingEnvChangeToken=t.RollbackTransactionEnvChangeToken=t.ReturnValueToken=t.ReturnStatusToken=t.ResetConnectionEnvChangeToken=t.PacketSizeEnvChangeToken=t.OrderToken=t.NBCRowToken=t.LoginAckToken=t.LanguageEnvChangeToken=t.InfoMessageToken=t.FedAuthInfoToken=t.FeatureExtAckToken=t.ErrorMessageToken=t.DoneToken=t.DoneProcToken=t.DoneInProcToken=t.DatabaseMirroringPartnerEnvChangeToken=t.DatabaseEnvChangeToken=t.CommitTransactionEnvChangeToken=t.CollationChangeToken=t.ColMetadataToken=t.CharsetEnvChangeToken=t.BeginTransactionEnvChangeToken=void 0,t.TYPE={ALTMETADATA:136,ALTROW:211,COLMETADATA:129,COLINFO:165,DONE:253,DONEPROC:254,DONEINPROC:255,ENVCHANGE:227,ERROR:170,FEATUREEXTACK:174,FEDAUTHINFO:238,INFO:171,LOGINACK:173,NBCROW:210,OFFSET:120,ORDER:169,RETURNSTATUS:121,RETURNVALUE:172,ROW:209,SSPI:237,TABNAME:164};class n{constructor(e,t){this.name=e,this.handlerName=t}}t.Token=n;class r extends n{constructor(e){super("COLMETADATA","onColMetadata"),this.columns=e}}t.ColMetadataToken=r;class i extends n{constructor({more:e,sqlError:t,attention:n,serverError:r,rowCount:i,curCmd:o}){super("DONE","onDone"),this.more=e,this.sqlError=t,this.attention=n,this.serverError=r,this.rowCount=i,this.curCmd=o}}t.DoneToken=i;class o extends n{constructor({more:e,sqlError:t,attention:n,serverError:r,rowCount:i,curCmd:o}){super("DONEINPROC","onDoneInProc"),this.more=e,this.sqlError=t,this.attention=n,this.serverError=r,this.rowCount=i,this.curCmd=o}}t.DoneInProcToken=o;class s extends n{constructor({more:e,sqlError:t,attention:n,serverError:r,rowCount:i,curCmd:o}){super("DONEPROC","onDoneProc"),this.more=e,this.sqlError=t,this.attention=n,this.serverError=r,this.rowCount=i,this.curCmd=o}}t.DoneProcToken=s;class a extends n{constructor(e,t){super("ENVCHANGE","onDatabaseChange"),this.type="DATABASE",this.newValue=e,this.oldValue=t}}t.DatabaseEnvChangeToken=a;class l extends n{constructor(e,t){super("ENVCHANGE","onLanguageChange"),this.type="LANGUAGE",this.newValue=e,this.oldValue=t}}t.LanguageEnvChangeToken=l;class c extends n{constructor(e,t){super("ENVCHANGE","onCharsetChange"),this.type="CHARSET",this.newValue=e,this.oldValue=t}}t.CharsetEnvChangeToken=c;class u extends n{constructor(e,t){super("ENVCHANGE","onPacketSizeChange"),this.type="PACKET_SIZE",this.newValue=e,this.oldValue=t}}t.PacketSizeEnvChangeToken=u;class h extends n{constructor(e,t){super("ENVCHANGE","onBeginTransaction"),this.type="BEGIN_TXN",this.newValue=e,this.oldValue=t}}t.BeginTransactionEnvChangeToken=h;class d extends n{constructor(e,t){super("ENVCHANGE","onCommitTransaction"),this.type="COMMIT_TXN",this.newValue=e,this.oldValue=t}}t.CommitTransactionEnvChangeToken=d;class f extends n{constructor(e,t){super("ENVCHANGE","onRollbackTransaction"),this.type="ROLLBACK_TXN",this.newValue=e,this.oldValue=t}}t.RollbackTransactionEnvChangeToken=f;class p extends n{constructor(e,t){super("ENVCHANGE","onDatabaseMirroringPartner"),this.type="DATABASE_MIRRORING_PARTNER",this.newValue=e,this.oldValue=t}}t.DatabaseMirroringPartnerEnvChangeToken=p;class m extends n{constructor(e,t){super("ENVCHANGE","onResetConnection"),this.type="RESET_CONNECTION",this.newValue=e,this.oldValue=t}}t.ResetConnectionEnvChangeToken=m;class g extends n{constructor(e,t){super("ENVCHANGE","onSqlCollationChange"),this.type="SQL_COLLATION",this.newValue=e,this.oldValue=t}}t.CollationChangeToken=g;class y extends n{constructor(e,t){super("ENVCHANGE","onRoutingChange"),this.type="ROUTING_CHANGE",this.newValue=e,this.oldValue=t}}t.RoutingEnvChangeToken=y;class _ extends n{constructor(e,t){super("FEATUREEXTACK","onFeatureExtAck"),this.fedAuth=e,this.utf8Support=t}}t.FeatureExtAckToken=_;class E extends n{constructor(e,t){super("FEDAUTHINFO","onFedAuthInfo"),this.spn=e,this.stsurl=t}}t.FedAuthInfoToken=E;class T extends n{constructor({number:e,state:t,class:n,message:r,serverName:i,procName:o,lineNumber:s}){super("INFO","onInfoMessage"),this.number=e,this.state=t,this.class=n,this.message=r,this.serverName=i,this.procName=o,this.lineNumber=s}}t.InfoMessageToken=T;class w extends n{constructor({number:e,state:t,class:n,message:r,serverName:i,procName:o,lineNumber:s}){super("ERROR","onErrorMessage"),this.number=e,this.state=t,this.class=n,this.message=r,this.serverName=i,this.procName=o,this.lineNumber=s}}t.ErrorMessageToken=w;class b extends n{constructor({interface:e,tdsVersion:t,progName:n,progVersion:r}){super("LOGINACK","onLoginAck"),this.interface=e,this.tdsVersion=t,this.progName=n,this.progVersion=r}}t.LoginAckToken=b;class v extends n{constructor(e){super("NBCROW","onRow"),this.columns=e}}t.NBCRowToken=v;class S extends n{constructor(e){super("ORDER","onOrder"),this.orderColumns=e}}t.OrderToken=S;class A extends n{constructor(e){super("RETURNSTATUS","onReturnStatus"),this.value=e}}t.ReturnStatusToken=A;class I extends n{constructor({paramOrdinal:e,paramName:t,metadata:n,value:r}){super("RETURNVALUE","onReturnValue"),this.paramOrdinal=e,this.paramName=t,this.metadata=n,this.value=r}}t.ReturnValueToken=I;class C extends n{constructor(e){super("ROW","onRow"),this.columns=e}}t.RowToken=C;class O extends n{constructor(e,t){super("SSPICHALLENGE","onSSPI"),this.ntlmpacket=e,this.ntlmpacketBuffer=t}}t.SSPIToken=O},24927:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let n=Buffer.from([254,255,255,255,255,255,255,255]),r=Buffer.alloc(0);class i{constructor(e,t,n){this.initialSize=e,this.encoding=t||"ucs2",this.doubleSizeGrowth=n||!1,this.buffer=Buffer.alloc(this.initialSize,0),this.compositeBuffer=r,this.position=0}get data(){return this.newBuffer(0),this.compositeBuffer}copyFrom(e){let t=e.length;this.makeRoomFor(t),e.copy(this.buffer,this.position),this.position+=t}makeRoomFor(e){if(this.buffer.length-this.position<e){if(this.doubleSizeGrowth){let t=Math.max(128,2*this.buffer.length);for(;t<e;)t*=2;this.newBuffer(t)}else this.newBuffer(e)}}newBuffer(e){let t=this.buffer.slice(0,this.position);this.compositeBuffer=Buffer.concat([this.compositeBuffer,t]),this.buffer=0===e?r:Buffer.alloc(e,0),this.position=0}writeUInt8(e){this.makeRoomFor(1),this.buffer.writeUInt8(e,this.position),this.position+=1}writeUInt16LE(e){this.makeRoomFor(2),this.buffer.writeUInt16LE(e,this.position),this.position+=2}writeUShort(e){this.writeUInt16LE(e)}writeUInt16BE(e){this.makeRoomFor(2),this.buffer.writeUInt16BE(e,this.position),this.position+=2}writeUInt24LE(e){this.makeRoomFor(3),this.buffer[this.position+2]=e>>>16&255,this.buffer[this.position+1]=e>>>8&255,this.buffer[this.position]=255&e,this.position+=3}writeUInt32LE(e){this.makeRoomFor(4),this.buffer.writeUInt32LE(e,this.position),this.position+=4}writeBigInt64LE(e){this.makeRoomFor(8),this.buffer.writeBigInt64LE(e,this.position),this.position+=8}writeInt64LE(e){this.writeBigInt64LE(BigInt(e))}writeUInt64LE(e){this.writeBigUInt64LE(BigInt(e))}writeBigUInt64LE(e){this.makeRoomFor(8),this.buffer.writeBigUInt64LE(e,this.position),this.position+=8}writeUInt32BE(e){this.makeRoomFor(4),this.buffer.writeUInt32BE(e,this.position),this.position+=4}writeUInt40LE(e){this.writeInt32LE(-1&e),this.writeUInt8(Math.floor(23283064365386963e-26*e))}writeInt8(e){this.makeRoomFor(1),this.buffer.writeInt8(e,this.position),this.position+=1}writeInt16LE(e){this.makeRoomFor(2),this.buffer.writeInt16LE(e,this.position),this.position+=2}writeInt16BE(e){this.makeRoomFor(2),this.buffer.writeInt16BE(e,this.position),this.position+=2}writeInt32LE(e){this.makeRoomFor(4),this.buffer.writeInt32LE(e,this.position),this.position+=4}writeInt32BE(e){this.makeRoomFor(4),this.buffer.writeInt32BE(e,this.position),this.position+=4}writeFloatLE(e){this.makeRoomFor(4),this.buffer.writeFloatLE(e,this.position),this.position+=4}writeDoubleLE(e){this.makeRoomFor(8),this.buffer.writeDoubleLE(e,this.position),this.position+=8}writeString(e,t){null==t&&(t=this.encoding);let n=Buffer.byteLength(e,t);this.makeRoomFor(n),this.buffer.write(e,this.position,t),this.position+=n}writeBVarchar(e,t){this.writeUInt8(e.length),this.writeString(e,t)}writeUsVarchar(e,t){this.writeUInt16LE(e.length),this.writeString(e,t)}writeUsVarbyte(e,t){let n;null==t&&(t=this.encoding),e instanceof Buffer?n=e.length:(e=e.toString(),n=Buffer.byteLength(e,t)),this.writeUInt16LE(n),e instanceof Buffer?this.writeBuffer(e):(this.makeRoomFor(n),this.buffer.write(e,this.position,t),this.position+=n)}writePLPBody(e,t){let r;null==t&&(t=this.encoding),e instanceof Buffer?r=e.length:(e=e.toString(),r=Buffer.byteLength(e,t)),this.writeBuffer(n),r>0&&(this.writeUInt32LE(r),e instanceof Buffer?this.writeBuffer(e):(this.makeRoomFor(r),this.buffer.write(e,this.position,t),this.position+=r)),this.writeUInt32LE(0)}writeBuffer(e){let t=e.length;this.makeRoomFor(t),e.copy(this.buffer,this.position),this.position+=t}writeMoney(e){this.writeInt32LE(Math.floor(23283064365386963e-26*e)),this.writeInt32LE(-1&e)}}t.default=i,e.exports=i},43539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=t.OPERATION_TYPE=t.ISOLATION_LEVEL=void 0,t.assertValidIsolationLevel=function(e,t){if("number"!=typeof e)throw TypeError(`The "${t}" ${t.includes(".")?"property":"argument"} must be of type number. Received type ${typeof e} (${e})`);if(!Number.isInteger(e))throw RangeError(`The value of "${t}" is out of range. It must be an integer. Received: ${e}`);if(!(e>=0&&e<=5))throw RangeError(`The value of "${t}" is out of range. It must be >= 0 && <= 5. Received: ${e}`)},t.isolationLevelByValue=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(24927)),i=n(82646);let o={TM_GET_DTC_ADDRESS:0,TM_PROPAGATE_XACT:1,TM_BEGIN_XACT:5,TM_PROMOTE_XACT:6,TM_COMMIT_XACT:7,TM_ROLLBACK_XACT:8,TM_SAVE_XACT:9};t.OPERATION_TYPE=o;let s={NO_CHANGE:0,READ_UNCOMMITTED:1,READ_COMMITTED:2,REPEATABLE_READ:3,SERIALIZABLE:4,SNAPSHOT:5};t.ISOLATION_LEVEL=s;let a={};for(let e in t.isolationLevelByValue=a,s)a[s[e]]=e;class l{constructor(e,t=s.NO_CHANGE){this.name=e,this.isolationLevel=t,this.outstandingRequestCount=1}beginPayload(e){let t=new r.default(100,"ucs2");return(0,i.writeToTrackingBuffer)(t,e,this.outstandingRequestCount),t.writeUShort(o.TM_BEGIN_XACT),t.writeUInt8(this.isolationLevel),t.writeUInt8(2*this.name.length),t.writeString(this.name,"ucs2"),{*[Symbol.iterator](){yield t.data},toString:()=>"Begin Transaction: name="+this.name+", isolationLevel="+a[this.isolationLevel]}}commitPayload(e){let t=new r.default(100,"ascii");return(0,i.writeToTrackingBuffer)(t,e,this.outstandingRequestCount),t.writeUShort(o.TM_COMMIT_XACT),t.writeUInt8(2*this.name.length),t.writeString(this.name,"ucs2"),t.writeUInt8(0),{*[Symbol.iterator](){yield t.data},toString:()=>"Commit Transaction: name="+this.name}}rollbackPayload(e){let t=new r.default(100,"ascii");return(0,i.writeToTrackingBuffer)(t,e,this.outstandingRequestCount),t.writeUShort(o.TM_ROLLBACK_XACT),t.writeUInt8(2*this.name.length),t.writeString(this.name,"ucs2"),t.writeUInt8(0),{*[Symbol.iterator](){yield t.data},toString:()=>"Rollback Transaction: name="+this.name}}savePayload(e){let t=new r.default(100,"ascii");return(0,i.writeToTrackingBuffer)(t,e,this.outstandingRequestCount),t.writeUShort(o.TM_SAVE_XACT),t.writeUInt8(2*this.name.length),t.writeString(this.name,"ucs2"),{*[Symbol.iterator](){yield t.data},toString:()=>"Save Transaction: name="+this.name}}isolationLevelToTSQL(){switch(this.isolationLevel){case s.READ_UNCOMMITTED:return"READ UNCOMMITTED";case s.READ_COMMITTED:return"READ COMMITTED";case s.REPEATABLE_READ:return"REPEATABLE READ";case s.SERIALIZABLE:return"SERIALIZABLE";case s.SNAPSHOT:return"SNAPSHOT"}return""}}t.Transaction=l},4274:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransientErrorLookup=void 0;class n{isTransientError(e){return -1!==[4060,10928,10929,40197,40501,40613].indexOf(e)}}t.TransientErrorLookup=n},55703:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=o;var r=n(46180),i=function(e){return e&&e.__esModule?e:{default:e}}(n(48959));async function o(e,t,n){let o=new r.AbortController,s=()=>{o.abort()},a=setTimeout(s,e);null==n||n.addEventListener("abort",s,{once:!0});try{return await t(o.signal)}catch(e){if(e instanceof Error&&"AbortError"===e.name&&!(n&&n.aborted))throw new i.default;throw e}finally{null==n||n.removeEventListener("abort",s),clearTimeout(a)}}},77661:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPLPStream=T,t.readPLPStream=I,t.readValue=E;var r=n(50697),i=n(47258),o=function(e){return e&&e.__esModule?e:{default:e}}(n(95813)),s=n(78950),a=n(90035),l=n(32505);let c=3+1/3;function u(e,t){return(0,l.readUInt8)(e,t)}function h(e,t){return(0,l.readInt16LE)(e,t)}function d(e,t){return(0,l.readInt32LE)(e,t)}function f(e,t){let n;return{offset:t,value:n}=(0,l.readBigInt64LE)(e,t),new l.Result(n.toString(),t)}function p(e,t){return(0,l.readFloatLE)(e,t)}function m(e,t){return(0,l.readDoubleLE)(e,t)}function g(e,t){let n;return{offset:t,value:n}=(0,l.readInt32LE)(e,t),new l.Result(n/1e4,t)}function y(e,t){let n,r;return{offset:t,value:n}=(0,l.readInt32LE)(e,t),{offset:t,value:r}=(0,l.readUInt32LE)(e,t),new l.Result((r+4294967296*n)/1e4,t)}function _(e,t){let n;return{offset:t,value:n}=(0,l.readUInt8)(e,t),new l.Result(!!n,t)}function E(e,t,n,o){switch(n.type.name){case"Null":return new l.Result(null,t);case"TinyInt":return u(e,t);case"SmallInt":return h(e,t);case"Int":return d(e,t);case"BigInt":return f(e,t);case"IntN":{let n;switch({offset:t,value:n}=(0,l.readUInt8)(e,t),n){case 0:return new l.Result(null,t);case 1:return u(e,t);case 2:return h(e,t);case 4:return d(e,t);case 8:return f(e,t);default:throw Error("Unsupported dataLength "+n+" for IntN")}}case"Real":return p(e,t);case"Float":return m(e,t);case"FloatN":{let n;switch({offset:t,value:n}=(0,l.readUInt8)(e,t),n){case 0:return new l.Result(null,t);case 4:return p(e,t);case 8:return m(e,t);default:throw Error("Unsupported dataLength "+n+" for FloatN")}}case"SmallMoney":return g(e,t);case"Money":return y(e,t);case"MoneyN":{let n;switch({offset:t,value:n}=(0,l.readUInt8)(e,t),n){case 0:return new l.Result(null,t);case 4:return g(e,t);case 8:return y(e,t);default:throw Error("Unsupported dataLength "+n+" for MoneyN")}}case"Bit":return _(e,t);case"BitN":{let n;switch({offset:t,value:n}=(0,l.readUInt8)(e,t),n){case 0:return new l.Result(null,t);case 1:return _(e,t);default:throw Error("Unsupported dataLength "+n+" for BitN")}}case"VarChar":case"Char":{let r;let i=n.collation.codepage;if({offset:t,value:r}=(0,l.readUInt16LE)(e,t),65535===r)return new l.Result(null,t);return S(e,t,r,i)}case"NVarChar":case"NChar":{let n;if({offset:t,value:n}=(0,l.readUInt16LE)(e,t),65535===n)return new l.Result(null,t);return A(e,t,n)}case"VarBinary":case"Binary":{let n;if({offset:t,value:n}=(0,l.readUInt16LE)(e,t),65535===n)return new l.Result(null,t);return v(e,t,n)}case"Text":{let r,i;if({offset:t,value:r}=(0,l.readUInt8)(e,t),0===r)return new l.Result(null,t);return{offset:t}=v(e,t,r),{offset:t}=v(e,t,8),{offset:t,value:i}=(0,l.readUInt32LE)(e,t),S(e,t,i,n.collation.codepage)}case"NText":{let n,r;if({offset:t,value:n}=(0,l.readUInt8)(e,t),0===n)return new l.Result(null,t);return{offset:t}=v(e,t,n),{offset:t}=v(e,t,8),{offset:t,value:r}=(0,l.readUInt32LE)(e,t),A(e,t,r)}case"Image":{let n,r;if({offset:t,value:n}=(0,l.readUInt8)(e,t),0===n)return new l.Result(null,t);return{offset:t}=v(e,t,n),{offset:t}=v(e,t,8),{offset:t,value:r}=(0,l.readUInt32LE)(e,t),v(e,t,r)}case"SmallDateTime":return C(e,t,o.useUTC);case"DateTime":return O(e,t,o.useUTC);case"DateTimeN":{let n;switch({offset:t,value:n}=(0,l.readUInt8)(e,t),n){case 0:return new l.Result(null,t);case 4:return C(e,t,o.useUTC);case 8:return O(e,t,o.useUTC);default:throw Error("Unsupported dataLength "+n+" for DateTimeN")}}case"Time":{let r;if({offset:t,value:r}=(0,l.readUInt8)(e,t),0===r)return new l.Result(null,t);return N(e,t,r,n.scale,o.useUTC)}case"Date":{let n;if({offset:t,value:n}=(0,l.readUInt8)(e,t),0===n)return new l.Result(null,t);return R(e,t,o.useUTC)}case"DateTime2":{let r;if({offset:t,value:r}=(0,l.readUInt8)(e,t),0===r)return new l.Result(null,t);return D(e,t,r,n.scale,o.useUTC)}case"DateTimeOffset":{let r;if({offset:t,value:r}=(0,l.readUInt8)(e,t),0===r)return new l.Result(null,t);return k(e,t,r,n.scale)}case"NumericN":case"DecimalN":{let r;if({offset:t,value:r}=(0,l.readUInt8)(e,t),0===r)return new l.Result(null,t);return b(e,t,r,n.precision,n.scale)}case"UniqueIdentifier":{let n;switch({offset:t,value:n}=(0,l.readUInt8)(e,t),n){case 0:return new l.Result(null,t);case 16:return w(e,t,o);default:throw Error((0,s.sprintf)("Unsupported guid size %d",n-1))}}case"Variant":{let n;if({offset:t,value:n}=(0,l.readUInt32LE)(e,t),0===n)return new l.Result(null,t);return function(e,t,n,o){let s,a;({value:s,offset:t}=(0,l.readUInt8)(e,t));let c=i.TYPE[s];switch({value:a,offset:t}=(0,l.readUInt8)(e,t),o=o-a-2,c.name){case"UniqueIdentifier":return w(e,t,n);case"Bit":return _(e,t);case"TinyInt":return u(e,t);case"SmallInt":return h(e,t);case"Int":return d(e,t);case"BigInt":return f(e,t);case"SmallDateTime":return C(e,t,n.useUTC);case"DateTime":return O(e,t,n.useUTC);case"Real":return p(e,t);case"Float":return m(e,t);case"SmallMoney":return g(e,t);case"Money":return y(e,t);case"Date":return R(e,t,n.useUTC);case"Time":{let r;return{value:r,offset:t}=(0,l.readUInt8)(e,t),N(e,t,o,r,n.useUTC)}case"DateTime2":{let r;return{value:r,offset:t}=(0,l.readUInt8)(e,t),D(e,t,o,r,n.useUTC)}case"DateTimeOffset":{let n;return{value:n,offset:t}=(0,l.readUInt8)(e,t),k(e,t,o,n)}case"VarBinary":case"Binary":return{offset:t}=(0,l.readUInt16LE)(e,t),v(e,t,o);case"NumericN":case"DecimalN":{let n,r;return{value:n,offset:t}=(0,l.readUInt8)(e,t),{value:r,offset:t}=(0,l.readUInt8)(e,t),b(e,t,o,n,r)}case"VarChar":case"Char":{let n;return{offset:t}=(0,l.readUInt16LE)(e,t),{value:n,offset:t}=(0,r.readCollation)(e,t),S(e,t,o,n.codepage)}case"NVarChar":case"NChar":return{offset:t}=(0,l.readUInt16LE)(e,t),{offset:t}=(0,r.readCollation)(e,t),A(e,t,o);default:throw Error("Invalid type!")}}(e,t,o,n)}default:throw Error("Invalid type!")}}function T(e){switch(e.type.name){case"VarChar":case"NVarChar":case"VarBinary":return 65535===e.dataLength;case"Xml":case"UDT":return!0}}function w(e,t,n){let r;return{value:r,offset:t}=v(e,t,16),new l.Result(n.lowerCaseGuids?(0,a.bufferToLowerCaseGuid)(r):(0,a.bufferToUpperCaseGuid)(r),t)}function b(e,t,n,r,i){let o,a;if({offset:t,value:o}=(0,l.readUInt8)(e,t),o=1===o?1:-1,5===n)({offset:t,value:a}=(0,l.readUInt32LE)(e,t));else if(9===n)({offset:t,value:a}=(0,l.readUNumeric64LE)(e,t));else if(13===n)({offset:t,value:a}=(0,l.readUNumeric96LE)(e,t));else if(17===n)({offset:t,value:a}=(0,l.readUNumeric128LE)(e,t));else throw Error((0,s.sprintf)("Unsupported numeric dataLength %d",n));return new l.Result(a*o/Math.pow(10,i),t)}function v(e,t,n){if(e.length<t+n)throw new l.NotEnoughDataError(t+n);return new l.Result(e.slice(t,t+n),t+n)}function S(e,t,n,r){if(e.length<t+n)throw new l.NotEnoughDataError(t+n);return new l.Result(o.default.decode(e.slice(t,t+n),r??"utf8"),t+n)}function A(e,t,n){if(e.length<t+n)throw new l.NotEnoughDataError(t+n);return new l.Result(e.toString("ucs2",t,t+n),t+n)}async function I(e){for(;e.buffer.length<e.position+8;)await e.waitForChunk();let t=e.buffer.readBigUInt64LE(e.position);if(e.position+=8,0xffffffffffffffffn===t)return null;let n=[],r=0;for(;;){for(;e.buffer.length<e.position+4;)await e.waitForChunk();let t=e.buffer.readUInt32LE(e.position);if(e.position+=4,!t)break;for(;e.buffer.length<e.position+t;)await e.waitForChunk();n.push(e.buffer.slice(e.position,e.position+t)),e.position+=t,r+=t}if(0xfffffffffffffffen!==t&&r!==Number(t))throw Error("Partially Length-prefixed Bytes unmatched lengths : expected "+t+", but got "+r+" bytes");return n}function C(e,t,n){let r,i,o;return{offset:t,value:r}=(0,l.readUInt16LE)(e,t),{offset:t,value:i}=(0,l.readUInt16LE)(e,t),o=n?new Date(Date.UTC(1900,0,1+r,0,i)):new Date(1900,0,1+r,0,i),new l.Result(o,t)}function O(e,t,n){let r,i,o;({offset:t,value:r}=(0,l.readInt32LE)(e,t)),{offset:t,value:i}=(0,l.readInt32LE)(e,t);let s=Math.round(i*c);return o=n?new Date(Date.UTC(1900,0,1+r,0,0,0,s)):new Date(1900,0,1+r,0,0,0,s),new l.Result(o,t)}function N(e,t,n,r,i){let o,s;switch(n){case 3:({value:o,offset:t}=(0,l.readUInt24LE)(e,t));break;case 4:({value:o,offset:t}=(0,l.readUInt32LE)(e,t));break;case 5:({value:o,offset:t}=(0,l.readUInt40LE)(e,t));break;default:throw Error("unreachable")}if(r<7)for(let e=r;e<7;e++)o*=10;return Object.defineProperty(s=i?new Date(Date.UTC(1970,0,1,0,0,0,o/1e4)):new Date(1970,0,1,0,0,0,o/1e4),"nanosecondsDelta",{enumerable:!1,value:o%1e4/1e7}),new l.Result(s,t)}function R(e,t,n){let r;return({offset:t,value:r}=(0,l.readUInt24LE)(e,t),n)?new l.Result(new Date(Date.UTC(2e3,0,r-730118)),t):new l.Result(new Date(2e3,0,r-730118),t)}function D(e,t,n,r,i){let o,s,a;return{offset:t,value:o}=N(e,t,n-3,r,i),{offset:t,value:s}=(0,l.readUInt24LE)(e,t),Object.defineProperty(a=i?new Date(Date.UTC(2e3,0,s-730118,0,0,0,+o)):new Date(2e3,0,s-730118,o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()),"nanosecondsDelta",{enumerable:!1,value:o.nanosecondsDelta}),new l.Result(a,t)}function k(e,t,n,r){let i,o;({offset:t,value:i}=N(e,t,n-5,r,!0)),({offset:t,value:o}=(0,l.readUInt24LE)(e,t)),{offset:t}=(0,l.readUInt16LE)(e,t);let s=new Date(Date.UTC(2e3,0,o-730118,0,0,0,+i));return Object.defineProperty(s,"nanosecondsDelta",{enumerable:!1,value:i.nanosecondsDelta}),new l.Result(s,t)}e.exports.readValue=E,e.exports.isPLPStream=T,e.exports.readPLPStream=I},52737:e=>{"use strict";e.exports=(e,t)=>{t=t||process.argv;let n=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(n+e),i=t.indexOf("--");return -1!==r&&(-1===i||r<i)}},82816:(e,t,n)=>{"use strict";let r;let i=n(19801),o=n(52737),s=process.env;function a(e){var t;return 0!==(t=function(e){if(!1===r)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(e&&!e.isTTY&&!0!==r)return 0;let t=r?1:0;if("win32"===process.platform){let e=i.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in s)||"codeship"===s.CI_NAME?1:t;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("truecolor"===s.COLORTERM)return 3;if("TERM_PROGRAM"in s){let e=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:(s.TERM,t)}(e))&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}o("no-color")||o("no-colors")||o("color=false")?r=!1:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(r=!0),"FORCE_COLOR"in s&&(r=0===s.FORCE_COLOR.length||0!==parseInt(s.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},6755:(e,t)=>{"use strict";t.S=void 0,t.S={operationRequestMap:new WeakMap}},70791:(e,t)=>{"use strict";t.S=void 0,t.S={instrumenterImplementation:void 0}},85266:(e,t,n)=>{"use strict";var r=n(17445),i=n(11952),o=n(63132),s=n(51757);e.exports=function(e,t,n){if(!i(e))throw new r("Assertion failed: Type(O) is not Object");if(!s(t))throw new r("Assertion failed: P is not a Property Key");return o(e,t,{"[[Configurable]]":!0,"[[Enumerable]]":!1,"[[Value]]":n,"[[Writable]]":!0})}},63132:(e,t,n)=>{"use strict";var r=n(17445),i=n(11952),o=n(9268),s=n(26738),a=n(16220),l=n(20133),c=n(51757),u=n(66495),h=n(98865);e.exports=function(e,t,n){if(!i(e))throw new r("Assertion failed: Type(O) is not Object");if(!c(t))throw new r("Assertion failed: P is not a Property Key");var d=o(n)?n:h(n);if(!o(d))throw new r("Assertion failed: Desc is not a valid Property Descriptor");return s(l,u,a,e,t,d)}},16220:(e,t,n)=>{"use strict";var r=n(17445),i=n(9268),o=n(28342);e.exports=function(e){if(void 0!==e&&!i(e))throw new r("Assertion failed: `Desc` must be a Property Descriptor");return o(e)}},66491:(e,t,n)=>{"use strict";e.exports=n(8670)},20133:(e,t,n)=>{"use strict";var r=n(17445),i=n(64995),o=n(9268);e.exports=function(e){if(void 0===e)return!1;if(!o(e))throw new r("Assertion failed: `Desc` must be a Property Descriptor");return!!(i(e,"[[Value]]")||i(e,"[[Writable]]"))}},66495:(e,t,n)=>{"use strict";var r=n(61781);e.exports=function(e,t){return e===t?0!==e||1/e==1/t:r(e)&&r(t)}},95956:e=>{"use strict";e.exports=function(e){return!!e}},98865:(e,t,n)=>{"use strict";var r=n(64995),i=n(17445),o=n(11952),s=n(66491),a=n(95956);e.exports=function(e){if(!o(e))throw new i("ToPropertyDescriptor requires an object");var t={};if(r(e,"enumerable")&&(t["[[Enumerable]]"]=a(e.enumerable)),r(e,"configurable")&&(t["[[Configurable]]"]=a(e.configurable)),r(e,"value")&&(t["[[Value]]"]=e.value),r(e,"writable")&&(t["[[Writable]]"]=a(e.writable)),r(e,"get")){var n=e.get;if(void 0!==n&&!s(n))throw new i("getter must be a function");t["[[Get]]"]=n}if(r(e,"set")){var l=e.set;if(void 0!==l&&!s(l))throw new i("setter must be a function");t["[[Set]]"]=l}if((r(t,"[[Get]]")||r(t,"[[Set]]"))&&(r(t,"[[Value]]")||r(t,"[[Writable]]")))throw new i("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}},97464:(e,t,n)=>{"use strict";var r=n(70623),i=n(17445),o=n(21069),s=n(68551);e.exports=function(e,t,n){if("string"!=typeof e)throw new i("Assertion failed: `S` must be a String");if(!o(t)||t<0||t>s)throw new i("Assertion failed: `length` must be an integer >= 0 and <= 2**53");if("boolean"!=typeof n)throw new i("Assertion failed: `unicode` must be a Boolean");if(!n||t+1>=e.length)return t+1;var a=r(e,t);return t+a["[[CodeUnitCount]]"]}},94992:(e,t,n)=>{"use strict";var r=n(2749),i=n(31209),o=n(17445),s=n(11952),a=r("%Promise%",!0),l=n(98363),c=n(49109),u=n(29683),h=n(41877),d=n(25385),f=l("Promise.prototype.then",!0);e.exports=function(e){if(!s(e))throw new o("Assertion failed: Type(O) is not Object");if(arguments.length>1)throw new i("although AsyncFromSyncIteratorContinuation should take a second argument, it is not used in this implementation");if(!a)throw new i("This environment does not support Promises.");return new a(function(t){var n=u(e);t(f(d(a,h(e)),function(e){return c(e,n)}))})}},20672:(e,t,n)=>{"use strict";var r=n(2749),i=n(98363),o=n(17445),s=n(4998),a=r("%Reflect.apply%",!0)||i("Function.prototype.apply");e.exports=function(e,t){var n=arguments.length>2?arguments[2]:[];if(!s(n))throw new o("Assertion failed: optional `argumentsList`, if provided, must be a List");return a(e,t,n)}},70623:(e,t,n)=>{"use strict";var r=n(17445),i=n(98363),o=n(34688),s=n(74921),a=n(73246),l=i("String.prototype.charAt"),c=i("String.prototype.charCodeAt");e.exports=function(e,t){if("string"!=typeof e)throw new r("Assertion failed: `string` must be a String");var n=e.length;if(t<0||t>=n)throw new r("Assertion failed: `position` must be >= 0, and < the length of `string`");var i=c(e,t),u=l(e,t),h=o(i),d=s(i);if(!h&&!d)return{"[[CodePoint]]":u,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!1};if(d||t+1===n)return{"[[CodePoint]]":u,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0};var f=c(e,t+1);return s(f)?{"[[CodePoint]]":a(i,f),"[[CodeUnitCount]]":2,"[[IsUnpairedSurrogate]]":!1}:{"[[CodePoint]]":u,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0}}},86063:(e,t,n)=>{"use strict";var r=n(2749),i=n(31209),o=n(17445),s=n(11952),a=r("%Promise%",!0),l=n(94992),c=n(20672),u=n(49109),h=n(3014),d=n(69144),f=n(73946),p=n(46490),m=n(78375),g=n(81819),y=r("%AsyncFromSyncIteratorPrototype%",!0)||{next:function(e){if(!a)throw new i("This environment does not support Promises.");var t=this;g.assert(t,"[[SyncIteratorRecord]]");var n=arguments.length;return new a(function(r){var i=g.get(t,"[[SyncIteratorRecord]]");r(l(n>0?f(i,e):f(i)))})},return:function(){if(!a)throw new i("This environment does not support Promises.");var e=this;g.assert(e,"[[SyncIteratorRecord]]");var t=arguments.length>0,n=t?arguments[0]:void 0;return new a(function(r,i){var a,h=g.get(e,"[[SyncIteratorRecord]]")["[[Iterator]]"],f=d(h,"return");if(void 0===f){c(r,void 0,[u(n,!0)]);return}if(!s(a=t?c(f,h,[n]):c(f,h))){c(i,void 0,[new o("Iterator `return` method returned a non-object value.")]);return}r(l(a))})},throw:function(){if(!a)throw new i("This environment does not support Promises.");var e=this;g.assert(e,"[[SyncIteratorRecord]]");var t=arguments.length>0,n=t?arguments[0]:void 0;return new a(function(r,i){var a,u=g.get(e,"[[SyncIteratorRecord]]")["[[Iterator]]"],h=d(u,"throw");if(void 0===h){c(i,void 0,[n]);return}if(!s(a=t?c(h,u,[n]):c(h,u))){c(i,void 0,[new o("Iterator `throw` method returned a non-object value.")]);return}r(l(a))})}};e.exports=function(e){if(!m(e))throw new o("Assertion failed: `syncIteratorRecord` must be an Iterator Record");var t=p(y);g.set(t,"[[SyncIteratorRecord]]",e);var n=h(t,"next");return{"[[Iterator]]":t,"[[NextMethod]]":n,"[[Done]]":!1}}},25204:(e,t,n)=>{"use strict";var r=n(17445),i=n(11952),o=n(51757),s=n(41404);e.exports=function(e,t,n){if(!i(e))throw new r("Assertion failed: Type(O) is not Object");if(!o(t))throw new r("Assertion failed: P is not a Property Key");return s(e,t,{"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Value]]":n,"[[Writable]]":!0})}},15059:(e,t,n)=>{"use strict";var r=n(17445),i=n(11952),o=n(25204),s=n(51757);e.exports=function(e,t,n){if(!i(e))throw new r("Assertion failed: Type(O) is not Object");if(!s(t))throw new r("Assertion failed: P is not a Property Key");if(!o(e,t,n))throw new r("unable to create data property")}},49109:(e,t,n)=>{"use strict";var r=n(17445);e.exports=function(e,t){if("boolean"!=typeof t)throw new r("Assertion failed: Type(done) is not Boolean");return{value:e,done:t}}},82661:(e,t,n)=>{"use strict";var r=n(17445),i=n(9268),o=n(28342);e.exports=function(e){if(void 0!==e&&!i(e))throw new r("Assertion failed: `Desc` must be a Property Descriptor");return o(e)}},3014:(e,t,n)=>{"use strict";var r=n(17445),i=n(19966),o=n(51757),s=n(11952);e.exports=function(e,t){if(!s(e))throw new r("Assertion failed: Type(O) is not Object");if(!o(t))throw new r("Assertion failed: P is not a Property Key, got "+i(t));return e[t]}},80438:(e,t,n)=>{"use strict";var r=n(2749),i=n(17445),o=r("%Symbol.asyncIterator%",!0),s=n(19966),a=n(91976)(),l=n(97464),c=n(86063),u=n(53904),h=n(69144),d={AdvanceStringIndex:l,GetMethod:h},f=n(28765);e.exports=function(e,t){if("SYNC"!==t&&"ASYNC"!==t)throw new i("Assertion failed: `kind` must be one of 'sync' or 'async', got "+s(t));if("ASYNC"===t&&a&&o&&(n=h(e,o)),void 0===n){var n,r=f(d,e);if("ASYNC"===t){if(void 0===r)throw new i("iterator method is `undefined`");return c(u(e,r))}n=r}if(void 0===n)throw new i("iterator method is `undefined`");return u(e,n)}},53904:(e,t,n)=>{"use strict";var r=n(17445),i=n(11952),o=n(20672),s=n(3014),a=n(21373);e.exports=function(e,t){if(!a(t))throw new r("method must be a function");var n=o(t,e);if(!i(n))throw new r("iterator must return an object");var l=s(n,"next");return{"[[Iterator]]":n,"[[NextMethod]]":l,"[[Done]]":!1}}},69144:(e,t,n)=>{"use strict";var r=n(17445),i=n(31941),o=n(21373),s=n(51757),a=n(19966);e.exports=function(e,t){if(!s(t))throw new r("Assertion failed: P is not a Property Key");var n=i(e,t);if(null!=n){if(!o(n))throw new r(a(t)+" is not a function: "+a(n));return n}}},31941:(e,t,n)=>{"use strict";var r=n(17445),i=n(19966),o=n(51757);e.exports=function(e,t){if(!o(t))throw new r("Assertion failed: P is not a Property Key, got "+i(t));return e[t]}},47174:(e,t,n)=>{"use strict";var r=n(17445),i=n(64995),o=n(9268);e.exports=function(e){if(void 0===e)return!1;if(!o(e))throw new r("Assertion failed: `Desc` must be a Property Descriptor");return!!(i(e,"[[Get]]")||i(e,"[[Set]]"))}},4998:(e,t,n)=>{"use strict";e.exports=n(73295)},21373:(e,t,n)=>{"use strict";e.exports=n(8670)},73833:(e,t,n)=>{"use strict";var r=n(17445),i=n(64995),o=n(9268);e.exports=function(e){if(void 0===e)return!1;if(!o(e))throw new r("Assertion failed: `Desc` must be a Property Descriptor");return!!(i(e,"[[Value]]")||i(e,"[[Writable]]"))}},97811:(e,t,n)=>{"use strict";var r=n(2749),i=r("%Object.preventExtensions%",!0),o=r("%Object.isExtensible%",!0),s=n(31631);e.exports=i?function(e){return!s(e)&&o(e)}:function(e){return!s(e)}},13833:(e,t,n)=>{"use strict";var r=n(17445),i=n(47174),o=n(73833),s=n(9268);e.exports=function(e){if(void 0===e)return!1;if(!s(e))throw new r("Assertion failed: `Desc` must be a Property Descriptor");return!(i(e)||o(e))}},29683:(e,t,n)=>{"use strict";var r=n(17445),i=n(11952),o=n(3014),s=n(13218);e.exports=function(e){if(!i(e))throw new r("Assertion failed: Type(iterResult) is not Object");return s(o(e,"done"))}},73946:(e,t,n)=>{"use strict";var r=n(17445),i=n(11952),o=n(20672),s=n(78375);e.exports=function(e){var t;if(!s(e))throw new r("Assertion failed: `iteratorRecord` must be an Iterator Record");try{t=arguments.length<2?o(e["[[NextMethod]]"],e["[[Iterator]]"]):o(e["[[NextMethod]]"],e["[[Iterator]]"],[arguments[1]])}catch(t){throw e["[[Done]]"]=!0,t}if(!i(t))throw e["[[Done]]"]=!0,new r("iterator next must return an object");return t}},84051:(e,t,n)=>{"use strict";var r=n(17445),i=n(29683),o=n(73946),s=n(78375);e.exports=function(e){if(!s(e))throw new r("Assertion failed: `iteratorRecord` must be an Iterator Record");var t=o(e);try{var n=i(t)}catch(t){throw e["[[Done]]"]=!0,t}return n?(e["[[Done]]"]=!0,!1):t}},61569:(e,t,n)=>{"use strict";var r=n(17445),i=n(84051),o=n(41877),s=n(78375);e.exports=function(e){if(!s(e))throw new r("Assertion failed: `iteratorRecord` must be an Iterator Record");for(var t=[],n=!0;n;)if(n=i(e)){var a=o(n);t[t.length]=a}return t}},41877:(e,t,n)=>{"use strict";var r=n(17445),i=n(11952),o=n(3014);e.exports=function(e){if(!i(e))throw new r("Assertion failed: Type(iterResult) is not Object");return o(e,"value")}},41404:(e,t,n)=>{"use strict";var r=n(86737),i=n(31209),o=n(17445),s=n(11952),a=n(9268),l=n(47174),c=n(97811),u=n(51757),h=n(16351),d=n(28350),f=n(14706);e.exports=function(e,t,n){if(!s(e))throw new o("Assertion failed: O must be an Object");if(!u(t))throw new o("Assertion failed: P must be a Property Key");if(!a(n))throw new o("Assertion failed: Desc must be a Property Descriptor");if(!r){if(l(n))throw new i("This environment does not support accessor property descriptors.");var p=!(t in e)&&n["[[Writable]]"]&&n["[[Enumerable]]"]&&n["[[Configurable]]"]&&"[[Value]]"in n,m=t in e&&(!("[[Configurable]]"in n)||n["[[Configurable]]"])&&(!("[[Enumerable]]"in n)||n["[[Enumerable]]"])&&(!("[[Writable]]"in n)||n["[[Writable]]"])&&"[[Value]]"in n;if(p||m)return e[t]=n["[[Value]]"],d(e[t],n["[[Value]]"]);throw new i("This environment does not support defining non-writable, non-enumerable, or non-configurable properties")}var g=r(e,t),y=g&&h(g),_=c(e);return f(e,t,_,n,y)}},20900:(e,t,n)=>{"use strict";var r=n(17445),i=n(11952),o=n(93941);e.exports=function(e){if(!i(e))throw new r("Assertion failed: O must be an Object");if(!o)throw new r("This environment does not support fetching prototypes.");return o(e)}},46490:(e,t,n)=>{"use strict";var r=n(2749)("%Object.create%",!0),i=n(17445),o=n(31209),s=n(11952),a=n(4998),l=n(22075),c=n(81819),u=n(37477)();e.exports=function(e){if(null!==e&&!s(e))throw new i("Assertion failed: `proto` must be null or an object");var t,n=arguments.length<2?[]:arguments[1];if(!a(n))throw new i("Assertion failed: `additionalInternalSlotsList` must be an Array");if(u)t={__proto__:e};else if(r)t=r(e);else{if(null===e)throw new o("native Object.create support is required to create null objects");var h=function(){};h.prototype=e,t=new h}return n.length>0&&l(n,function(e){c.set(t,e,void 0)}),t}},63491:(e,t,n)=>{"use strict";var r=n(17445),i=n(31671),o=n(11952),s=n(20900);e.exports=function(e,t){if(null!==t&&!o(t))throw new r("Assertion failed: V must be Object or Null");try{i(e,t)}catch(e){return!1}return s(e)===t}},25385:(e,t,n)=>{"use strict";var r=n(2749),i=n(45776),o=n(31209),s=r("%Promise.resolve%",!0),a=s&&i(s);e.exports=function(e,t){if(!a)throw new o("This environment does not support Promises.");return a(e,t)}},28350:(e,t,n)=>{"use strict";var r=n(61781);e.exports=function(e,t){return e===t?0!==e||1/e==1/t:r(e)&&r(t)}},13218:e=>{"use strict";e.exports=function(e){return!!e}},16351:(e,t,n)=>{"use strict";var r=n(64995),i=n(17445),o=n(11952),s=n(21373),a=n(13218);e.exports=function(e){if(!o(e))throw new i("ToPropertyDescriptor requires an object");var t={};if(r(e,"enumerable")&&(t["[[Enumerable]]"]=a(e.enumerable)),r(e,"configurable")&&(t["[[Configurable]]"]=a(e.configurable)),r(e,"value")&&(t["[[Value]]"]=e.value),r(e,"writable")&&(t["[[Writable]]"]=a(e.writable)),r(e,"get")){var n=e.get;if(void 0!==n&&!s(n))throw new i("getter must be a function");t["[[Get]]"]=n}if(r(e,"set")){var l=e.set;if(void 0!==l&&!s(l))throw new i("setter must be a function");t["[[Set]]"]=l}if((r(t,"[[Get]]")||r(t,"[[Set]]"))&&(r(t,"[[Value]]")||r(t,"[[Writable]]")))throw new i("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}},73246:(e,t,n)=>{"use strict";var r=n(2749),i=n(17445),o=r("%String.fromCharCode%"),s=n(34688),a=n(74921);e.exports=function(e,t){if(!s(e)||!a(t))throw new i("Assertion failed: `lead` must be a leading surrogate char code, and `trail` must be a trailing surrogate char code");return o(e)+o(t)}},14706:(e,t,n)=>{"use strict";var r=n(17445),i=n(11952),o=n(26738),s=n(45326),a=n(9268),l=n(82661),c=n(47174),u=n(73833),h=n(13833),d=n(51757),f=n(28350);e.exports=function(e,t,n,p,m){if(void 0!==e&&!i(e))throw new r("Assertion failed: O must be undefined or an Object");if(!d(t))throw new r("Assertion failed: P must be a Property Key");if("boolean"!=typeof n)throw new r("Assertion failed: extensible must be a Boolean");if(!a(p))throw new r("Assertion failed: Desc must be a Property Descriptor");if(void 0!==m&&!a(m))throw new r("Assertion failed: current must be a Property Descriptor, or undefined");if(void 0===m)return!!n&&(void 0===e||(c(p)?o(u,f,l,e,t,p):o(u,f,l,e,t,{"[[Configurable]]":!!p["[[Configurable]]"],"[[Enumerable]]":!!p["[[Enumerable]]"],"[[Value]]":p["[[Value]]"],"[[Writable]]":!!p["[[Writable]]"]})));if(!s({IsAccessorDescriptor:c,IsDataDescriptor:u},m))throw new r("`current`, when present, must be a fully populated and valid Property Descriptor");if(!m["[[Configurable]]"]){if("[[Configurable]]"in p&&p["[[Configurable]]"]||"[[Enumerable]]"in p&&!f(p["[[Enumerable]]"],m["[[Enumerable]]"])||!h(p)&&!f(c(p),c(m)))return!1;if(c(m)){if("[[Get]]"in p&&!f(p["[[Get]]"],m["[[Get]]"])||"[[Set]]"in p&&!f(p["[[Set]]"],m["[[Set]]"]))return!1}else if(!m["[[Writable]]"]&&("[[Writable]]"in p&&p["[[Writable]]"]||"[[Value]]"in p&&!f(p["[[Value]]"],m["[[Value]]"])))return!1}if(void 0!==e){var g;return u(m)&&c(p)?o(u,f,l,e,t,{"[[Configurable]]":!!("[[Configurable]]"in p?p:m)["[[Configurable]]"],"[[Enumerable]]":!!("[[Enumerable]]"in p?p:m)["[[Enumerable]]"],"[[Get]]":("[[Get]]"in p?p:m)["[[Get]]"],"[[Set]]":("[[Set]]"in p?p:m)["[[Set]]"]}):c(m)&&u(p)?o(u,f,l,e,t,{"[[Configurable]]":!!("[[Configurable]]"in p?p:m)["[[Configurable]]"],"[[Enumerable]]":!!("[[Enumerable]]"in p?p:m)["[[Enumerable]]"],"[[Value]]":("[[Value]]"in p?p:m)["[[Value]]"],"[[Writable]]":!!("[[Writable]]"in p?p:m)["[[Writable]]"]}):o(u,f,l,e,t,p)}return!0}},26738:(e,t,n)=>{"use strict";var r=n(25995),i=n(70091),o=r.hasArrayLengthDefineBug(),s=o&&n(73295),a=n(98363)("Object.prototype.propertyIsEnumerable");e.exports=function(e,t,n,r,l,c){if(!i){if(!e(c)||!c["[[Configurable]]"]||!c["[[Writable]]"]||l in r&&a(r,l)!==!!c["[[Enumerable]]"])return!1;var u=c["[[Value]]"];return r[l]=u,t(r[l],u)}return o&&"length"===l&&"[[Value]]"in c&&s(r)&&r.length!==c["[[Value]]"]?(r.length=c["[[Value]]"],r.length===c["[[Value]]"]):(i(r,l,n(c)),!0)}},73295:(e,t,n)=>{"use strict";var r=n(2749)("%Array%"),i=!r.isArray&&n(98363)("Object.prototype.toString");e.exports=r.isArray||function(e){return"[object Array]"===i(e)}},22075:e=>{"use strict";e.exports=function(e,t){for(var n=0;n<e.length;n+=1)t(e[n],n,e)}},28342:e=>{"use strict";e.exports=function(e){if(void 0===e)return e;var t={};return"[[Value]]"in e&&(t.value=e["[[Value]]"]),"[[Writable]]"in e&&(t.writable=!!e["[[Writable]]"]),"[[Get]]"in e&&(t.get=e["[[Get]]"]),"[[Set]]"in e&&(t.set=e["[[Set]]"]),"[[Enumerable]]"in e&&(t.enumerable=!!e["[[Enumerable]]"]),"[[Configurable]]"in e&&(t.configurable=!!e["[[Configurable]]"]),t}},28765:(e,t,n)=>{"use strict";var r=n(91976)(),i=n(2749),o=n(98363),s=n(25257),a=i("%Symbol.iterator%",!0),l=o("String.prototype.slice"),c=i("%String%"),u=n(73295);e.exports=function(e,t){var n;return r?n=e.GetMethod(t,a):u(t)?n=function(){var e=-1,t=this;return{next:function(){return{done:(e+=1)>=t.length,value:t[e]}}}}:s(t)&&(n=function(){var n=0;return{next:function(){var r=e.AdvanceStringIndex(c(t),n,!0),i=l(t,n,r);n=r;var o=r>t.length;return{done:o,value:o?void 0:i}}}}),n}},45326:(e,t,n)=>{"use strict";var r=n(9268);e.exports=function(e,t){return r(t)&&"[[Enumerable]]"in t&&"[[Configurable]]"in t&&(e.IsAccessorDescriptor(t)||e.IsDataDescriptor(t))}},34688:e=>{"use strict";e.exports=function(e){return"number"==typeof e&&e>=55296&&e<=56319}},31631:e=>{"use strict";e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},51757:e=>{"use strict";e.exports=function(e){return"string"==typeof e||"symbol"==typeof e}},74921:e=>{"use strict";e.exports=function(e){return"number"==typeof e&&e>=56320&&e<=57343}},78375:(e,t,n)=>{"use strict";var r=n(64995);e.exports=function(e){return!!e&&"object"==typeof e&&r(e,"[[Iterator]]")&&r(e,"[[NextMethod]]")&&r(e,"[[Done]]")&&"boolean"==typeof e["[[Done]]"]}},9268:(e,t,n)=>{"use strict";var r=n(17445),i=n(64995),o={__proto__:null,"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};e.exports=function(e){if(!e||"object"!=typeof e)return!1;for(var t in e)if(i(e,t)&&!o[t])return!1;var n=i(e,"[[Value]]")||i(e,"[[Writable]]"),s=i(e,"[[Get]]")||i(e,"[[Set]]");if(n&&s)throw new r("Property Descriptors may not be both accessor and data descriptors");return!0}},33049:(e,t,n)=>{e.exports=n(34877)},39547:(e,t,n)=>{"use strict";let{EventEmitter:r}=n(15673),i=n(19092)("mssql:base"),{parseSqlConnectionString:o}=n(77434),s=n(95558),{IDS:a}=n(44800),l=n(72670),c=n(23781),u=n(19385),{MSSQLError:h}=n(33014);class d extends r{constructor(e,t){if(super(),a.add(this,"ConnectionPool"),i("pool(%d): created",a.get(this)),this._connectStack=[],this._closeStack=[],this._connected=!1,this._connecting=!1,this._healthy=!1,"string"==typeof e)try{this.config=this.constructor.parseConnectionString(e)}catch(e){if("function"==typeof t)return setImmediate(t,e);throw e}else this.config=u(e);this.config.port=this.config.port||1433,this.config.options=this.config.options||{},this.config.stream=this.config.stream||!1,this.config.parseJSON=this.config.parseJSON||!1,this.config.arrayRowMode=this.config.arrayRowMode||!1,this.config.validateConnection=!("validateConnection"in this.config)||this.config.validateConnection;let n=/^(.*)\\(.*)$/.exec(this.config.server);if(n&&(this.config.server=n[1],this.config.options.instanceName=n[2]),void 0!==this.config.options.useColumnNames&&!0!==this.config.options.useColumnNames){let e=new h("Invalid options `useColumnNames`, use `arrayRowMode` instead");if("function"==typeof t)return setImmediate(t,e);throw e}"function"==typeof t&&this.connect(t)}get connected(){return this._connected}get connecting(){return this._connecting}get healthy(){return this._healthy}static parseConnectionString(e){return this._parseConnectionString(e)}static _parseAuthenticationType(e,t){switch(e.toLowerCase()){case"active directory integrated":if(t.includes("token"))return"azure-active-directory-access-token";if(["client id","client secret","tenant id"].every(e=>t.includes(e)))return"azure-active-directory-service-principal-secret";if(["client id","msi endpoint","msi secret"].every(e=>t.includes(e)))return"azure-active-directory-msi-app-service";if(["client id","msi endpoint"].every(e=>t.includes(e)))return"azure-active-directory-msi-vm";return"azure-active-directory-default";case"active directory password":return"azure-active-directory-password";case"ntlm":return"ntlm";default:return"default"}}static _parseConnectionString(e){let t=o(e,!0,!0);return Object.entries(t).reduce((e,[n,r])=>{switch(n){case"application name":case"asynchronous processing":case"attachdbfilename":case"column encryption setting":case"connection lifetime":case"connectretrycount":case"context connection":case"enlist":case"failover partner":case"integrated security":case"multipleactiveresultsets":case"network library":case"persist security info":case"poolblockingperiod":case"pooling":case"replication":case"transparentnetworkipresolution":case"type system version":case"user instance":break;case"applicationintent":Object.assign(e.options,{readOnlyIntent:"readonly"===r});break;case"authentication":Object.assign(e,{authentication_type:this._parseAuthenticationType(r,Object.keys(t))});break;case"connection timeout":Object.assign(e,{connectionTimeout:1e3*r});break;case"connectretryinterval":Object.assign(e.options,{connectionRetryInterval:1e3*r});break;case"client id":Object.assign(e,{clientId:r});break;case"client secret":Object.assign(e,{clientSecret:r});break;case"current language":Object.assign(e.options,{language:r});break;case"data source":{let t,n=r,i=1433;if(/^np:/i.test(n))throw Error("Connection via Named Pipes is not supported.");/^tcp:/i.test(n)&&(n=n.substr(4));let o=/^(.*)\\(.*)$/.exec(n);o&&(n=o[1].trim(),t=o[2].trim());let s=/^(.*),(.*)$/.exec(n);if(s)n=s[1].trim(),i=parseInt(s[2].trim(),10);else{let e=/^(.*),(.*)$/.exec(t);e&&(t=e[1].trim(),i=parseInt(e[2].trim(),10))}("."===n||"(.)"===n||"(localdb)"===n.toLowerCase()||"(local)"===n.toLowerCase())&&(n="localhost"),Object.assign(e,{port:i,server:n}),t&&Object.assign(e.options,{instanceName:t});break}case"encrypt":Object.assign(e.options,{encrypt:!!r});break;case"initial catalog":Object.assign(e,{database:r});break;case"max pool size":Object.assign(e.pool,{max:r});break;case"min pool size":Object.assign(e.pool,{min:r});break;case"msi endpoint":Object.assign(e,{msiEndpoint:r});break;case"msi secret":Object.assign(e,{msiSecret:r});break;case"multisubnetfailover":Object.assign(e.options,{multiSubnetFailover:r});break;case"packet size":Object.assign(e.options,{packetSize:r});break;case"password":Object.assign(e,{password:r});break;case"tenant id":Object.assign(e,{tenantId:r});break;case"token":Object.assign(e,{token:r});break;case"transaction binding":Object.assign(e.options,{enableImplicitTransactions:"implicit unbind"===r.toLowerCase()});break;case"trustservercertificate":Object.assign(e.options,{trustServerCertificate:r});break;case"user id":{let t,n=r,i=/^(.*)\\(.*)$/.exec(n);i&&(t=i[1],n=i[2]),t&&Object.assign(e,{domain:t}),n&&Object.assign(e,{user:n});break}case"workstation id":Object.assign(e.options,{workstationId:r});break;case"request timeout":Object.assign(e,{requestTimeout:parseInt(r,10)});break;case"stream":Object.assign(e,{stream:!!r});break;case"useutc":Object.assign(e.options,{useUTC:!!r});break;case"parsejson":Object.assign(e,{parseJSON:!!r})}return e},{options:{},pool:{}})}acquire(e,t){let n=c.Promise.resolve(this._acquire()).catch(e=>{throw this.emit("error",e),e});return"function"==typeof t?(n.then(e=>t(null,e,this.config)).catch(t),this):n}_acquire(){return this.pool?this.pool.destroyed?c.Promise.reject(new l("Connection is closing","ENOTOPEN")):this.pool.acquire().promise:c.Promise.reject(new l("Connection not yet open.","ENOTOPEN"))}release(e){return i("connection(%d): released",a.get(e)),this.pool&&this.pool.release(e),this}connect(e){return"function"==typeof e?(this._connect(e),this):new c.Promise((e,t)=>this._connect(n=>{if(n)return t(n);e(this)}))}_connect(e){if(this._connected)return i("pool(%d): already connected, executing connect callback immediately",a.get(this)),setImmediate(e,null,this);this._connectStack.push(e),this._connecting||(this._connecting=!0,i("pool(%d): connecting",a.get(this)),this._poolCreate().then(e=>(i("pool(%d): connected",a.get(this)),this._healthy=!0,this._poolDestroy(e).then(()=>{this.pool=new s.Pool(Object.assign({create:()=>this._poolCreate().then(e=>(this._healthy=!0,e)).catch(e=>{throw this.pool.numUsed()+this.pool.numFree()<=0&&(this._healthy=!1),e}),validate:this._poolValidate.bind(this),destroy:this._poolDestroy.bind(this),max:10,min:0,idleTimeoutMillis:3e4,propagateCreateError:!0},this.config.pool)),this._connecting=!1,this._connected=!0}))).then(()=>{this._connectStack.forEach(e=>{setImmediate(e,null,this)})}).catch(e=>{this._connecting=!1,this._connectStack.forEach(t=>{setImmediate(t,e)})}).then(()=>{this._connectStack=[]}))}get size(){return this.pool.numFree()+this.pool.numUsed()+this.pool.numPendingCreates()}get available(){return this.pool.numFree()}get pending(){return this.pool.numPendingAcquires()}get borrowed(){return this.pool.numUsed()}close(e){return"function"==typeof e?(this._close(e),this):new c.Promise((e,t)=>{this._close(n=>{if(n)return t(n);e(this)})})}_close(e){if(this._connecting&&(i("pool(%d): close called while connecting",a.get(this)),setImmediate(e,new l("Cannot close a pool while it is connecting"))),!this.pool)return i("pool(%d): already closed, executing close callback immediately",a.get(this)),setImmediate(e,null);this._closeStack.push(e),this.pool.destroyed||(this._connecting=this._connected=this._healthy=!1,this.pool.destroy().then(()=>{i("pool(%d): pool closed, removing pool reference and executing close callbacks",a.get(this)),this.pool=null,this._closeStack.forEach(e=>{setImmediate(e,null)})}).catch(e=>{this.pool=null,this._closeStack.forEach(t=>{setImmediate(t,e)})}).then(()=>{this._closeStack=[]}))}request(){return new c.driver.Request(this)}transaction(){return new c.driver.Transaction(this)}query(){if("string"==typeof arguments[0])return new c.driver.Request(this).query(arguments[0],arguments[1]);let e=Array.prototype.slice.call(arguments),t=e.shift();return new c.driver.Request(this)._template(t,e,"query")}batch(){if("string"==typeof arguments[0])return new c.driver.Request(this).batch(arguments[0],arguments[1]);let e=Array.prototype.slice.call(arguments),t=e.shift();return new c.driver.Request(this)._template(t,e,"batch")}}e.exports=d},57043:(e,t,n)=>{"use strict";let r=n(39547),i=n(19705),o=n(94422),s=n(44211),{ConnectionError:a,TransactionError:l,RequestError:c,PreparedStatementError:u,MSSQLError:h}=n(33014),d=n(23781),f=n(13602),p=n(11839),{TYPES:m}=n(74173),{connect:g,close:y,on:_,off:E,removeListener:T,query:w,batch:b}=n(3873);for(let t in e.exports={ConnectionPool:r,Transaction:s,Request:o,PreparedStatement:i,ConnectionError:a,TransactionError:l,RequestError:c,PreparedStatementError:u,MSSQLError:h,driver:d.driver,exports:{ConnectionError:a,TransactionError:l,RequestError:c,PreparedStatementError:u,MSSQLError:h,Table:f,ISOLATION_LEVEL:p,TYPES:m,MAX:65535,map:d.map,getTypeByValue:d.getTypeByValue,connect:g,close:y,on:_,removeListener:T,off:E,query:w,batch:b}},Object.defineProperty(e.exports,"Promise",{enumerable:!0,get:()=>d.Promise,set:e=>{d.Promise=e}}),Object.defineProperty(e.exports,"valueHandler",{enumerable:!0,value:d.valueHandler,writable:!1,configurable:!1}),m){let n=m[t];e.exports.exports[t]=n,e.exports.exports[t.toUpperCase()]=n}},19705:(e,t,n)=>{"use strict";let r=n(19092)("mssql:base"),{EventEmitter:i}=n(15673),{IDS:o,objectHasProperty:s}=n(44800),a=n(3873),{TransactionError:l,PreparedStatementError:c}=n(33014),u=n(23781),{TYPES:h,declare:d}=n(74173);class f extends i{constructor(e){super(),o.add(this,"PreparedStatement"),r("ps(%d): created",o.get(this)),this.parent=e||a.pool,this._handle=0,this.prepared=!1,this.parameters={}}get config(){return this.parent.config}get connected(){return this.parent.connected}acquire(e,t){return this._acquiredConnection?this._activeRequest?setImmediate(t,new l("Can't acquire connection for the request. There is another request in progress.","EREQINPROG")):(this._activeRequest=e,setImmediate(t,null,this._acquiredConnection,this._acquiredConfig)):setImmediate(t,new c("Statement is not prepared. Call prepare() first.","ENOTPREPARED")),this}release(e){return e===this._acquiredConnection&&(this._activeRequest=null),this}input(e,t){if(/--| |\/\*|\*\/|'/.test(e))throw new c(`SQL injection warning for param '${e}'`,"EINJECT");if(arguments.length<2)throw new c("Invalid number of arguments. 2 arguments expected.","EARGS");if(t instanceof Function&&(t=t()),s(this.parameters,e))throw new c(`The parameter name ${e} has already been declared. Parameter names must be unique`,"EDUPEPARAM");return this.parameters[e]={name:e,type:t.type,io:1,length:t.length,scale:t.scale,precision:t.precision,tvpType:t.tvpType},this}replaceInput(e,t,n){return delete this.parameters[e],this.input(e,t,n)}output(e,t){if(/--| |\/\*|\*\/|'/.test(e))throw new c(`SQL injection warning for param '${e}'`,"EINJECT");if(arguments.length<2)throw new c("Invalid number of arguments. 2 arguments expected.","EARGS");if(t instanceof Function&&(t=t()),s(this.parameters,e))throw new c(`The parameter name ${e} has already been declared. Parameter names must be unique`,"EDUPEPARAM");return this.parameters[e]={name:e,type:t.type,io:2,length:t.length,scale:t.scale,precision:t.precision},this}replaceOutput(e,t){return delete this.parameters[e],this.output(e,t)}prepare(e,t){return"function"==typeof t?(this._prepare(e,t),this):new u.Promise((t,n)=>{this._prepare(e,e=>{if(e)return n(e);t(this)})})}_prepare(e,t){if(r("ps(%d): prepare",o.get(this)),"function"==typeof e&&(t=e,e=void 0),this.prepared)return setImmediate(t,new c("Statement is already prepared.","EALREADYPREPARED"));this.statement=e||this.statement,this.parent.acquire(this,(e,n,i)=>{if(e)return t(e);this._acquiredConnection=n,this._acquiredConfig=i;let a=new u.driver.Request(this);a.stream=!1,a.output("handle",h.Int),a.input("params",h.NVarChar,(()=>{let e=[];for(let t in this.parameters){if(!s(this.parameters,t))continue;let n=this.parameters[t];e.push(`@${t} ${d(n.type,n)}${2===n.io?" output":""}`)}return e})().join(",")),a.input("stmt",h.NVarChar,this.statement),a.execute("sp_prepare",(e,n)=>{if(e)return this.parent.release(this._acquiredConnection),this._acquiredConnection=null,this._acquiredConfig=null,t(e);r("ps(%d): prepared",o.get(this)),this._handle=n.output.handle,this.prepared=!0,t(null)})})}execute(e,t){return this.stream||"function"==typeof t?this._execute(e,t):new u.Promise((t,n)=>{this._execute(e,(e,r)=>{if(e)return n(e);t(r)})})}_execute(e,t){let n=new u.driver.Request(this);for(let t in n.stream=this.stream,n.arrayRowMode=this.arrayRowMode,n.input("handle",h.Int,this._handle),this.parameters){if(!s(this.parameters,t))continue;let r=this.parameters[t];n.parameters[t]={name:t,type:r.type,io:r.io,value:e[t],length:r.length,scale:r.scale,precision:r.precision}}return n.execute("sp_execute",(e,n)=>{if(e)return t(e);t(null,n)}),n}unprepare(e){return"function"==typeof e?(this._unprepare(e),this):new u.Promise((e,t)=>{this._unprepare(n=>{if(n)return t(n);e()})})}_unprepare(e){if(r("ps(%d): unprepare",o.get(this)),!this.prepared)return setImmediate(e,new c("Statement is not prepared. Call prepare() first.","ENOTPREPARED"));if(this._activeRequest)return setImmediate(e,new l("Can't unprepare the statement. There is a request in progress.","EREQINPROG"));let t=new u.driver.Request(this);t.stream=!1,t.input("handle",h.Int,this._handle),t.execute("sp_unprepare",t=>t?e(t):(this.parent.release(this._acquiredConnection),this._acquiredConnection=null,this._acquiredConfig=null,this._handle=0,this.prepared=!1,r("ps(%d): unprepared",o.get(this)),e(null)))}}e.exports=f},94422:(e,t,n)=>{"use strict";let r=n(19092)("mssql:base"),{EventEmitter:i}=n(15673),{Readable:o}=n(84492),{IDS:s,objectHasProperty:a}=n(44800),l=n(3873),{RequestError:c,ConnectionError:u}=n(33014),{TYPES:h}=n(74173),d=n(23781);class f extends i{constructor(e){super(),s.add(this,"Request"),r("request(%d): created",s.get(this)),this.canceled=!1,this._paused=!1,this.parent=e||l.pool,this.parameters={},this.stream=null,this.arrayRowMode=null}get paused(){return this._paused}template(){let e=Array.prototype.slice.call(arguments),t=e.shift();return this._template(t,e)}_template(e,t,n){let r=[e[0]];for(let n=0;n<t.length;n++){let i=t[n];if(Array.isArray(i)){for(let e=0;e<i.length;e++)this.input(`param${n+1}_${e}`,i[e]),r.push(`@param${n+1}_${e}`),e<i.length-1&&r.push(", ");r.push(e[n+1])}else this.input(`param${n+1}`,i),r.push(`@param${n+1}`,e[n+1])}return n?this[n](r.join("")):r.join("")}input(e,t,n){if(/--| |\/\*|\*\/|'/.test(e))throw new c(`SQL injection warning for param '${e}'`,"EINJECT");if(arguments.length<2)throw new c("Invalid number of arguments. At least 2 arguments expected.","EARGS");if(2==arguments.length&&(n=t,t=d.getTypeByValue(n)),!n||"function"!=typeof n.valueOf||n instanceof Date||(n=n.valueOf()),void 0===n&&(n=null),"number"==typeof n&&isNaN(n)&&(n=null),t instanceof Function&&(t=t()),a(this.parameters,e))throw new c(`The parameter name ${e} has already been declared. Parameter names must be unique`,"EDUPEPARAM");return this.parameters[e]={name:e,type:t.type,io:1,value:n,length:t.length,scale:t.scale,precision:t.precision,tvpType:t.tvpType},this}replaceInput(e,t,n){return delete this.parameters[e],this.input(e,t,n)}output(e,t,n){if(t||(t=h.NVarChar),/--| |\/\*|\*\/|'/.test(e))throw new c(`SQL injection warning for param '${e}'`,"EINJECT");if(t===h.Text||t===h.NText||t===h.Image)throw new c("Deprecated types (Text, NText, Image) are not supported as OUTPUT parameters.","EDEPRECATED");if(!n||"function"!=typeof n.valueOf||n instanceof Date||(n=n.valueOf()),void 0===n&&(n=null),"number"==typeof n&&isNaN(n)&&(n=null),t instanceof Function&&(t=t()),a(this.parameters,e))throw new c(`The parameter name ${e} has already been declared. Parameter names must be unique`,"EDUPEPARAM");return this.parameters[e]={name:e,type:t.type,io:2,value:n,length:t.length,scale:t.scale,precision:t.precision},this}replaceOutput(e,t,n){return delete this.parameters[e],this.output(e,t,n)}batch(e,t){if(null===this.stream&&this.parent&&(this.stream=this.parent.config.stream),null===this.arrayRowMode&&this.parent&&(this.arrayRowMode=this.parent.config.arrayRowMode),this.rowsAffected=0,"function"==typeof t)return this._batch(e,(e,n,r,i)=>{if(this.stream&&(e&&this.emit("error",e),e=null,this.emit("done",{output:r,rowsAffected:i})),e)return t(e);t(null,{recordsets:n,recordset:n&&n[0],output:r,rowsAffected:i})}),this;if("object"==typeof e){let t=Array.prototype.slice.call(arguments),n=t.shift();e=this._template(n,t)}return new d.Promise((t,n)=>{this._batch(e,(e,r,i,o)=>{if(this.stream&&(e&&this.emit("error",e),e=null,this.emit("done",{output:i,rowsAffected:o})),e)return n(e);t({recordsets:r,recordset:r&&r[0],output:i,rowsAffected:o})})})}_batch(e,t){return this.parent?this.parent.connected?void(this.canceled=!1,setImmediate(t)):setImmediate(t,new u("Connection is closed.","ECONNCLOSED")):setImmediate(t,new c("No connection is specified for that request.","ENOCONN"))}bulk(e,t,n){return("function"==typeof t?(n=t,t={}):void 0===t&&(t={}),null===this.stream&&this.parent&&(this.stream=this.parent.config.stream),null===this.arrayRowMode&&this.parent&&(this.arrayRowMode=this.parent.config.arrayRowMode),this.stream||"function"==typeof n)?(this._bulk(e,t,(e,t)=>this.stream?(e&&this.emit("error",e),this.emit("done",{rowsAffected:t})):e?n(e):void n(null,{rowsAffected:t})),this):new d.Promise((n,r)=>{this._bulk(e,t,(e,t)=>{if(e)return r(e);n({rowsAffected:t})})})}_bulk(e,t,n){return this.parent?this.parent.connected?void(this.canceled=!1,setImmediate(n)):setImmediate(n,new u("Connection is closed.","ECONNCLOSED")):setImmediate(n,new c("No connection is specified for that request.","ENOCONN"))}toReadableStream(e={}){this.stream=!0,this.pause();let t=new o({...e,objectMode:!0,read:()=>{this.resume()}});return this.on("row",e=>{t.push(e)||this.pause()}),this.on("error",e=>{t.emit("error",e)}),this.on("done",()=>{t.push(null)}),t}pipe(e){return this.toReadableStream().pipe(e)}query(e,t){if(null===this.stream&&this.parent&&(this.stream=this.parent.config.stream),null===this.arrayRowMode&&this.parent&&(this.arrayRowMode=this.parent.config.arrayRowMode),this.rowsAffected=0,"function"==typeof t)return this._query(e,(e,n,r,i,o)=>{if(this.stream&&(e&&this.emit("error",e),e=null,this.emit("done",{output:r,rowsAffected:i})),e)return t(e);let s={recordsets:n,recordset:n&&n[0],output:r,rowsAffected:i};this.arrayRowMode&&(s.columns=o),t(null,s)}),this;if("object"==typeof e){let t=Array.prototype.slice.call(arguments),n=t.shift();e=this._template(n,t)}return new d.Promise((t,n)=>{this._query(e,(e,r,i,o,s)=>{if(this.stream&&(e&&this.emit("error",e),e=null,this.emit("done",{output:i,rowsAffected:o})),e)return n(e);let a={recordsets:r,recordset:r&&r[0],output:i,rowsAffected:o};this.arrayRowMode&&(a.columns=s),t(a)})})}_query(e,t){return this.parent?this.parent.connected?void(this.canceled=!1,setImmediate(t)):setImmediate(t,new u("Connection is closed.","ECONNCLOSED")):setImmediate(t,new c("No connection is specified for that request.","ENOCONN"))}execute(e,t){return(null===this.stream&&this.parent&&(this.stream=this.parent.config.stream),null===this.arrayRowMode&&this.parent&&(this.arrayRowMode=this.parent.config.arrayRowMode),this.rowsAffected=0,"function"==typeof t)?(this._execute(e,(e,n,r,i,o,s)=>{if(this.stream&&(e&&this.emit("error",e),e=null,this.emit("done",{output:r,rowsAffected:o,returnValue:i})),e)return t(e);let a={recordsets:n,recordset:n&&n[0],output:r,rowsAffected:o,returnValue:i};this.arrayRowMode&&(a.columns=s),t(null,a)}),this):new d.Promise((t,n)=>{this._execute(e,(e,r,i,o,s,a)=>{if(this.stream&&(e&&this.emit("error",e),e=null,this.emit("done",{output:i,rowsAffected:s,returnValue:o})),e)return n(e);let l={recordsets:r,recordset:r&&r[0],output:i,rowsAffected:s,returnValue:o};this.arrayRowMode&&(l.columns=a),t(l)})})}_execute(e,t){return this.parent?this.parent.connected?void(this.canceled=!1,setImmediate(t)):setImmediate(t,new u("Connection is closed.","ECONNCLOSED")):setImmediate(t,new c("No connection is specified for that request.","ENOCONN"))}cancel(){return this._cancel(),!0}_cancel(){this.canceled=!0}pause(){return!!this.stream&&(this._pause(),!0)}_pause(){this._paused=!0}resume(){return!!this.stream&&(this._resume(),!0)}_resume(){this._paused=!1}_setCurrentRequest(e){return this._currentRequest=e,this._paused&&this.pause(),this}}e.exports=f},44211:(e,t,n)=>{"use strict";let r=n(19092)("mssql:base"),{EventEmitter:i}=n(15673),{IDS:o}=n(44800),s=n(3873),{TransactionError:a}=n(33014),l=n(23781),c=n(11839);class u extends i{constructor(e){super(),o.add(this,"Transaction"),r("transaction(%d): created",o.get(this)),this.parent=e||s.pool,this.isolationLevel=u.defaultIsolationLevel,this.name=""}get config(){return this.parent.config}get connected(){return this.parent.connected}acquire(e,t){return this._acquiredConnection?this._activeRequest?setImmediate(t,new a("Can't acquire connection for the request. There is another request in progress.","EREQINPROG")):(this._activeRequest=e,setImmediate(t,null,this._acquiredConnection,this._acquiredConfig)):setImmediate(t,new a("Transaction has not begun. Call begin() first.","ENOTBEGUN")),this}release(e){return e===this._acquiredConnection&&(this._activeRequest=null),this}begin(e,t){return(e instanceof Function&&(t=e,e=void 0),"function"==typeof t)?(this._begin(e,e=>{e||this.emit("begin"),t(e)}),this):new l.Promise((t,n)=>{this._begin(e,e=>{if(e)return n(e);this.emit("begin"),t(this)})})}_begin(e,t){if(this._acquiredConnection)return setImmediate(t,new a("Transaction has already begun.","EALREADYBEGUN"));if(this._aborted=!1,this._rollbackRequested=!1,e){if(Object.keys(c).some(t=>c[t]===e))this.isolationLevel=e;else throw new a("Invalid isolation level.")}setImmediate(t)}commit(e){return"function"==typeof e?(this._commit(t=>{t||this.emit("commit"),e(t)}),this):new l.Promise((e,t)=>{this._commit(n=>{if(n)return t(n);this.emit("commit"),e()})})}_commit(e){return this._aborted?setImmediate(e,new a("Transaction has been aborted.","EABORT")):this._acquiredConnection?this._activeRequest?setImmediate(e,new a("Can't commit transaction. There is a request in progress.","EREQINPROG")):void setImmediate(e):setImmediate(e,new a("Transaction has not begun. Call begin() first.","ENOTBEGUN"))}request(){return new l.driver.Request(this)}rollback(e){return"function"==typeof e?(this._rollback(t=>{t||this.emit("rollback",this._aborted),e(t)}),this):new l.Promise((e,t)=>this._rollback(n=>{if(n)return t(n);this.emit("rollback",this._aborted),e()}))}_rollback(e){return this._aborted?setImmediate(e,new a("Transaction has been aborted.","EABORT")):this._acquiredConnection?this._activeRequest?setImmediate(e,new a("Can't rollback transaction. There is a request in progress.","EREQINPROG")):void(this._rollbackRequested=!0,setImmediate(e)):setImmediate(e,new a("Transaction has not begun. Call begin() first.","ENOTBEGUN"))}}u.defaultIsolationLevel=c.READ_COMMITTED,e.exports=u},74173:(e,t,n)=>{"use strict";let r=n(44800).objectHasProperty,i=Symbol.for("nodejs.util.inspect.custom"),o={VarChar:e=>({type:o.VarChar,length:e}),NVarChar:e=>({type:o.NVarChar,length:e}),Text:()=>({type:o.Text}),Int:()=>({type:o.Int}),BigInt:()=>({type:o.BigInt}),TinyInt:()=>({type:o.TinyInt}),SmallInt:()=>({type:o.SmallInt}),Bit:()=>({type:o.Bit}),Float:()=>({type:o.Float}),Numeric:(e,t)=>({type:o.Numeric,precision:e,scale:t}),Decimal:(e,t)=>({type:o.Decimal,precision:e,scale:t}),Real:()=>({type:o.Real}),Date:()=>({type:o.Date}),DateTime:()=>({type:o.DateTime}),DateTime2:e=>({type:o.DateTime2,scale:e}),DateTimeOffset:e=>({type:o.DateTimeOffset,scale:e}),SmallDateTime:()=>({type:o.SmallDateTime}),Time:e=>({type:o.Time,scale:e}),UniqueIdentifier:()=>({type:o.UniqueIdentifier}),SmallMoney:()=>({type:o.SmallMoney}),Money:()=>({type:o.Money}),Binary:e=>({type:o.Binary,length:e}),VarBinary:e=>({type:o.VarBinary,length:e}),Image:()=>({type:o.Image}),Xml:()=>({type:o.Xml}),Char:e=>({type:o.Char,length:e}),NChar:e=>({type:o.NChar,length:e}),NText:()=>({type:o.NText}),TVP:e=>({type:o.TVP,tvpType:e}),UDT:()=>({type:o.UDT}),Geography:()=>({type:o.Geography}),Geometry:()=>({type:o.Geometry}),Variant:()=>({type:o.Variant})};e.exports.TYPES=o,e.exports.DECLARATIONS={};let s=function(e,t){if(null==t&&(t=2),(e=String(e)).length<t)for(let n=1;n<=t-e.length;n++)e=`0${e}`;return e};for(let t in o)if(r(o,t)){let n=o[t];n.declaration=t.toLowerCase(),e.exports.DECLARATIONS[n.declaration]=n,((e,t)=>{t[i]=()=>`[sql.${e}]`})(t,n)}e.exports.declare=(e,t)=>{switch(e){case o.VarChar:case o.VarBinary:return`${e.declaration} (${t.length>8e3?"MAX":null==t.length?"MAX":t.length})`;case o.NVarChar:return`${e.declaration} (${t.length>4e3?"MAX":null==t.length?"MAX":t.length})`;case o.Char:case o.NChar:case o.Binary:return`${e.declaration} (${null==t.length?1:t.length})`;case o.Decimal:case o.Numeric:return`${e.declaration} (${null==t.precision?18:t.precision}, ${null==t.scale?0:t.scale})`;case o.Time:case o.DateTime2:case o.DateTimeOffset:return`${e.declaration} (${null==t.scale?7:t.scale})`;case o.TVP:return`${t.tvpType} readonly`;default:return e.declaration}},e.exports.cast=(e,t,n)=>{if(null==e)return null;switch(typeof e){case"string":return`N'${e.replace(/'/g,"''")}'`;case"number":return e;case"boolean":return e?1:0;case"object":if(e instanceof Date){let t=e.getUTCMilliseconds()/1e3;null!=e.nanosecondDelta&&(t+=e.nanosecondDelta);let r=null==n.scale?7:n.scale;return t=r>0?String(t).substr(1,r+1):"",`N'${e.getUTCFullYear()}-${s(e.getUTCMonth()+1)}-${s(e.getUTCDate())} ${s(e.getUTCHours())}:${s(e.getUTCMinutes())}:${s(e.getUTCSeconds())}${t}'`}if(Buffer.isBuffer(e))return`0x${e.toString("hex")}`;return null;default:return null}}},72670:(e,t,n)=>{"use strict";let r=n(23632);class i extends r{constructor(e,t){super(e,t),this.name="ConnectionError"}}e.exports=i},33014:(e,t,n)=>{"use strict";let r=n(72670),i=n(23632),o=n(22751),s=n(17252),a=n(23799);e.exports={ConnectionError:r,MSSQLError:i,PreparedStatementError:o,RequestError:s,TransactionError:a}},23632:e=>{"use strict";class t extends Error{constructor(e,t){e instanceof Error?(super(e.message),this.code=e.code||t,Error.captureStackTrace(this,this.constructor),Object.defineProperty(this,"originalError",{enumerable:!0,value:e})):(super(e),this.code=t),this.name="MSSQLError"}}e.exports=t},22751:(e,t,n)=>{"use strict";let r=n(23632);class i extends r{constructor(e,t){super(e,t),this.name="PreparedStatementError"}}e.exports=i},17252:(e,t,n)=>{"use strict";let r=n(23632);class i extends r{constructor(e,t){super(e,t),e instanceof Error&&(e.info?(this.number=e.info.number||e.code,this.lineNumber=e.info.lineNumber,this.state=e.info.state||e.sqlstate,this.class=e.info.class,this.serverName=e.info.serverName,this.procName=e.info.procName):(this.number=e.code,this.lineNumber=e.lineNumber,this.state=e.sqlstate,this.class=e.severity,this.serverName=e.serverName,this.procName=e.procName)),this.name="RequestError";let n=/^\[Microsoft\]\[SQL Server Native Client 11\.0\](?:\[SQL Server\])?([\s\S]*)$/.exec(this.message);n&&(this.message=n[1])}}e.exports=i},23799:(e,t,n)=>{"use strict";let r=n(23632);class i extends r{constructor(e,t){super(e,t),this.name="TransactionError"}}e.exports=i},3873:(e,t,n)=>{"use strict";let r=n(23781),i=null,o={};function s(e,t){if(!o[e])return i;let n=o[e].indexOf(t);return -1===n||(o[e].splice(n,1),0===o[e].length&&(o[e]=void 0),i&&i.removeListener(e,t)),i}e.exports={batch:function(){if("string"==typeof arguments[0])return new r.driver.Request().batch(arguments[0],arguments[1]);let e=Array.prototype.slice.call(arguments),t=e.shift();return new r.driver.Request()._template(t,e,"batch")},close:function(e){if(i){let t=i;return i=null,t.close(e)}return"function"==typeof e?(setImmediate(e),null):new r.Promise(e=>{e(i)})},connect:function(e,t){if(!i){for(let t in i=new r.driver.ConnectionPool(e),o)for(let e=0,n=o[t].length;e<n;e++)i.on(t,o[t][e]);let t=i.close;i.close=(function(e){for(let e in o)for(let t=0,n=o[e].length;t<n;t++)this.removeListener(e,o[e][t]);return this.on("error",e=>{if(o.error)for(let t=0,n=o.error.length;t<n;t++)o.error[t].call(this,e)}),i=null,t.call(this,e)}).bind(i)}return"function"==typeof t?i.connect((e,n)=>{e&&(i=null),t(e,n)}):i.connect().catch(e=>(i=null,r.Promise.reject(e)))},off:s,on:function(e,t){return o[e]||(o[e]=[]),o[e].push(t),i&&i.on(e,t),i},query:function(){if("string"==typeof arguments[0])return new r.driver.Request().query(arguments[0],arguments[1]);let e=Array.prototype.slice.call(arguments),t=e.shift();return new r.driver.Request()._template(t,e,"query")},removeListener:s},Object.defineProperty(e.exports,"pool",{get:()=>i,set:()=>{}})},11839:e=>{"use strict";e.exports={READ_UNCOMMITTED:1,READ_COMMITTED:2,REPEATABLE_READ:3,SERIALIZABLE:4,SNAPSHOT:5}},23781:(e,t,n)=>{"use strict";let r=n(74173).TYPES,i=n(13602),o=Promise,s=[];s.register=function(e,t){for(let t=0;t<this.length;t++)if(this[t].js===e){this.splice(t,1);break}return this.push({js:e,sql:t}),null},s.register(String,r.NVarChar),s.register(Number,r.Int),s.register(Boolean,r.Bit),s.register(Date,r.DateTime),s.register(Buffer,r.VarBinary),s.register(i,r.TVP),e.exports={driver:{},getTypeByValue:function(e){if(null==e)return r.NVarChar;switch(typeof e){case"string":for(let e of Array.from(s))if(e.js===String)return e.sql;return r.NVarChar;case"number":case"bigint":if(e%1!=0)return r.Float;if(e<-2147483648||e>2147483647)return r.BigInt;return r.Int;case"boolean":for(let e of Array.from(s))if(e.js===Boolean)return e.sql;return r.Bit;case"object":for(let t of Array.from(s))if(e instanceof t.js)return t.sql;return r.NVarChar;default:return r.NVarChar}},map:s},Object.defineProperty(e.exports,"Promise",{get:()=>o,set:e=>{o=e}}),Object.defineProperty(e.exports,"valueHandler",{enumerable:!0,value:new Map,writable:!1,configurable:!1})},13602:(e,t,n)=>{"use strict";let r=n(74173).TYPES,i=n(74173).declare,o=n(44800).objectHasProperty;function s(e){if(e){let t=s.parseName(e);this.name=t.name,this.schema=t.schema,this.database=t.database,this.path=(this.database?`[${this.database}].`:"")+(this.schema?`[${this.schema}].`:"")+`[${this.name}]`,this.temporary="#"===this.name.charAt(0)}this.columns=[],this.rows=[],Object.defineProperty(this.columns,"add",{value(e,t,n){if(null==t)throw Error("Column data type is not defined.");return t instanceof Function&&(t=t()),n=n||{},t.name=e,["nullable","primary","identity","readOnly","length"].forEach(e=>{o(n,e)&&(t[e]=n[e])}),this.push(t)}}),Object.defineProperty(this.rows,"add",{value(){return this.push(Array.prototype.slice.call(arguments))}}),Object.defineProperty(this.rows,"clear",{value(){return this.splice(0,this.length)}})}s.prototype._makeBulk=function(){for(let e=0;e<this.columns.length;e++){let t=this.columns[e];switch(t.type){case r.Date:case r.DateTime:case r.DateTime2:for(let t=0;t<this.rows.length;t++){let n=this.rows[t][e];if("string"==typeof n||"number"==typeof n){let r=new Date(n);if(isNaN(r.getDate()))throw TypeError("Invalid date value passed to bulk rows");this.rows[t][e]=r}}break;case r.Xml:t.type=r.NVarChar(65535).type;break;case r.UDT:case r.Geography:case r.Geometry:t.type=r.VarBinary(65535).type}}return this},s.prototype.declare=function(){let e=this.columns.filter(e=>!0===e.primary).map(e=>`[${e.name}]`),t=this.columns.map(t=>{let n=[`[${t.name}] ${i(t.type,t)}`];return!0===t.nullable?n.push("null"):!1===t.nullable&&n.push("not null"),!0===t.primary&&1===e.length&&n.push("primary key"),n.join(" ")}),n=e.length>1?`, constraint [PK_${this.temporary?this.name.substr(1):this.name}] primary key (${e.join(", ")})`:"";return`create table ${this.path} (${t.join(", ")}${n})`},s.fromRecordset=function(e,t){let n=new this(t);for(let t in e.columns)if(o(e.columns,t)){let r=e.columns[t];n.columns.add(t,{type:r.type,length:r.length,scale:r.scale,precision:r.precision},{nullable:r.nullable,identity:r.identity,readOnly:r.readOnly})}if(1===n.columns.length&&"JSON_F52E2B61-18A1-11d1-B105-00805F49916B"===n.columns[0].name)for(let t=0;t<e.length;t++)n.rows.add(JSON.stringify(e[t]));else for(let t=0;t<e.length;t++)n.rows.add.apply(n.rows,n.columns.map(n=>e[t][n.name]));return n},s.parseName=function(e){let t=e.length,n=-1,r="",i=!1,o=[];for(;++n<t;){let t=e.charAt(n);if("["===t)i?r+=t:i=!0;else if("]"===t){if(i)i=!1;else throw Error("Invalid table name.")}else"."===t?i?r+=t:(o.push(r),r=""):r+=t}switch(r&&o.push(r),o.length){case 1:return{name:o[0],schema:null,database:null};case 2:return{name:o[1],schema:o[0],database:null};case 3:return{name:o[2],schema:o[1],database:o[0]};default:throw Error("Invalid table name.")}},e.exports=s},90607:(e,t,n)=>{"use strict";let r=n(1129),i=n(19092)("mssql:tedi"),o=n(39547),{IDS:s}=n(44800),a=n(23781),l=n(72670);class c extends o{_config(){let e={server:this.config.server,options:Object.assign({encrypt:"boolean"!=typeof this.config.encrypt||this.config.encrypt,trustServerCertificate:"boolean"==typeof this.config.trustServerCertificate&&this.config.trustServerCertificate},this.config.options),authentication:Object.assign({type:void 0!==this.config.domain?"ntlm":void 0!==this.config.authentication_type?this.config.authentication_type:"default",options:Object.entries({userName:this.config.user,password:this.config.password,domain:this.config.domain,clientId:this.config.clientId,clientSecret:this.config.clientSecret,tenantId:this.config.tenantId,token:this.config.token,msiEndpoint:this.config.msiEndpoint,msiSecret:this.config.msiSecret}).reduce((e,[t,n])=>void 0!==n?{...e,[t]:n}:e,{})},this.config.authentication)};return e.options.database=e.options.database||this.config.database,e.options.port=e.options.port||this.config.port,e.options.connectTimeout=e.options.connectTimeout??this.config.connectionTimeout??this.config.timeout??15e3,e.options.requestTimeout=e.options.requestTimeout??this.config.requestTimeout??this.config.timeout??15e3,e.options.tdsVersion=e.options.tdsVersion||"7_4",e.options.rowCollectionOnDone=e.options.rowCollectionOnDone||!1,e.options.rowCollectionOnRequestCompletion=e.options.rowCollectionOnRequestCompletion||!1,e.options.useColumnNames=e.options.useColumnNames||!1,e.options.appName=e.options.appName||"node-mssql",e.options.instanceName&&delete e.options.port,isNaN(e.options.requestTimeout)&&(e.options.requestTimeout=15e3),(e.options.requestTimeout===1/0||e.options.requestTimeout<0)&&(e.options.requestTimeout=0),!e.options.debug&&this.config.debug&&(e.options.debug={packet:!0,token:!0,data:!0,payload:!0}),e}_poolCreate(){return new a.Promise((e,t)=>{let n;let o=n=>{e(n),e=t=()=>{}},a=n=>{t(n),e=t=()=>{}};try{n=new r.Connection(this._config())}catch(e){a(e);return}n.connect(e=>{if(e)return a(e=new l(e));i("connection(%d): established",s.get(n)),this.collation=n.databaseCollation,o(n)}),s.add(n,"Connection"),i("pool(%d): connection #%d created",s.get(this),s.get(n)),i("connection(%d): establishing",s.get(n)),n.on("end",()=>{a(new l("The connection ended without ever completing the connection"))}),n.on("error",e=>{"ESOCKET"===e.code?n.hasError=!0:this.emit("error",e),a(e)}),this.config.debug&&n.on("debug",this.emit.bind(this,"debug",n)),"function"==typeof this.config.beforeConnect&&this.config.beforeConnect(n)})}_poolValidate(e){return!!e&&!e.closed&&!e.hasError&&(!this.config.validateConnection||new a.Promise(t=>{let n=new r.Request("SELECT 1;",e=>{t(!e)});e.execSql(n)}))}_poolDestroy(e){return new a.Promise((t,n)=>{if(!e){t();return}i("connection(%d): destroying",s.get(e)),e.closed?(i("connection(%d): already closed",s.get(e)),t()):(e.once("end",()=>{i("connection(%d): destroyed",s.get(e)),t()}),e.close())})}}e.exports=c},34877:(e,t,n)=>{"use strict";let r=n(57043),i=n(90607),o=n(55047),s=n(82859);e.exports=Object.assign({ConnectionPool:i,Transaction:o,Request:s,PreparedStatement:r.PreparedStatement},r.exports),Object.defineProperty(e.exports,"Promise",{enumerable:!0,get:()=>r.Promise,set:e=>{r.Promise=e}}),Object.defineProperty(e.exports,"valueHandler",{enumerable:!0,value:r.valueHandler,writable:!1,configurable:!1}),r.driver.name="tedious",r.driver.ConnectionPool=i,r.driver.Transaction=o,r.driver.Request=s},82859:(e,t,n)=>{"use strict";let r=n(1129),i=n(19092)("mssql:tedi"),o=n(94422),s=n(17252),{IDS:a,objectHasProperty:l}=n(44800),{TYPES:c,DECLARATIONS:u,declare:h,cast:d}=n(74173),f=n(13602),{PARSERS:p}=n(72043),{valueHandler:m}=n(23781),g="JSON_F52E2B61-18A1-11d1-B105-00805F49916B",y="XML_F52E2B61-18A1-11d1-B105-00805F49916B",_={BitN:104,DateTimeN:111,DecimalN:106,FloatN:109,IntN:38,MoneyN:110,NumericN:108},E=function(e){switch(e){case c.VarChar:return r.TYPES.VarChar;case c.NVarChar:return r.TYPES.NVarChar;case c.Text:return r.TYPES.Text;case c.Int:return r.TYPES.Int;case c.BigInt:return r.TYPES.BigInt;case c.TinyInt:return r.TYPES.TinyInt;case c.SmallInt:return r.TYPES.SmallInt;case c.Bit:return r.TYPES.Bit;case c.Float:return r.TYPES.Float;case c.Decimal:return r.TYPES.Decimal;case c.Numeric:return r.TYPES.Numeric;case c.Real:return r.TYPES.Real;case c.Money:return r.TYPES.Money;case c.SmallMoney:return r.TYPES.SmallMoney;case c.Time:return r.TYPES.Time;case c.Date:return r.TYPES.Date;case c.DateTime:return r.TYPES.DateTime;case c.DateTime2:return r.TYPES.DateTime2;case c.DateTimeOffset:return r.TYPES.DateTimeOffset;case c.SmallDateTime:return r.TYPES.SmallDateTime;case c.UniqueIdentifier:return r.TYPES.UniqueIdentifier;case c.Xml:return r.TYPES.NVarChar;case c.Char:return r.TYPES.Char;case c.NChar:return r.TYPES.NChar;case c.NText:return r.TYPES.NVarChar;case c.Image:return r.TYPES.Image;case c.Binary:return r.TYPES.Binary;case c.VarBinary:return r.TYPES.VarBinary;case c.UDT:case c.Geography:case c.Geometry:return r.TYPES.UDT;case c.TVP:return r.TYPES.TVP;case c.Variant:return r.TYPES.Variant;default:return e}},T=function(e,t){if("object"==typeof e)switch(e){case r.TYPES.Char:return c.Char;case r.TYPES.NChar:return c.NChar;case r.TYPES.VarChar:return c.VarChar;case r.TYPES.NVarChar:return c.NVarChar;case r.TYPES.Text:return c.Text;case r.TYPES.NText:return c.NText;case r.TYPES.Int:return c.Int;case r.TYPES.BigInt:return c.BigInt;case r.TYPES.TinyInt:return c.TinyInt;case r.TYPES.SmallInt:return c.SmallInt;case r.TYPES.Bit:return c.Bit;case r.TYPES.Float:return c.Float;case r.TYPES.Real:return c.Real;case r.TYPES.Money:return c.Money;case r.TYPES.SmallMoney:return c.SmallMoney;case r.TYPES.Numeric:return c.Numeric;case r.TYPES.Decimal:return c.Decimal;case r.TYPES.DateTime:return c.DateTime;case r.TYPES.Time:return c.Time;case r.TYPES.Date:return c.Date;case r.TYPES.DateTime2:return c.DateTime2;case r.TYPES.DateTimeOffset:return c.DateTimeOffset;case r.TYPES.SmallDateTime:return c.SmallDateTime;case r.TYPES.UniqueIdentifier:return c.UniqueIdentifier;case r.TYPES.Image:return c.Image;case r.TYPES.Binary:return c.Binary;case r.TYPES.VarBinary:return c.VarBinary;case r.TYPES.Xml:return c.Xml;case r.TYPES.UDT:return c.UDT;case r.TYPES.TVP:return c.TVP;case r.TYPES.Variant:return c.Variant;default:switch(e.id){case _.BitN:return c.Bit;case _.NumericN:return c.Numeric;case _.DecimalN:return c.Decimal;case _.IntN:if(8===t)return c.BigInt;if(4===t)return c.Int;if(2===t)return c.SmallInt;return c.TinyInt;case _.FloatN:if(8===t)return c.Float;return c.Real;case _.MoneyN:if(8===t)return c.Money;return c.SmallMoney;case _.DateTimeN:if(8===t)return c.DateTime;return c.SmallDateTime}}},w=function(e,t){let n={};t&&(n=[]);for(let r=0,i=e.length;r<i;r++){let i=e[r],o={index:r,name:i.colName,length:i.dataLength,type:T(i.type,i.dataLength),scale:i.scale,precision:i.precision,nullable:!!(1&i.flags),caseSensitive:!!(2&i.flags),identity:!!(16&i.flags),readOnly:!(12&i.flags)};i.udtInfo&&(o.udt={name:i.udtInfo.typeName,database:i.udtInfo.dbname,schema:i.udtInfo.owningSchema,assembly:i.udtInfo.assemblyName},u[i.udtInfo.typeName]&&(o.type=u[i.udtInfo.typeName])),t?n.push(o):n[i.colName]=o}return n},b=function(e,t){let n=T(t.type);return m.has(n)?m.get(n)(e):t.type!==r.TYPES.UDT||null==e?e:p[t.udtInfo.typeName]?p[t.udtInfo.typeName](e):e},v=function(e){if(!(e instanceof f))return e;{let t={name:e.name,schema:e.schema,columns:[],rows:e.rows};for(let n of e.columns)t.columns.push({name:n.name,type:E(n.type),length:n.length,scale:n.scale,precision:n.precision});return t}};class S extends o{_batch(e,t){this._isBatch=!0,this._query(e,t)}_bulk(e,t,n){super._bulk(e,t,o=>{if(o)return n(o);try{e._makeBulk()}catch(e){return n(new s(e,"EREQUEST"))}if(!e.name)return n(new s("Table name must be specified for bulk insert.","ENAME"));if("@"===e.name.charAt(0))return n(new s("You can't use table variables for bulk insert.","ENAME"));let l=[],c={},u=!1,h=(e,t,r)=>{let i=Error(r.message);if(i.info=r,i=new s(i,"EREQUEST"),this.stream)this.emit("error",i);else if(e&&!u){if(t){for(let e in c)t.removeListener(e,c[e]);this.parent.release(t)}u=!0,n(i)}l.push(i)},d=e=>{this.emit("info",{message:e.message,number:e.number,state:e.state,class:e.class,lineNumber:e.lineNumber,serverName:e.serverName,procName:e.procName})};this.parent.acquire(this,(o,f)=>{let p=(e,...t)=>{try{this.parent.release(f)}catch(e){}n(e,...t)};if(o)return p(o);if(i("connection(%d): borrowed to request #%d",a.get(f),a.get(this)),this.canceled)return i("request(%d): canceled",a.get(this)),p(new s("Canceled.","ECANCEL"));this._cancel=()=>{i("request(%d): cancel",a.get(this)),f.cancel()},f.on("infoMessage",c.infoMessage=d),f.on("errorMessage",c.errorMessage=h.bind(null,!1,f)),f.on("error",c.error=h.bind(null,!0,f));let m=(e,t)=>{let n;if(e&&(!l.length||l.length&&e.message!==l[l.length-1].message)&&(e=new s(e,"EREQUEST"),this.stream&&this.emit("error",e),l.push(e)),delete this._cancel,l.length&&!this.stream&&((n=l.pop()).precedingErrors=l),!u){for(let e in c)f.removeListener(e,c[e]);u=!0,this.stream?p(null,t):p(n,t)}},g=f.newBulkLoad(e.path,t,m);for(let t of e.columns)g.addColumn(t.name,E(t.type),{nullable:t.nullable,length:t.length,scale:t.scale,precision:t.precision});if(e.create){let t=e.temporary?`tempdb..[${e.name}]`:e.path,n=new r.Request(`if object_id('${t.replace(/'/g,"''")}') is null ${e.declare()}`,t=>{if(t)return m(t);f.execBulkLoad(g,e.rows)});this._setCurrentRequest(n),f.execSqlBatch(n)}else f.execBulkLoad(g,e.rows)})})}_query(e,t){super._query(e,n=>{if(n)return t(n);let o=[],c=[],u=[],p={},m={},_=[],T={},S=[],A=null,I=!1,C=!1,O=null,N=!1,R=(e,n,r)=>{let i=Error(r.message);if(i.info=r,i=new s(i,"EREQUEST"),this.stream)this.emit("error",i);else if(e&&!N){if(n){for(let e in p)n.removeListener(e,p[e]);this.parent.release(n)}N=!0,t(i)}u.push(i)},D=e=>{this.emit("info",{message:e.message,number:e.number,state:e.state,class:e.class,lineNumber:e.lineNumber,serverName:e.serverName,procName:e.procName})};this.parent.acquire(this,(n,k,P)=>{let M;if(n)return t(n);if(i("connection(%d): borrowed to request #%d",a.get(k),a.get(this)),this.canceled)return i("request(%d): canceled",a.get(this)),this.parent.release(k),t(new s("Canceled.","ECANCEL"));this._cancel=()=>{i("request(%d): cancel",a.get(this)),k.cancel()},k.on("infoMessage",p.infoMessage=D),k.on("errorMessage",p.errorMessage=R.bind(null,!1,k)),k.on("error",p.error=R.bind(null,!0,k)),i("request(%d): query",a.get(this),e);let L=new r.Request(e,e=>{let n;if((e?.errors?e.errors:[e]).forEach((e,t,{length:n})=>{e&&(!u.length||u.length&&u.length>=n&&e.message!==u[u.length-n+t].message)&&(e=new s(e,"EREQUEST"),this.stream&&this.emit("error",e),u.push(e))}),I)for(let e in this.stream||(A=o.pop()[0]),A){let t=A[e];"___return___"!==e&&(m[e]=t)}if(delete this._cancel,u.length&&!this.stream&&((n=u.pop()).precedingErrors=u),!N){for(let e in p)k.removeListener(e,p[e]);this.parent.release(k),N=!0,n?i("request(%d): failed",a.get(this),n):i("request(%d): completed",a.get(this)),this.stream?t(null,null,m,_,c):t(n,o,m,_,c)}});this._setCurrentRequest(L),L.on("columnMetadata",e=>{T=w(e,this.arrayRowMode),C=!1,1===e.length&&(e[0].colName===g||e[0].colName===y)&&(C=!0,O=[]),this.stream&&(this._isBatch&&T.___return___||this.emit("recordset",T)),this.arrayRowMode&&c.push(T)});let U=(e,t)=>{if(null!=e&&(_.push(e),this.stream&&this.emit("rowsaffected",e)),0!==Object.keys(T).length){if(C){let e=O.join("");if(T[g]&&!0===P.parseJSON)try{M=""===e?null:JSON.parse(e)}catch(t){M=null;let e=new s(Error(`Failed to parse incoming JSON. ${t.message}`),"EJSON");this.stream&&this.emit("error",e),u.push(e)}else(M={})[Object.keys(T)[0]]=e;O=null,this.stream?this.emit("row",M):S.push(M)}this.stream||(Object.defineProperty(S,"columns",{enumerable:!1,configurable:!0,value:T}),Object.defineProperty(S,"toTable",{enumerable:!1,configurable:!0,value(e){return f.fromRecordset(this,e)}}),o.push(S)),S=[],T={}}};if(L.on("doneInProc",U),L.on("done",U),L.on("returnValue",(e,t,n)=>{m[e]=t}),L.on("row",e=>{if(S||(S=[]),C)return O.push(e[0].value);for(let t of(M=this.arrayRowMode?[]:{},e))if(t.value=b(t.value,t.metadata),this.arrayRowMode)M.push(t.value);else{let e=M[t.metadata.colName];void 0!==e?e instanceof Array?e.push(t.value):M[t.metadata.colName]=[e,t.value]:M[t.metadata.colName]=t.value}this.stream?this._isBatch&&M.___return___?A=M:this.emit("row",M):S.push(M)}),this._isBatch){if(Object.keys(this.parameters).length){for(let e in this.parameters){if(!l(this.parameters,e))continue;let n=this.parameters[e];try{n.value=E(n.type).validate(n.value,this.parent.collation)}catch(r){r.message=`Validation failed for parameter '${e}'. ${r.message}`;let n=new s(r,"EPARAM");return this.parent.release(k),t(n)}}let e=[];for(let t in this.parameters){if(!l(this.parameters,t))continue;let n=this.parameters[t];e.push(`@${t} ${h(n.type,n)}`)}let n=[];for(let e in this.parameters){if(!l(this.parameters,e))continue;let t=this.parameters[e];n.push(`@${e} = ${d(t.value,t.type,t)}`)}let r=[];for(let e in this.parameters)l(this.parameters,e)&&2===this.parameters[e].io&&r.push(`@${e} as [${e}]`);I=r.length>0,L.sqlTextOrProcedure=`declare ${e.join(", ")};select ${n.join(", ")};${L.sqlTextOrProcedure};${I?`select 1 as [___return___], ${r.join(", ")}`:""}`}}else for(let e in this.parameters){if(!l(this.parameters,e))continue;let t=this.parameters[e];1===t.io?L.addParameter(t.name,E(t.type),v(t.value),{length:t.length,scale:t.scale,precision:t.precision}):L.addOutputParameter(t.name,E(t.type),v(t.value),{length:t.length,scale:t.scale,precision:t.precision})}try{k[this._isBatch?"execSqlBatch":"execSql"](L)}catch(e){R(!0,k,e)}})})}_execute(e,t){super._execute(e,n=>{if(n)return t(n);let o=[],c=[],u=[],h={},d={},p=[],m={},_=[],T=0,S=!1,A=null,I=!1,C=(e,n,r)=>{let i=Error(r.message);if(i.info=r,i=new s(i,"EREQUEST"),this.stream)this.emit("error",i);else if(e&&!I){if(n){for(let e in h)n.removeListener(e,h[e]);this.parent.release(n)}I=!0,t(i)}u.push(i)},O=e=>{this.emit("info",{message:e.message,number:e.number,state:e.state,class:e.class,lineNumber:e.lineNumber,serverName:e.serverName,procName:e.procName})};this.parent.acquire(this,(n,N,R)=>{let D;if(n)return t(n);if(i("connection(%d): borrowed to request #%d",a.get(N),a.get(this)),this.canceled)return i("request(%d): canceled",a.get(this)),this.parent.release(N),t(new s("Canceled.","ECANCEL"));if(this._cancel=()=>{i("request(%d): cancel",a.get(this)),N.cancel()},N.on("infoMessage",h.infoMessage=O),N.on("errorMessage",h.errorMessage=C.bind(null,!1,N)),N.on("error",h.error=C.bind(null,!0,N)),i.enabled){let t=Object.keys(this.parameters).map(e=>this.parameters[e]),n=e=>"string"==typeof e&&e.length>50?e.substring(0,47)+"...":e,r=e=>e.name+" [sql."+e.type.name+"]",o={};t.forEach(e=>{o[r(e)]=n(e.value)}),i("request(%d): execute %s %O",a.get(this),e,o)}let k=new r.Request(e,e=>{let n;if(e&&(!u.length||u.length&&e.message!==u[u.length-1].message)&&(e=new s(e,"EREQUEST"),this.stream&&this.emit("error",e),u.push(e)),delete this._cancel,u.length&&!this.stream&&((n=u.pop()).precedingErrors=u),!I){for(let e in h)N.removeListener(e,h[e]);this.parent.release(N),I=!0,n?i("request(%d): failed",a.get(this),n):i("request(%d): complete",a.get(this)),this.stream?t(null,null,d,T,p,c):t(n,o,d,T,p,c)}});for(let e in this._setCurrentRequest(k),k.on("columnMetadata",e=>{m=w(e,this.arrayRowMode),S=!1,1===e.length&&(e[0].colName===g||e[0].colName===y)&&(S=!0,A=[]),this.stream&&this.emit("recordset",m),this.arrayRowMode&&c.push(m)}),k.on("row",e=>{if(_||(_=[]),S)return A.push(e[0].value);for(let t of(D=this.arrayRowMode?[]:{},e))if(t.value=b(t.value,t.metadata),this.arrayRowMode)D.push(t.value);else{let e=D[t.metadata.colName];null!=e?e instanceof Array?e.push(t.value):D[t.metadata.colName]=[e,t.value]:D[t.metadata.colName]=t.value}this.stream?this.emit("row",D):_.push(D)}),k.on("doneInProc",(e,t)=>{if(null!=e&&(p.push(e),this.stream&&this.emit("rowsaffected",e)),0!==Object.keys(m).length){if(S){if(m[g]&&!0===R.parseJSON)try{D=0===A.length?null:JSON.parse(A.join(""))}catch(t){D=null;let e=new s(Error(`Failed to parse incoming JSON. ${t.message}`),"EJSON");this.stream&&this.emit("error",e),u.push(e)}else(D={})[Object.keys(m)[0]]=A.join("");A=null,this.stream?this.emit("row",D):_.push(D)}this.stream||(Object.defineProperty(_,"columns",{enumerable:!1,configurable:!0,value:m}),Object.defineProperty(_,"toTable",{enumerable:!1,configurable:!0,value(e){return f.fromRecordset(this,e)}}),o.push(_)),_=[],m={}}}),k.on("doneProc",(e,t,n)=>{T=n}),k.on("returnValue",(e,t,n)=>{d[e]=t}),this.parameters){if(!l(this.parameters,e))continue;let t=this.parameters[e];1===t.io?k.addParameter(t.name,E(t.type),v(t.value),{length:t.length,scale:t.scale,precision:t.precision}):k.addOutputParameter(t.name,E(t.type),v(t.value),{length:t.length,scale:t.scale,precision:t.precision})}N.callProcedure(k)})})}_pause(){super._pause(),this._currentRequest&&this._currentRequest.pause()}_resume(){super._resume(),this._currentRequest&&this._currentRequest.resume()}}e.exports=S},55047:(e,t,n)=>{"use strict";let r=n(19092)("mssql:tedi"),i=n(44211),{IDS:o}=n(44800),s=n(23799);class a extends i{constructor(e){super(e),this._abort=()=>{if(!this._rollbackRequested){let e=this._acquiredConnection;setImmediate(this.parent.release.bind(this.parent),e),this._acquiredConnection.removeListener("rollbackTransaction",this._abort),this._acquiredConnection=null,this._acquiredConfig=null,this._aborted=!0,this.emit("rollback",!0)}}}_begin(e,t){super._begin(e,e=>{if(e)return t(e);r("transaction(%d): begin",o.get(this)),this.parent.acquire(this,(e,n,i)=>{if(e)return t(e);this._acquiredConnection=n,this._acquiredConnection.on("rollbackTransaction",this._abort),this._acquiredConfig=i,n.beginTransaction(e=>{e&&(e=new s(e)),r("transaction(%d): begun",o.get(this)),t(e)},this.name,this.isolationLevel)})})}_commit(e){super._commit(t=>{if(t)return e(t);r("transaction(%d): commit",o.get(this)),this._acquiredConnection.commitTransaction(t=>{t&&(t=new s(t)),this._acquiredConnection.removeListener("rollbackTransaction",this._abort),this.parent.release(this._acquiredConnection),this._acquiredConnection=null,this._acquiredConfig=null,t||r("transaction(%d): commited",o.get(this)),e(t)})})}_rollback(e){super._rollback(t=>{if(t)return e(t);r("transaction(%d): rollback",o.get(this)),this._acquiredConnection.rollbackTransaction(t=>{t&&(t=new s(t)),this._acquiredConnection.removeListener("rollbackTransaction",this._abort),this.parent.release(this._acquiredConnection),this._acquiredConnection=null,this._acquiredConfig=null,t||r("transaction(%d): rolled back",o.get(this)),e(t)})})}}e.exports=a},72043:e=>{"use strict";class t{constructor(){this.x=0,this.y=0,this.z=null,this.m=null}}let n=(e,n,r)=>{let i=[];if(n<1)return i;if(r)for(let r=1;r<=n;r++){let n=new t;i.push(n),n.x=e.readDoubleLE(e.position),n.y=e.readDoubleLE(e.position+8),e.position+=16}else for(let r=1;r<=n;r++){let n=new t;i.push(n),n.lat=e.readDoubleLE(e.position),n.lng=e.readDoubleLE(e.position+8),n.x=n.lat,n.y=n.lng,e.position+=16}return i},r=(e,t)=>{t<1||t.forEach(t=>{t.z=e.readDoubleLE(e.position),e.position+=8})},i=(e,t)=>{t<1||t.forEach(t=>{t.m=e.readDoubleLE(e.position),e.position+=8})},o=(e,t,n)=>{let r=[];if(t<1)return r;if(n.P)r.push({attribute:1,pointOffset:0});else if(n.L)r.push({attribute:1,pointOffset:0});else for(let n=1;n<=t;n++)r.push({attribute:e.readUInt8(e.position),pointOffset:e.readInt32LE(e.position+1)}),e.position+=5;return r},s=(e,t,n)=>{let r=[];if(t<1)return r;if(n.P)r.push({parentOffset:-1,figureOffset:0,type:1});else if(n.L)r.push({parentOffset:-1,figureOffset:0,type:2});else for(let n=1;n<=t;n++)r.push({parentOffset:e.readInt32LE(e.position),figureOffset:e.readInt32LE(e.position+4),type:e.readUInt8(e.position+8)}),e.position+=9;return r},a=(e,t)=>{let n=[];if(t<1)return n;for(let r=1;r<=t;r++)n.push({type:e.readUInt8(e.position)}),e.position++;return n},l=(e,t)=>{let l,c,u;let h=e.readInt32LE(0);if(-1===h)return null;let d={srid:h,version:e.readUInt8(4)},f=e.readUInt8(5);e.position=6;let p={Z:(1&f)>0,M:(2&f)>0,V:(4&f)>0,P:(8&f)>0,L:(16&f)>0};if(2===d.version&&(p.H=(8&f)>0),p.P?l=1:p.L?l=2:(l=e.readUInt32LE(e.position),e.position+=4),d.points=n(e,l,t),p.Z&&r(e,d.points),p.M&&i(e,d.points),p.P?c=1:p.L?c=1:(c=e.readUInt32LE(e.position),e.position+=4),d.figures=o(e,c,p),p.P?u=1:p.L?u=1:(u=e.readUInt32LE(e.position),e.position+=4),d.shapes=s(e,u,p),2===d.version&&e.position<e.length){let t=e.readUInt32LE(e.position);e.position+=4,d.segments=a(e,t)}else d.segments=[];return d};e.exports.PARSERS={geography:e=>l(e,!1),geometry:e=>l(e,!0)}},44800:e=>{let t=new WeakMap,n={Connection:1,ConnectionPool:1,Request:1,Transaction:1,PreparedStatement:1};e.exports={objectHasProperty:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),INCREMENT:n,IDS:{get:t.get.bind(t),add:(e,r,i)=>{if(i)return t.set(e,i);t.set(e,n[r]++)}}}},27150:e=>{"use strict";e.exports=JSON.parse('[["8740","\uD85C\uDE67\uD85F\uDCB1\uD85F\uDCC5\uD850\uDEBF\uD84D\uDE17\uD85C\uDF52\uD85B\uDE8B\uD85C\uDCD2\uD868\uDF51\uD85F\uDC6C\uD85A\uDF23\uD856\uDE54\uD846\uDE63\uD84F\uDE06\uD84F\uDF61"],["8767","\uD862\uDFB9\uD85E\uDFEF\uD847\uDD5E\uD867\uDEB0\uD866\uDD45\uD847\uDD53\uD84D\uDE9E\uD858\uDC21"],["87a1","\uD856\uDCDE\uD850\uDD61\uD862\uDD0D\uD84C\uDDEA\uD842\uDE8A\uD84C\uDE5E\uD857\uDDB9\uD84D\uDE8E\uD85E\uDF65\uD85B\uDE88\uD857\uDD99\uD849\uDCBC\uD849\uDCC1\uD849\uDCC9\uD849\uDCCC\uD84D\uDDBB\uD86B\uDDFF"],["8840","",4,"\uD840\uDD0C\uD840\uDCD1\uD840\uDCCD\uD840\uDCCB\uD847\uDFE8\uD840\uDCCA\uD840\uDD0E\xc1\xc0\xc9\xc8\xd3\xd2\xca\xca\xca\xe1\xe0\xe9\xe8\xed\xec\xf3\xf2\xfa\xf9"],["88a1","\xfc\xea\xea\xea"],["8940","\uD868\uDFA9\uD844\uDD45"],["8943",""],["8946",""],["894c","\uD85D\uDF35"],["89a1",""],["89ab",""],["89b0","\uD842\uDDE7"],["89b5","\uD867\uDDF6\uD85C\uDC0E\uD868\uDD33"],["89c1",""],["89c5","\uD861\uDC6C\uD847\uDDCA\uD841\uDDD0\uD84A\uDEE6"],["8a40","\uD85F\uDD84"],["8a43","\uD843\uDC42\uD843\uDD15\uD854\uDD2B\uD84B\uDCC6\uD840\uDF41\uD853\uDDB8\uD865\uDCE5\uD860\uDCBE\uD84B\uDC38\uD860\uDD5D\uD85A\uDDF2\uD853\uDDEA\uD843\uDD7C\uD843\uDFB4\uD843\uDCD5\uD844\uDCF4\uD843\uDE96\uD843\uDC0B\uD843\uDF64\uD84B\uDCA9\uD860\uDE56\uD851\uDCD3"],["8a64","\uD843\uDD46\uD866\uDE4D\uD860\uDCE9\uD853\uDEA7\uD84B\uDCC2\uD865\uDDF4\uD854\uDEC7\uD865\uDFD4\uD85E\uDCC8\uD84B\uDD44"],["8a76","\uD858\uDCA5\uD84B\uDD4C\uD84A\uDFCA\uD844\uDC77\uD844\uDC6F"],["8aa1","\uD859\uDEDA\uD859\uDF16\uD85E\uDDA0\uD854\uDC52\uD843\uDC43\uD848\uDDA1\uD862\uDF4C\uD841\uDF31"],["8aac","\uD840\uDDA9\uD84B\uDD8D"],["8ab2","\uD851\uDDC8\uD841\uDCFC\uD858\uDC97\uD843\uDF4C\uD843\uDD96"],["8abb","\uD84A\uDE66\uD844\uDC9D\uD843\uDD9C\uD849\uDF75"],["8ac9","\uD869\uDE01\uD843\uDE09\uD84A\uDECF\uD84B\uDCC9"],["8ace","\uD844\uDCC8\uD84E\uDDC2\uD860\uDE9B\uD857\uDE49\uD848\uDCC7\uD843\uDF31\uD84B\uDCB2\uD865\uDF20\uD853\uDE3B"],["8adf","\uD85D\uDD74\uD84B\uDE8B\uD848\uDE08\uD869\uDE5B\uD863\uDCCD\uD843\uDE7A\uD843\uDC34\uD85A\uDC1C\uD844\uDCCF\uD84A\uDC03\uD84A\uDD39\uD854\uDDE3\uD843\uDE8C\uD843\uDF8D\uD843\uDEAA\uD843\uDF30\uD843\uDD47\uD844\uDD4F\uD843\uDE4C"],["8af6","\uD843\uDEAB\uD842\uDFA9\uD843\uDD48\uD844\uDCC0\uD844\uDD3D\uD849\uDE96\uD843\uDFAD"],["8b40","\uD84C\uDFF4\uD85D\uDE39\uD84A\uDFCE\uD843\uDD7E\uD843\uDD7F\uD84B\uDC51\uD84B\uDC55\uD843\uDE98\uD844\uDCC7\uD843\uDF2E\uD869\uDE32\uD85A\uDF50\uD863\uDCD2\uD863\uDD99\uD863\uDCCA"],["8b55","\uD867\uDEC3\uD85D\uDF5E\uD84B\uDDEE\uD859\uDD72\uD860\uDCBD\uD843\uDEFA\uD843\uDE0F\uD843\uDE77\uD843\uDEFB\uD853\uDDEB\uD843\uDCD6\uD849\uDFB5\uD844\uDCC9\uD843\uDE10\uD843\uDE78\uD844\uDC78\uD844\uDD48\uD860\uDE07\uD845\uDC55\uD843\uDE79\uD853\uDE50\uD84B\uDDA4\uD844\uDC1D\uD844\uDC1E\uD844\uDCF5\uD844\uDCF6\uD843\uDE11"],["8ba1","\uD85D\uDE94\uD860\uDECD\uD843\uDFB5\uD843\uDE7B\uD854\uDD7E\uD843\uDFB6\uD844\uDD80\uD854\uDED8\uD868\uDEBD\uD852\uDDDA\uD846\uDC3A\uD850\uDD77\uD860\uDE7C\uD855\uDF3D\uD856\uDF74\uD84C\uDD3D\uD846\uDFC1\uD87E\uDC78\uD840\uDC86\uD852\uDCE9\uD858\uDE6A"],["8bde","\uD858\uDF4B\uD859\uDE12\uD85A\uDD51\uD85E\uDCB2\uD863\uDE0F\uD866\uDC10\uD840\uDC87"],["8c40","\uD867\uDC73\uD850\uDD4E\uD854\uDDCD\uD857\uDD30\uD862\uDE32\uD84C\uDE81\uD868\uDD07\uD846\uDD80\uD861\uDF0F\uD868\uDEBA\uD842\uDE6F\uD866\uDD47\uD862\uDEEA\uD848\uDC7E\uD862\uDDE3\uD847\uDDB6\uD849\uDF12"],["8ca1","\uD84C\uDFF9\uD84F\uDC63"],["8ca7","\uD851\uDD05\uD852\uDE13\uD857\uDCA4\uD855\uDE95\uD863\uDDB9\uD845\uDC3F"],["8cc9",""],["8cce","\uD852\uDD7B\uD85C\uDD0D\uD85B\uDD74\uD85A\uDF15\uD85B\uDFBE\uD84C\uDE56\uD849\uDF96"],["8ce6","\uD84E\uDF1A\uD84D\uDD51\uD850\uDCEC\uD847\uDE23\uD840\uDDA4\uD85B\uDC41\uD840\uDE39\uD866\uDCFA"],["8d40","\uD842\uDF9F"],["8d42","\uD848\uDDC1\uD862\uDD6D\uD864\uDC79\uD868\uDDB5\uD85B\uDC46\uD861\uDEB2\uD85C\uDFFF\uD855\uDC9A\uD852\uDF0F"],["8da1","\uD862\uDDC0\uD84F\uDF41\uD840\uDF25\uD843\uDED8"],["8e40","\uD84F\uDED7\uD85B\uDED3\uD855\uDFE0\uD862\uDFE9\uD856\uDCE1\uD865\uDCD9\uD856\uDDAC\uD859\uDC8D\uD857\uDC01\uD854\uDF0E\uD857\uDCFE\uD856\uDFB4\uD85B\uDC7F\uD857\uDD20\uD857\uDC65\uD857\uDCC1\uD852\uDC82\uD851\uDD78"],["8ea1","\uD85B\uDE44\uD85B\uDED6\uD850\uDC57\uD858\uDC29\uD845\uDFF9\uD860\uDF6D\uD858\uDD21\uD858\uDD5A\uD858\uDED0\uD858\uDF51\uD845\uDE61\uD840\uDC68\uD84D\uDF66\uD860\uDF3A\uD859\uDC89\uD868\uDC87\uD85B\uDCC3\uD849\uDF14\uD859\uDE26\uD84F\uDDE3\uD859\uDEE8\uD862\uDE48\uD849\uDEF6\uD859\uDC98\uD853\uDFB8\uD845\uDC8A\uD846\uDC5E\uD852\uDE65\uD852\uDE95\uD842\uDF0D\uD85A\uDE52\uD84F\uDD7E\uD845\uDCFD\uD85A\uDF0A\uD852\uDDA7\uD84D\uDD30\uD845\uDF73\uD84F\uDDF8\uD87E\uDD94"],["8f40","\uD843\uDE16\uD845\uDFB4\uD84C\uDD7D\uD84D\uDD5A\uD84F\uDE8B\uD85B\uDDA3\uD85A\uDF05\uD85A\uDF97\uD84D\uDDCE\uD85B\uDDA5\uD85B\uDED4\uD85B\uDE42\uD84B\uDEEF\uD856\uDFE4\uD84F\uDCB5\uD85A\uDF96\uD85B\uDE77\uD85B\uDE43\uD857\uDC91\uD857\uDCC0\uD85B\uDE99"],["8fa1","\uD861\uDE25\uD861\uDE3B\uD85C\uDC88\uD845\uDD82\uD85C\uDCCD\uD87E\uDDB2\uD846\uDCA2\uD85C\uDF9A\uD868\uDCF8\uD84B\uDC27\uD85D\uDDE0\uD84F\uDDB9\uD85D\uDDE4\uD85D\uDF0F\uD862\uDE25\uD85E\uDD24\uD85E\uDEBD\uD85E\uDE59\uD85E\uDF3A\uD84F\uDF8F\uD85E\uDF38\uD855\uDC30\uD855\uDD65\uD852\uDE7A\uD845\uDEDF\uD85F\uDD54\uD85F\uDD8F\uD87E\uDDD4\uD85F\uDD53\uD85F\uDD98\uD85F\uDDBD\uD846\uDD10\uD853\uDCC9"],["9040","\uD860\uDC02\uD844\uDC14\uD852\uDD8A\uD860\uDDBC\uD85C\uDD0C\uD860\uDF65\uD861\uDC12\uD868\uDE9F\uD842\uDE50\uD862\uDDDE\uD861\uDD3D\uD84F\uDDBB\uD84C\uDE62\uD868\uDC14\uD861\uDEBC\uD861\uDD01\uD848\uDF25\uD85B\uDED7\uD861\uDD3C\uD85E\uDEBE\uD861\uDD6C\uD861\uDE0B\uD861\uDF13\uD861\uDEE6\uD862\uDD33\uD847\uDE89\uD855\uDDB9\uD862\uDEC6\uD84F\uDC9B\uD862\uDF0C\uD855\uDDDB"],["90a1","\uD843\uDD31\uD862\uDEE1\uD862\uDFEB\uD862\uDEE2\uD862\uDEE5\uD862\uDFEC\uD863\uDC39\uD862\uDFFF\uD849\uDE7A\uD861\uDED8\uD844\uDE7C\uD84F\uDE2E\uD85B\uDED5\uD862\uDEE0\uD85B\uDCB8\uD840\uDE74\uD859\uDC10\uD864\uDCAF\uD864\uDCE5\uD852\uDED1\uD846\uDD15\uD84C\uDF0A\uD852\uDEE9\uD864\uDDD5\uD864\uDDEB\uD84C\uDCB7\uD84C\uDCBC\uD855\uDC6C\uD865\uDC33\uD865\uDC1D\uD85E\uDD7A\uD85C\uDD75\uD841\uDE30\uD850\uDD5C"],["9140","\uD855\uDF06\uD85B\uDD27\uD845\uDED3\uD852\uDE29\uD866\uDC57\uD866\uDD05\uD855\uDF25\uD864\uDCB1\uD866\uDFD5\uD866\uDF05\uD861\uDE00\uD85A\uDDA8\uD84C\uDC7D\uD867\uDD3E\uD846\uDC63\uD850\uDE4B\uD867\uDE68\uD867\uDFB7\uD868\uDD92\uD868\uDDAB\uD868\uDCE1\uD868\uDD23\uD868\uDDDF\uD868\uDD34"],["91a1","\uD848\uDD5B\uD868\uDD93\uD868\uDE20\uD846\uDD3B\uD868\uDE33\uD868\uDCB9\uD868\uDEB4\uD850\uDF64\uD863\uDC2B\uD85B\uDDA2\uD864\uDC8B\uD852\uDD75\uD852\uDDBB\uD852\uDDF8\uD850\uDF48\uD852\uDE51\uD862\uDFDA\uD846\uDCFA\uD862\uDD7E\uD863\uDE36\uD862\uDE44\uD862\uDD6C\uD851\uDCB9\uD851\uDC73\uD850\uDFF8\uD845\uDFEF\uD846\uDCBE\uD84D\uDD99\uD846\uDC85\uD855\uDC2F\uD845\uDFF8\uD845\uDEFB\uD846\uDC39\uD845\uDF74\uD846\uDCD1\uD857\uDF4B\uD845\uDEC0\uD852\uDE25\uD844\uDFFE\uD844\uDEA8"],["9240","\uD844\uDFC6\uD845\uDCB6\uD84D\uDEA6\uD852\uDD94\uD85C\uDD65\uD84F\uDE31\uD855\uDD5C\uD84F\uDEFB\uD85C\uDC52\uD84D\uDEEE\uD866\uDD9D\uD85B\uDF26\uD846\uDD22\uD84D\uDF3F\uD850\uDCE1\uD850\uDC8B\uD850\uDD0F\uD85B\uDC21\uD859\uDEB1\uD843\uDFDF\uD842\uDFA8\uD843\uDE0D\uD862\uDF13\uD851\uDC36\uD841\uDC65\uD840\uDF7F\uD855\uDE51\uD840\uDDAB\uD840\uDFCB\uD840\uDF0A\uD841\uDC14\uD840\uDEC0\uD863\uDEB3\uD840\uDE75\uD840\uDE0C"],["92a1","\uD852\uDE0E\uD84F\uDE8A\uD84D\uDD95\uD84F\uDE39\uD84F\uDEBF\uD846\uDC84\uD84F\uDE89\uD841\uDDE0\uD841\uDCA3\uD841\uDC92\uD841\uDC91\uD862\uDE9C\uD841\uDF0E\uD842\uDC73\uD850\uDF8C\uD843\uDC20\uD852\uDDAC\uD844\uDCE4\uD843\uDE1D\uD852\uDEBC\uD850\uDC8D\uD850\uDCC9\uD840\uDF45\uD842\uDFC6\uD862\uDE46\uD845\uDEFA\uD845\uDF6F\uD845\uDF10\uD856\uDD46\uD846\uDDF3\uD846\uDC61\uD850\uDE95\uD857\uDE83"],["9340","\uD862\uDFD7\uD841\uDC13\uD844\uDF03\uD862\uDDFB\uD846\uDD96\uD846\uDD7C\uD84E\uDEEE\uD846\uDD03\uD846\uDD04\uD846\uDCA0\uD845\uDEFE\uD862\uDE47\uD847\uDDBA\uD84D\uDC72\uD862\uDDA8\uD846\uDD27\uD845\uDFAB\uD845\uDF3B\uD85D\uDDFD\uD84A\uDC60\uD849\uDE2B\uD849\uDDAF\uD849\uDDBE\uD864\uDC88\uD85B\uDF73\uD840\uDC3E\uD840\uDC46\uD849\uDE1B\uD84B\uDC9B\uD84B\uDD07\uD851\uDED4\uD864\uDD4D"],["93a1","\uD851\uDE65\uD84A\uDF6A\uD84A\uDF22\uD84D\uDC50\uD866\uDCEA\uD84B\uDE78\uD869\uDC5B\uD852\uDDE3\uD84B\uDD67\uD84B\uDCA1\uD84C\uDC8E\uD84C\uDEAD\uD852\uDD89\uD84C\uDEAB\uD84C\uDEE0\uD846\uDCD9\uD865\uDC3F\uD84C\uDE89\uD84C\uDDB3\uD855\uDD84\uD862\uDF22\uD855\uDD8F\uD845\uDEFC\uD855\uDD5B\uD855\uDC25\uD84C\uDD03\uD846\uDC2A\uD84C\uDE34\uD84C\uDE0F\uD84C\uDD82\uD850\uDEC9\uD85B\uDD24\uD85E\uDC70\uD847\uDDEB\uD84C\uDED2\uD84C\uDEE1\uD856\uDC72\uD84E\uDC3A\uD84D\uDFBC\uD84D\uDFA2\uD84C\uDFFE\uD851\uDE2A\uD84D\uDFD5\uD851\uDC87\uD846\uDD12\uD84F\uDFC0\uD84F\uDC9A\uD862\uDFEA\uD862\uDECB"],["9440","\uD860\uDC1E\uD862\uDDDC\uD852\uDDEC\uD84F\uDF7F\uD850\uDC3C\uD850\uDF1A\uD850\uDE76\uD851\uDF8F\uD851\uDF25\uD852\uDEA4\uD841\uDDEB\uD84F\uDEF8\uD84D\uDE5F\uD852\uDE4A\uD852\uDD17\uD857\uDFE1\uD852\uDEDF\uD863\uDC23\uD84F\uDF35\uD85B\uDDEA\uD853\uDCD9\uD853\uDD06\uD869\uDDC6\uD862\uDECC\uD852\uDDAB\uD852\uDD8E"],["94a1","\uD852\uDE4E\uD852\uDDC5\uD852\uDCF3\uD862\uDEE3\uD846\uDC64\uD854\uDE21\uD854\uDDE7\uD84C\uDE32\uD851\uDE97\uD84D\uDF81\uD852\uDCF0\uD852\uDEBA\uD852\uDEC7\uD852\uDE96\uD858\uDDAE\uD855\uDD81\uD85D\uDF41\uD855\uDEE3\uD84F\uDEFA\uD845\uDEE6\uD843\uDD4C\uD852\uDD8C\uD840\uDE99\uD84F\uDDBA\uD845\uDF6E\uD840\uDDD4\uD843\uDC0D\uD849\uDEF5\uD856\uDEAF\uD856\uDE9C\uD840\uDE5B\uD856\uDFC6\uD856\uDFB3\uD857\uDEBC\uD857\uDEA6\uD852\uDDF9\uD845\uDFB0\uD858\uDE61"],["9540","\uD858\uDD5C\uD85E\uDF48\uD857\uDE82\uD85A\uDF75\uD842\uDD16\uD840\uDC4E\uD84D\uDDCF\uD859\uDC12\uD858\uDFF8\uD852\uDD62\uD842\uDC2C\uD856\uDEE9\uD857\uDD43\uD857\uDE0E\uD84D\uDC3F\uD852\uDDF7\uD859\uDDAD\uD859\uDDA0\uD85C\uDD27\uD85B\uDCD1\uD859\uDFB4\uD85A\uDE42\uD85A\uDE51\uD85B\uDDA7\uD85C\uDE1B\uD846\uDC40\uD846\uDCA1\uD846\uDCD8\uD87E\uDDBC\uD84F\uDD8F\uD85D\uDC22"],["95a1","\uD855\uDE83\uD85D\uDF85\uD85D\uDF84\uD862\uDFF5\uD862\uDFD9\uD862\uDF9C\uD862\uDDF9\uD865\uDC48\uD850\uDE84\uD846\uDC45\uD85F\uDDDC\uD853\uDC09\uD848\uDF21\uD845\uDFDA\uD852\uDD2F\uD862\uDE4B\uD862\uDEFC\uD863\uDC1D\uD863\uDC3B\uD863\uDD34\uD852\uDCFF\uD852\uDE42\uD850\uDFEA\uD84C\uDE25\uD863\uDEE7\uD863\uDE66\uD863\uDE65\uD852\uDDED\uD852\uDE78\uD84F\uDFEE\uD864\uDCB0"],["9640","\uD864\uDC93\uD855\uDFDF\uD862\uDD89\uD863\uDC26\uD862\uDF2F\uD858\uDFBE\uD850\uDE1B\uD843\uDF26\uD862\uDFC5\uD852\uDEB2\uD865\uDCDA\uD865\uDDD7\uD862\uDF50\uD852\uDE67\uD862\uDF64\uD862\uDE45\uD85E\uDF06\uD862\uDF65\uD856\uDCC8\uD866\uDCF1\uD866\uDD48\uD844\uDF02\uD852\uDDB8"],["96a1","\uD845\uDCE8\uD849\uDF1F\uD84F\uDDB8\uD849\uDF81\uD84A\uDD6B\uD867\uDE2D\uD868\uDDF5\uD868\uDCFE\uD850\uDD04\uD868\uDDB4\uD868\uDCED\uD868\uDCF3\uD866\uDD2F\uD85B\uDE12\uD85B\uDFDF\uD85A\uDF82\uD85B\uDDA4\uD85B\uDE84\uD85B\uDDF0\uD85B\uDE00\uD84D\uDFD7\uD858\uDC64\uD84D\uDD9C\uD84D\uDE40\uD852\uDDDE\uD840\uDEBF\uD855\uDD5D\uD845\uDF57\uD84C\uDDC9\uD852\uDD41\uD850\uDDB5\uD850\uDDAC\uD85B\uDC40\uD853\uDF97\uD845\uDFB5\uD862\uDE49"],["9740","\uD851\uDC88\uD862\uDDFC\uD846\uDCD6\uD843\uDF1D\uD85B\uDCC0\uD845\uDC13\uD850\uDEFA\uD84B\uDC26\uD850\uDFC1\uD84F\uDDB7\uD859\uDF41\uD858\uDD5B\uD858\uDCA4\uD852\uDDB9\uD852\uDD8B\uD862\uDDFA\uD862\uDF63\uD846\uDC9F\uD852\uDEB3\uD852\uDE3E\uD852\uDE94\uD845\uDFD9\uD852\uDE66\uD840\uDFA7\uD845\uDC24\uD852\uDDE5\uD852\uDD16\uD852\uDD76\uD841\uDCFE\uD862\uDECE\uD862\uDE16\uD862\uDFE7\uD855\uDDD5\uD862\uDE82"],["97a1","\uD852\uDD43\uD843\uDCFF\uD841\uDE1A\uD842\uDFEB\uD843\uDCB8\uD845\uDFFA\uD845\uDEC2\uD852\uDE50\uD846\uDC52\uD862\uDEC0\uD852\uDDAD\uD846\uDCBF\uD846\uDC83\uD85D\uDC84\uD84F\uDD5B\uD862\uDE81\uD846\uDC62\uD842\uDEB4\uD844\uDF9C\uD860\uDE18\uD864\uDCE4\uD85F\uDE4F\uD84F\uDFED\uD84F\uDE2D\uD840\uDFF5\uD863\uDC1C\uD85A\uDFC0\uD845\uDC52\uD850\uDF62\uD852\uDE71\uD84B\uDFE3\uD844\uDEB0\uD848\uDFBD\uD844\uDF98\uD84D\uDCE5\uD85E\uDFF4\uD84D\uDEDF\uD862\uDE83\uD84D\uDFD6\uD84C\uDFFA\uD853\uDC9F\uD84D\uDEAD\uD85B\uDCB7"],["9840","\uD85B\uDD26\uD85B\uDD51\uD85B\uDC82\uD85B\uDFDE\uD85C\uDD09\uD845\uDF3A\uD85B\uDC80\uD85C\uDC53\uD845\uDFDB\uD845\uDFB3\uD846\uDD05\uD850\uDDFC\uD845\uDF3C\uD850\uDEA5\uD850\uDE93\uD84F\uDEF9\uD85D\uDF36\uD851\uDC5B\uD850\uDECA\uD850\uDE59\uD862\uDDE1\uD85B\uDD28\uD851\uDCCE\uD85F\uDE4D\uD850\uDFBD\uD850\uDE56\uD844\uDF04\uD850\uDFE9\uD87E\uDC25\uD852\uDE4F\uD852\uDE5D\uD845\uDFDF"],["98a1","\uD84E\uDEFA\uD84C\uDF00\uD840\uDE14\uD842\uDCD5\uD841\uDE19\uD847\uDF9E\uD868\uDEB6\uD864\uDD5B\uD862\uDE59\uD865\uDC20\uD85E\uDEF4\uD855\uDEF6\uD85E\uDF18\uD852\uDCF2\uD853\uDF5C\uD855\uDD35"],["9940","\uD843\uDCCF"],["99a1","\uD85E\uDD67"],["9a40","\uD846\uDFC2"],["9aa1","\uD840\uDC94\uD840\uDEB7\uD840\uDFA0\uD841\uDCD7\uD841\uDDD5\uD841\uDE15\uD841\uDE76\uD845\uDEBA\uD842\uDEC2\uD842\uDECD\uD842\uDFBF\uD87E\uDC3B\uD842\uDFCB\uD842\uDFFB\uD843\uDC3B\uD843\uDC53\uD843\uDC65\uD843\uDC7C\uD843\uDC8D\uD843\uDCB5\uD843\uDCDD\uD843\uDCED\uD843\uDD6F\uD843\uDDB2\uD843\uDDC8\uD843\uDE04\uD843\uDE0E\uD843\uDED7\uD843\uDF90\uD843\uDF2D\uD843\uDE73\uD843\uDFBC\uD844\uDC5C\uD844\uDC4F\uD844\uDC76\uD844\uDC7B\uD844\uDC88\uD844\uDC96\uD844\uDCBF\uD844\uDCD3\uD844\uDD2F\uD844\uDD3B\uD844\uDEE3\uD844\uDF75\uD844\uDF36\uD845\uDD77\uD845\uDE19\uD845\uDFC3\uD845\uDFC7\uD846\uDC2D\uD846\uDD6A"],["9b40","\uD846\uDE2D\uD846\uDE45\uD847\uDC2A\uD847\uDC70\uD847\uDCAC\uD847\uDEC8\uD847\uDED5\uD847\uDF15\uD848\uDC45\uD848\uDE7C\uD848\uDFD7\uD848\uDFFA\uD849\uDF2A\uD84A\uDC71\uD84A\uDD4F\uD84A\uDD67\uD84A\uDD93\uD84A\uDED5\uD84A\uDEE8\uD84A\uDF0E\uD84A\uDF3F\uD84B\uDC4C"],["9b62","\uD84B\uDC88\uD84B\uDCB7\uD856\uDFE8\uD84B\uDD08\uD84B\uDD12\uD84B\uDDB7\uD84B\uDD95\uD84B\uDE42\uD84B\uDF74\uD84B\uDFCC\uD84C\uDC33\uD84C\uDC66\uD84C\uDF1F\uD84C\uDFDE\uD85E\uDE79\uD84D\uDD67\uD84D\uDDF3\uD852\uDDBA\uD84D\uDE1A\uD84D\uDF16\uD840\uDF46"],["9ba1","\uD84E\uDEA7\uD85D\uDE57\uD857\uDFE2\uD84F\uDE11\uD84F\uDEB9\uD85D\uDDFE\uD848\uDC9A\uD850\uDD19\uD862\uDE9A\uD850\uDEEE\uD850\uDF0D\uD850\uDC3B\uD850\uDF34\uD850\uDF96\uD852\uDE45\uD841\uDDCA\uD841\uDE11\uD847\uDEA8\uD84F\uDCFF\uD851\uDC04\uD851\uDCD6\uD851\uDE74\uD851\uDF2F\uD861\uDDE8\uD866\uDDC9\uD848\uDDC3\uD862\uDF4E\uD852\uDC12\uD852\uDCFB\uD852\uDE15\uD852\uDEC0\uD843\uDC78\uD853\uDEA5\uD853\uDF86\uD841\uDF79\uD854\uDC2C\uD854\uDE99\uD855\uDC19\uD84F\uDF4A\uD852\uDEA7\uD855\uDC46\uD855\uDC6E\uD85A\uDF52\uD855\uDD3F\uD85D\uDE32\uD855\uDD5E\uD855\uDD62\uD855\uDD66\uD855\uDFC7\uD852\uDD3F\uD856\uDC5D\uD84C\uDFCC\uD856\uDD03\uD862\uDD48\uD856\uDEAE\uD856\uDF89\uD857\uDC06\uD847\uDD90\uD858\uDD02\uD85F\uDC12\uD858\uDDB2\uD853\uDF9A\uD859\uDC02\uD859\uDC4A"],["9c40","\uD85A\uDFF7\uD859\uDC84\uD846\uDD1C\uD852\uDDF6\uD859\uDC88\uD84F\uDFEF\uD859\uDD12\uD859\uDDBF\uD859\uDEB5\uD849\uDF1B\uD855\uDFE1\uD87E\uDCCD\uD851\uDD21\uD859\uDEFC\uD852\uDD34\uD85B\uDCBD\uD859\uDF99\uD85A\uDC6E\uD859\uDC11\uD85A\uDC5E\uD85A\uDCC7\uD864\uDCC0\uD842\uDE11\uD85A\uDD26\uD85A\uDD39\uD85A\uDDFA\uD85A\uDE2D\uD859\uDC69\uD840\uDC21\uD85A\uDE34\uD85A\uDF5B\uD84D\uDD19\uD85A\uDF9D\uD85B\uDCA4\uD85B\uDDAE"],["9ca1","\uD849\uDD8D\uD85C\uDC4B\uD85C\uDDCD\uD85C\uDE80\uD85C\uDE85\uD848\uDD7A\uD85C\uDE8B\uD85C\uDEE6\uD852\uDDD0\uD85D\uDC50\uD843\uDEF8\uD84A\uDD26\uD861\uDC73\uD845\uDFB1\uD852\uDE2A\uD846\uDC20\uD867\uDCAD\uD866\uDCA4\uD85D\uDFCC\uD85E\uDC58\uD845\uDE0A\uD84D\uDF2F\uD860\uDCE8\uD844\uDFC5\uD85E\uDDDD\uD864\uDDA8\uD85C\uDCAF\uD862\uDDAB\uD85E\uDDFD\uD85E\uDE0A\uD85E\uDF0B\uD85F\uDD66\uD850\uDD7A\uD860\uDC09\uD868\uDEDF\uD860\uDF18\uD85B\uDE07\uD860\uDD6F\uD860\uDC23\uD85A\uDDB5\uD844\uDFED\uD84C\uDE2F\uD860\uDC48\uD863\uDC30\uD860\uDC83\uD862\uDD49\uD852\uDD88\uD852\uDEA5\uD84F\uDF81\uD860\uDC90\uD860\uDCF4\uD860\uDD2E\uD847\uDFA1\uD860\uDD4F"],["9d40","\uD860\uDD89\uD860\uDDAF\uD860\uDE1A\uD860\uDF06\uD860\uDF2F\uD860\uDF8A\uD861\uDC68\uD861\uDEAA\uD862\uDD56\uD862\uDDB8\uD862\uDDE7\uD862\uDDE8\uD862\uDF46\uD862\uDFD4\uD863\uDC09\uD863\uDFC5\uD864\uDCEC\uD864\uDD10\uD864\uDD3C\uD864\uDD5E\uD852\uDECA\uD865\uDCE7\uD865\uDDE9\uD865\uDDB0\uD865\uDDB8\uD865\uDF32\uD866\uDCD1\uD866\uDD49\uD866\uDD6A\uD866\uDDC3\uD866\uDE28\uD866\uDF0E\uD867\uDD5A\uD867\uDD9B\uD867\uDEF8\uD867\uDF23\uD868\uDE93\uD868\uDEFF\uD869\uDDCB\uD843\uDC9C"],["9da1","\uD849\uDCB0\uD852\uDE93\uD862\uDF2C\uD85E\uDC9D\uD845\uDFF5\uD860\uDC24\uD862\uDF6C\uD862\uDF99\uD85E\uDE3E\uD859\uDEAF\uD85D\uDE55\uD84F\uDCB7\uD855\uDE35\uD856\uDD56\uD857\uDE81\uD858\uDE58\uD843\uDE6D\uD84F\uDE88\uD853\uDC9E\uD845\uDFF6\uD846\uDC7B\uD857\uDC4A\uD854\uDF11\uD867\uDD98\uD857\uDED8\uD84F\uDD40\uD843\uDFEA\uD843\uDD49\uD84D\uDEBA\uD843\uDE9D\uD860\uDEE2\uD843\uDC41\uD843\uDC96\uD854\uDD48\uD843\uDE76\uD84B\uDC62"],["9e40","\uD843\uDEA2\uD844\uDC75\uD84A\uDF43\uD84B\uDEB3\uD843\uDDA7\uD85A\uDC8A\uD844\uDCC1\uD851\uDF06\uD85A\uDC93\uD849\uDEF4\uD85F\uDD2F\uD850\uDDA3\uD85F\uDD73\uD85B\uDED0\uD85C\uDEB6\uD844\uDDD9\uD84F\uDCFC\uD869\uDEA9\uD843\uDEAC\uD843\uDEF9\uD847\uDCA2\uD853\uDFC2\uD85F\uDFF9\uD843\uDFEB"],["9ea1","\uD84B\uDDA0\uD851\uDFE0\uD867\uDD7C\uD843\uDFEC\uD843\uDE0A\uD85D\uDDA3\uD843\uDFED"],["9ead","\uD858\uDC48\uD844\uDD87\uD851\uDE18\uD852\uDF6E\uD856\uDE95\uD842\uDD79"],["9ec5","\uD849\uDC65\uD867\uDEAC\uD84F\uDCFE\uD867\uDF30\uD853\uDFA9\uD865\uDD9E\uD867\uDFDE\uD84F\uDDB6\uD85C\uDEB2\uD859\uDFB3\uD84D\uDF20\uD84F\uDEF7\uD84F\uDE2C\uD841\uDC8E\uD843\uDEB6\uD85F\uDF2E\uD869\uDC34\uD84C\uDCDA\uD850\uDFF2"],["9ef5","\uD844\uDEA9\uD852\uDD63\uD867\uDE06\uD85C\uDCAE"],["9f40","\uD845\uDF6C\uD865\uDCD0\uD858\uDF35\uD85C\uDD64\uD843\uDD28\uD85B\uDD22\uD852\uDEE2\uD843\uDD71"],["9f4f","\uD847\uDF0F\uD847\uDDD1\uD852\uDD3E"],["9fa1","\uD845\uDF6D"],["9fae",""],["9fb2","\uD863\uDE97\uD85B\uDD23\uD840\uDFFC\uD857\uDC21\uD84F\uDCFD"],["9fc1","\uD852\uDD19\uD843\uDCD4"],["9fc9","\uD840\uDDF2"],["9fdb",""],["9fe7",""],["9feb","\uD869\uDE4A"],["9ff0","\uD860\uDF7D\uD852\uDE77"],["a040","\uD862\uDE5A\uD868\uDEB2\uD87E\uDC40\uD852\uDEBB"],["a055","\uD846\uDC3B\uD85B\uDE05"],["a058","\uD849\uDD1B"],["a05b",""],["a063","\uD858\uDD59"],["a073","\uD84C\uDFF5"],["a0a1","\uD862\uDFC2\uD863\uDE39"],["a0a6","\uD847\uDD46\uD843\uDF3B"],["a0ae",""],["a0b0","\uD857\uDF1A\uD85D\uDC86\uD859\uDFCC\uD85B\uDED1"],["a0d4","\uD850\uDC11"],["a0e2","\uD862\uDF2D\uD84F\uDCC7\uD857\uDED7\uD85D\uDE56\uD855\uDD31\uD846\uDD44\uD844\uDEFE\uD866\uDD03\uD85B\uDDDC\uD85C\uDCAD\uD858\uDDAD\uD862\uDE0F\uD84D\uDE77\uD840\uDCEE\uD85A\uDC46\uD853\uDF0E\uD858\uDF4C\uD858\uDE6B"],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"\xa8",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,"\uD840\uDCCC\uD840\uDC8A"],["c8a1","\uD85D\uDE07"],["c8cd",""],["c8f5","\xf8"],["f9fe",""],["fa40","\uD841\uDD47\uD841\uDDDF\uD84F\uDFC5\uD852\uDD42\uD862\uDDE4\uD846\uDDDB\uD84F\uDCC8\uD852\uDD33\uD862\uDDAA\uD840\uDEA0\uD85A\uDFB3\uD844\uDF05\uD849\uDCED\uD85B\uDD29\uD85E\uDE84\uD84D\uDE00\uD852\uDEB1\uD849\uDD13\uD840\uDF7E\uD840\uDF80\uD840\uDF47\uD841\uDC1F\uD852\uDDA4\uD841\uDC87\uD84C\uDFB4\uD842\uDFFF\uD848\uDCFC\uD840\uDEE5\uD849\uDD30\uD841\uDD8E\uD84C\uDE33\uD846\uDD83\uD841\uDDB3\uD84F\uDC99"],["faa1","\uD852\uDEA6\uD84D\uDF2D\uD85A\uDF13\uD862\uDEDE\uD84F\uDF80\uD842\uDD54\uD84F\uDFEC\uD842\uDFE2\uD845\uDF26\uD845\uDEE8\uD861\uDEAB\uD845\uDD96\uD845\uDE13\uD862\uDE9B\uD855\uDF72\uD842\uDF8F\uD84F\uDFEB\uD84B\uDDA3\uD843\uDC77\uD85A\uDF53\uD843\uDD74\uD845\uDF0D\uD843\uDEDD\uD843\uDD4D"],["fb40","\uD862\uDDBC\uD849\uDE98\uD846\uDCD7\uD850\uDC3A\uD851\uDC35\uD844\uDCB4\uD84C\uDE8A\uD862\uDF66\uD844\uDE4F\uD850\uDDA5\uD85B\uDC7E\uD845\uDC16\uD845\uDC54\uD850\uDF63\uD852\uDFF5\uD844\uDE3C\uD868\uDD50\uD850\uDE78"],["fba1","\uD845\uDE3E\uD845\uDE92\uD843\uDD4E\uD85B\uDC81\uD85B\uDD2A\uD845\uDFDC\uD845\uDFFB\uD845\uDFB2\uD85B\uDDA6\uD846\uDC28\uD845\uDED5\uD85B\uDE45\uD852\uDDA9\uD85B\uDFA1\uD849\uDD54\uD846\uDD11\uD845\uDEB8\uD85E\uDE0E\uD840\uDE04\uD846\uDE34\uD856\uDDCC\uD841\uDDA5\uD846\uDF44\uD847\uDCA5\uD85A\uDF28\uD847\uDDF9\uD847\uDE37\uD847\uDEA4\uD852\uDD01\uD848\uDC49\uD848\uDD73\uD851\uDCBC\uD843\uDCD3\uD845\uDF71\uD861\uDC82"],["fc40","\uD840\uDDC1\uD87E\uDC94\uD844\uDF3A\uD85A\uDC88\uD848\uDFD0\uD849\uDC71\uD85B\uDE6E\uD862\uDE36\uD854\uDE50\uD847\uDF6A\uD85C\uDCF8\uD849\uDE68\uD840\uDE9E\uD862\uDE29\uD846\uDC77\uD849\uDFB4\uD852\uDD82\uD852\uDD8F\uD85E\uDE53\uD87E\uDCA6\uD85B\uDED2\uD841\uDE56\uD84F\uDFB7"],["fca1","\uD84A\uDC5F\uD862\uDF9D\uD866\uDD5D\uD84A\uDD80\uD84A\uDCC1\uD840\uDD18\uD845\uDF70\uD84B\uDE0D\uD852\uDDDF\uD844\uDF8E\uD845\uDFFC\uD84B\uDE36\uD850\uDC8C\uD855\uDF1D\uD852\uDE28\uD852\uDE23\uD84C\uDC7E\uD852\uDD40\uD846\uDC29\uD84D\uDC00\uD84C\uDDF7\uD84C\uDDF8\uD84C\uDDA4\uD84C\uDDA5\uD843\uDE75\uD854\uDDE6\uD847\uDE3D\uD84C\uDE31\uD861\uDDF4\uD84C\uDDC8\uD854\uDF13\uD84A\uDCF7\uD850\uDF9C\uD852\uDE21\uD84D\uDFC2\uD850\uDDCD\uD864\uDCED\uD84C\uDFE6\uD85B\uDDA0"],["fd40","\uD84D\uDC6F\uD862\uDEDF\uD84D\uDDCD\uD84D\uDE3C\uD862\uDE4A\uD840\uDFC9\uD84D\uDE59\uD848\uDD2A\uD84D\uDF03\uD864\uDD9C\uD842\uDD23\uD849\uDFCD\uD84E\uDEDB\uD840\uDFB5\uD846\uDD58\uD84E\uDF5A\uD84F\uDEFC\uD849\uDC8B\uD852\uDCF1\uD85A\uDF51\uD84F\uDDBC\uD84F\uDDBD\uD850\uDDA4\uD852\uDD0C\uD852\uDD00"],["fda1","\uD84F\uDCC9\uD843\uDD32\uD84C\uDDF9\uD849\uDC91\uD85B\uDD25\uD85B\uDDA1\uD85B\uDDEB\uD852\uDD7F\uD850\uDC85\uD85B\uDE72\uD85B\uDF74\uD862\uDF21\uD84F\uDE2F\uD84F\uDF82\uD84C\uDC4B\uD84F\uDE30\uD845\uDC97\uD850\uDC3D\uD864\uDD70\uD850\uDD44\uD850\uDC91\uD850\uDD55\uD850\uDC39\uD84F\uDFF0\uD84F\uDFB4\uD850\uDD3F\uD850\uDD56\uD850\uDD57\uD850\uDD40\uD858\uDDDD\uD850\uDE77\uD850\uDF65\uD850\uDEC1\uD851\uDC5A\uD852\uDE27\uD852\uDE22\uD862\uDFE8"],["fe40","\uD855\uDE05\uD852\uDD74\uD84C\uDC44\uD852\uDC23\uD862\uDC2B\uD862\uDC04\uD843\uDC3A\uD85A\uDE2E\uD850\uDDE2\uD845\uDEE7\uD852\uDE24\uD852\uDDB7\uD852\uDD8D\uD852\uDDFB\uD852\uDE26\uD841\uDDC3\uD84A\uDCAD\uD863\uDEB2\uD852\uDE8C"],["fea1","\uD850\uDD5F\uD852\uDE79\uD862\uDF8F\uD863\uDC03\uD846\uDC9E\uD846\uDD88\uD863\uDED9\uD846\uDE4B\uD863\uDEAC\uD853\uDF82\uD853\uDD13\uD858\uDFF5\uD85A\uDD11\uD85A\uDD0E\uD85B\uDF9F\uD854\uDC9D\uD854\uDD7D\uD847\uDE1C\uD854\uDE20\uD84C\uDEAC\uD862\uDD64\uD862\uDD68\uD845\uDEC1\uD844\uDF76\uD852\uDE12\uD855\uDDE0\uD85D\uDE0C\uD862\uDF2B\uD858\uDC83\uD849\uDE1C\uD856\uDC57\uD85E\uDF39\uD85C\uDD26\uD864\uDD0D"]]')},98348:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","\xb7\xa8",7,"\xb1\xd7\xf7\xb0\xa4\xa7"],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1","\xe1\xe0\xe9\xe8\xed\xec\xf3\xf2\xfa\xf9\xfc\xea"],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]]')},18378:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"\xb7\xa8\xad",9,"\xb1\xd7\xf7\xb0\xa7"],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,"\xb4\xb8\xa1\xbf\xa4\xb6\xae"],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,"\xc6\xd0\xaa"],["a8a6",""],["a8a8","\xd8\xba\xde"],["a8b1","",27,"",25,"",14,"\xbd\xbc\xbe"],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"\xe6\xf0\xf8\xdf\xfe",27,"",25,"",14,"\xb9\xb2\xb3"],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]]')},12032:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["a140","\xb7"],["a1a1","\xa7\xaf\xd7\xf7\xb1",4,""],["a240","\xb0",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]]')},3991:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["8ea1","",62],["a1a1","\xb4\xa8",9,"\xb1\xd7\xf7\xb0\xa7"],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2","\xb6"],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af","\xb8\xaf"],["8fa2c2","\xa1\xa6\xbf"],["8fa2eb","\xba\xaa\xa9\xae\xa4"],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1","\xc6"],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab","\xd8"],["8fa9af","\xde"],["8fa9c1","\xe6\xf0\xf8\xdf\xfe"],["8faaa1","\xc1\xc0\xc4\xc2\xc5\xc3\xc7\xc9\xc8\xcb\xca"],["8faaba","\xcd\xcc\xcf\xce\xd1\xd3\xd2\xd6\xd4\xd5\xda\xd9\xdc\xdb\xdd"],["8faba1","\xe1\xe0\xe4\xe2\xe5\xe3\xe7\xe9\xe8\xeb\xea"],["8fabbd","\xed\xec\xef\xee"],["8fabc5","\xf1\xf3\xf2\xf6\xf4\xf5\xfa\xf9\xfc\xfb\xfd\xff"],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]')},52061:e=>{"use strict";e.exports=JSON.parse('{"uChars":[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],"gbChars":[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189000]}')},68794:e=>{"use strict";e.exports=JSON.parse('[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93],["8135f437",""]]')},27204:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",128],["a1","",62],["8140","\xb4\xa8",9,"\xb1\xd7"],["8180","\xf7\xb0\xa7"],["81b8",""],["81c8",""],["81da",""],["81f0","\xb6"],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]]')},19337:e=>{"use strict";e.exports=JSON.parse('{"author":"Mike D Pilsbury <mike.pilsbury@gmail.com>","contributors":["Alex Robson","Arthur Schreiber","Bret Copeland <bret@atlantisflight.org> (https://github.com/bretcope)","Bryan Ross <bryan@rossipedia.com> (https://github.com/rossipedia)","Ciaran Jessup <ciaranj@gmail.com>","Cort Fritz <cfritz@caa.com>","lastonesky","Patrik Simek <patrik@patriksimek.cz>","Phil Dodderidge <pdodde@poyntz.com>","Zach Aller"],"name":"tedious","description":"A TDS driver, for connecting to MS SQLServer databases.","keywords":["sql","database","mssql","sqlserver","sql-server","tds","msnodesql","azure"],"homepage":"https://github.com/tediousjs/tedious","bugs":"https://github.com/tediousjs/tedious/issues","license":"MIT","version":"16.7.1","main":"./lib/tedious.js","repository":{"type":"git","url":"https://github.com/tediousjs/tedious.git"},"engines":{"node":">=16"},"publishConfig":{"tag":"next"},"dependencies":{"@azure/identity":"^3.4.1","@azure/keyvault-keys":"^4.4.0","@js-joda/core":"^5.5.3","bl":"^6.0.3","es-aggregate-error":"^1.0.9","iconv-lite":"^0.6.3","js-md4":"^0.3.2","jsbi":"^4.3.0","native-duplexpair":"^1.0.0","node-abort-controller":"^3.1.1","sprintf-js":"^1.1.2"},"devDependencies":{"@babel/cli":"^7.22.9","@babel/core":"^7.22.9","@babel/node":"^7.22.6","@babel/preset-env":"^7.22.9","@babel/preset-typescript":"^7.22.5","@babel/register":"^7.22.5","@types/async":"^3.2.20","@types/bl":"^5.1.0","@types/chai":"^4.3.5","@types/depd":"^1.1.32","@types/es-aggregate-error":"^1.0.2","@types/lru-cache":"^5.1.1","@types/mocha":"^10.0.1","@types/node":"^16.18.38","@types/sprintf-js":"^1.1.2","@typescript-eslint/eslint-plugin":"^6.0.0","@typescript-eslint/parser":"^6.0.0","async":"^3.2.4","babel-plugin-istanbul":"^6.1.1","chai":"^4.3.7","codecov":"^3.8.3","eslint":"^8.45.0","mitm":"^1.7.2","mocha":"^10.2.0","nyc":"^15.1.0","rimraf":"^5.0.1","semantic-release":"^19.0.3","sinon":"^15.2.0","typedoc":"^0.24.8","typescript":"^5.1.6"},"scripts":{"docs":"typedoc","lint":"eslint src test --ext .js,.ts && tsc","test":"mocha test/unit test/unit/token test/unit/tracking-buffer","test-integration":"mocha test/integration/","test-all":"mocha test/unit/ test/unit/token/ test/unit/tracking-buffer test/integration/","build":"rimraf lib && babel src --out-dir lib --extensions .js,.ts","prepublish":"npm run build","semantic-release":"semantic-release"},"babel":{"sourceMaps":"both","ignore":["./src/**/*.d.ts"],"presets":[["@babel/preset-env",{"targets":{"node":16}}],["@babel/preset-typescript",{"allowDeclareFields":true}]],"plugins":[["@babel/transform-typescript",{"allowDeclareFields":true}]]},"mocha":{"require":"test/setup.js","timeout":5000,"extension":["js","ts"]},"nyc":{"sourceMap":false,"instrument":false,"extension":[".ts"]}}')}};